pc.script.createLoadingScreen((function(t){var e,b;e=["body {","    background-color: #283538;","}","","#application-splash-wrapper {","    position: absolute;","    top: 0;","    left: 0;","    height: 100%;","    width: 100%;","    background-color: #283538;","}","","#application-splash {","    position: absolute;","    top: calc(50% - 28px);","    width: 264px;","    left: calc(50% - 132px);","}","","#application-splash img {","    width: 100%;","}","","#progress-bar-container {","    margin: 20px auto 0 auto;","    height: 2px;","    width: 100%;","    background-color: #1d292c;","}","","#progress-bar {","    width: 0%;","    height: 100%;","    background-color: #f60;","}","","@media (max-width: 480px) {","    #application-splash {","        width: 170px;","        left: calc(50% - 85px);","    }","}"].join("\n"),(b=document.createElement("style")).type="text/css",b.styleSheet?b.styleSheet.cssText=e:b.appendChild(document.createTextNode(e)),document.head.appendChild(b),function(){var t=document.createElement("div");t.id="application-splash-wrapper",document.body.appendChild(t);var e=document.createElement("div");e.id="application-splash",t.appendChild(e),e.style.display="none";var b=document.createElement("img");b.src="data:image/png;base64,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",e.appendChild(b),b.onload=function(){e.style.display="block"};var n=document.createElement("div");n.id="progress-bar-container",e.appendChild(n);var a=document.createElement("div");a.id="progress-bar",n.appendChild(a)}(),t.on("preload:end",(function(){t.off("preload:progress")})),t.on("preload:progress",(function(t){var e=document.getElementById("progress-bar");e&&(t=Math.min(1,Math.max(0,t)),e.style.width=100*t+"%")})),t.on("start",(function(){var t=document.getElementById("application-splash-wrapper");t.parentElement.removeChild(t)}))}));var KeyboardInput=pc.createScript("keyboardInput");KeyboardInput.prototype.initialize=function(){this.orbitCamera=this.entity.script.orbitCamera},KeyboardInput.prototype.postInitialize=function(){this.orbitCamera&&(this.startDistance=this.orbitCamera.distance,this.startYaw=this.orbitCamera.yaw,this.startPitch=this.orbitCamera.pitch,this.startPivotPosition=this.orbitCamera.pivotPoint.clone())},KeyboardInput.prototype.update=function(t){this.orbitCamera&&this.app.keyboard.wasPressed(pc.KEY_SPACE)&&(this.orbitCamera.reset(this.startYaw,this.startPitch,this.startDistance),this.orbitCamera.pivotPoint=this.startPivotPosition)};var OrbitCamera=pc.createScript("orbitCamera");OrbitCamera.attributes.add("autoRender",{type:"boolean",default:!0,title:"Auto Render",description:"Disable to only render when camera is moving (saves power when the camera is still)"}),OrbitCamera.attributes.add("distanceMax",{type:"number",default:0,title:"Distance Max",description:"Setting this at 0 will give an infinite distance limit"}),OrbitCamera.attributes.add("distanceMin",{type:"number",default:0,title:"Distance Min"}),OrbitCamera.attributes.add("pitchAngleMax",{type:"number",default:90,title:"Pitch Angle Max (degrees)"}),OrbitCamera.attributes.add("pitchAngleMin",{type:"number",default:-90,title:"Pitch Angle Min (degrees)"}),OrbitCamera.attributes.add("inertiaFactor",{type:"number",default:0,title:"Inertia Factor",description:"Higher value means that the camera will continue moving after the user has stopped dragging. 0 is fully responsive."}),OrbitCamera.attributes.add("focusEntity",{type:"entity",title:"Focus Entity",description:"Entity for the camera to focus on. If blank, then the camera will use the whole scene"}),OrbitCamera.attributes.add("frameOnStart",{type:"boolean",default:!0,title:"Frame on Start",description:'Frames the entity or scene at the start of the application."'}),Object.defineProperty(OrbitCamera.prototype,"distance",{get:function(){return this._targetDistance},set:function(t){this._targetDistance=this._clampDistance(t)}}),Object.defineProperty(OrbitCamera.prototype,"pitch",{get:function(){return this._targetPitch},set:function(t){this._targetPitch=this._clampPitchAngle(t)}}),Object.defineProperty(OrbitCamera.prototype,"yaw",{get:function(){return this._targetYaw},set:function(t){this._targetYaw=t;var i=(this._targetYaw-this._yaw)%360;this._targetYaw=i>180?this._yaw-(360-i):i<-180?this._yaw+(360+i):this._yaw+i}}),Object.defineProperty(OrbitCamera.prototype,"pivotPoint",{get:function(){return this._pivotPoint},set:function(t){this._pivotPoint.copy(t)}}),OrbitCamera.prototype.focus=function(t){this._buildAabb(t,0);var i=this._modelsAabb.halfExtents,e=Math.max(i.x,Math.max(i.y,i.z));e/=Math.tan(.5*this.entity.camera.fov*pc.math.DEG_TO_RAD),e*=2,this.distance=e,this._removeInertia(),this._pivotPoint.copy(this._modelsAabb.center)},OrbitCamera.distanceBetween=new pc.Vec3,OrbitCamera.prototype.resetAndLookAtPoint=function(t,i){this.pivotPoint.copy(i),this.entity.setPosition(t),this.entity.lookAt(i);var e=OrbitCamera.distanceBetween;e.sub2(i,t),this.distance=e.length(),this.pivotPoint.copy(i);var a=this.entity.getRotation();this.yaw=this._calcYaw(a),this.pitch=this._calcPitch(a,this.yaw),this._removeInertia(),this._updatePosition(),this.autoRender||(this.app.renderNextFrame=!0)},OrbitCamera.prototype.resetAndLookAtEntity=function(t,i){this._buildAabb(i,0),this.resetAndLookAtPoint(t,this._modelsAabb.center)},OrbitCamera.prototype.reset=function(t,i,e){this.pitch=i,this.yaw=t,this.distance=e,this._removeInertia(),this.autoRender||(this.app.renderNextFrame=!0)},OrbitCamera.prototype.initialize=function(){this._checkAspectRatio(),this._modelsAabb=new pc.BoundingBox,this._buildAabb(this.focusEntity||this.app.root,0),this.entity.lookAt(this._modelsAabb.center),this._pivotPoint=new pc.Vec3,this._pivotPoint.copy(this._modelsAabb.center),this._lastFramePivotPoint=this._pivotPoint.clone();var t=this.entity.getRotation();if(this._yaw=this._calcYaw(t),this._pitch=this._clampPitchAngle(this._calcPitch(t,this._yaw)),this.entity.setLocalEulerAngles(this._pitch,this._yaw,0),this._distance=0,this._targetYaw=this._yaw,this._targetPitch=this._pitch,this.frameOnStart)this.focus(this.focusEntity||this.app.root);else{var i=new pc.Vec3;i.sub2(this.entity.getPosition(),this._pivotPoint),this._distance=this._clampDistance(i.length())}this._targetDistance=this._distance,this._autoRenderDefault=this.app.autoRender,this.app.autoRender&&(this.app.autoRender=this.autoRender),this.autoRender||(this.app.renderNextFrame=!0),this.on("attr:autoRender",(function(t,i){this.app.autoRender=t,this.autoRender||(this.app.renderNextFrame=!0)}),this),this.on("attr:distanceMin",(function(t,i){this._targetDistance=this._clampDistance(this._distance)}),this),this.on("attr:distanceMax",(function(t,i){this._targetDistance=this._clampDistance(this._distance)}),this),this.on("attr:pitchAngleMin",(function(t,i){this._targetPitch=this._clampPitchAngle(this._pitch)}),this),this.on("attr:pitchAngleMax",(function(t,i){this._targetPitch=this._clampPitchAngle(this._pitch)}),this),this.on("attr:focusEntity",(function(t,i){this.frameOnStart?this.focus(t||this.app.root):this.resetAndLookAtEntity(this.entity.getPosition(),t||this.app.root)}),this),this.on("attr:frameOnStart",(function(t,i){t&&this.focus(this.focusEntity||this.app.root)}),this);var onResizeCanvas=function(){this._checkAspectRatio(),this.autoRender||(this.app.renderNextFrame=!0)};this.app.graphicsDevice.on("resizecanvas",onResizeCanvas,this),this.on("destroy",(function(){this.app.graphicsDevice.off("resizecanvas",onResizeCanvas,this),this.app.autoRender=this._defaultAutoRender}),this)},OrbitCamera.prototype.update=function(t){if(!this.autoRender){var i=Math.abs(this._targetDistance-this._distance),e=Math.abs(this._targetYaw-this._yaw),a=Math.abs(this._targetPitch-this._pitch),s=this._lastFramePivotPoint.distance(this._pivotPoint);this.app.renderNextFrame=this.app.renderNextFrame||i>.01||e>.01||a>.01||s>0}var n=0===this.inertiaFactor?1:Math.min(t/this.inertiaFactor,1);this._distance=pc.math.lerp(this._distance,this._targetDistance,n),this._yaw=pc.math.lerp(this._yaw,this._targetYaw,n),this._pitch=pc.math.lerp(this._pitch,this._targetPitch,n),this._lastFramePivotPoint.copy(this._pivotPoint),this._updatePosition()},OrbitCamera.prototype._updatePosition=function(){this.entity.setLocalPosition(0,0,0),this.entity.setLocalEulerAngles(this._pitch,this._yaw,0);var t=this.entity.getPosition();t.copy(this.entity.forward),t.scale(-this._distance),t.add(this.pivotPoint),this.entity.setPosition(t)},OrbitCamera.prototype._removeInertia=function(){this._yaw=this._targetYaw,this._pitch=this._targetPitch,this._distance=this._targetDistance},OrbitCamera.prototype._checkAspectRatio=function(){var t=this.app.graphicsDevice.height,i=this.app.graphicsDevice.width;this.entity.camera.horizontalFov=t>i},OrbitCamera.prototype._buildAabb=function(t,i){var e,a=0,s=0;if(t instanceof pc.Entity){var n=[],r=t.findComponents("render");for(a=0;a<r.length;++a)if(e=r[a].meshInstances)for(s=0;s<e.length;s++)n.push(e[s]);var h=t.findComponents("model");for(a=0;a<h.length;++a)if(e=h[a].meshInstances)for(s=0;s<e.length;s++)n.push(e[s]);for(a=0;a<n.length;a++)0===i?this._modelsAabb.copy(n[a].aabb):this._modelsAabb.add(n[a].aabb),i+=1}for(a=0;a<t.children.length;++a)i+=this._buildAabb(t.children[a],i);return i},OrbitCamera.prototype._calcYaw=function(t){var i=new pc.Vec3;return t.transformVector(pc.Vec3.FORWARD,i),Math.atan2(-i.x,-i.z)*pc.math.RAD_TO_DEG},OrbitCamera.prototype._clampDistance=function(t){return this.distanceMax>0?pc.math.clamp(t,this.distanceMin,this.distanceMax):Math.max(t,this.distanceMin)},OrbitCamera.prototype._clampPitchAngle=function(t){return pc.math.clamp(t,-this.pitchAngleMax,-this.pitchAngleMin)},OrbitCamera.quatWithoutYaw=new pc.Quat,OrbitCamera.yawOffset=new pc.Quat,OrbitCamera.prototype._calcPitch=function(t,i){var e=OrbitCamera.quatWithoutYaw,a=OrbitCamera.yawOffset;a.setFromEulerAngles(0,-i,0),e.mul2(a,t);var s=new pc.Vec3;return e.transformVector(pc.Vec3.FORWARD,s),Math.atan2(s.y,-s.z)*pc.math.RAD_TO_DEG};var TouchInput=pc.createScript("touchInput");TouchInput.attributes.add("orbitSensitivity",{type:"number",default:.4,title:"Orbit Sensitivity",description:"How fast the camera moves around the orbit. Higher is faster"}),TouchInput.attributes.add("distanceSensitivity",{type:"number",default:.2,title:"Distance Sensitivity",description:"How fast the camera moves in and out. Higher is faster"}),TouchInput.prototype.initialize=function(){this.orbitCamera=this.entity.script.orbitCamera,this.lastTouchPoint=new pc.Vec2,this.lastPinchMidPoint=new pc.Vec2,this.lastPinchDistance=0,this.orbitCamera&&this.app.touch&&(this.app.touch.on(pc.EVENT_TOUCHSTART,this.onTouchStartEndCancel,this),this.app.touch.on(pc.EVENT_TOUCHEND,this.onTouchStartEndCancel,this),this.app.touch.on(pc.EVENT_TOUCHCANCEL,this.onTouchStartEndCancel,this),this.app.touch.on(pc.EVENT_TOUCHMOVE,this.onTouchMove,this),this.on("destroy",(function(){this.app.touch.off(pc.EVENT_TOUCHSTART,this.onTouchStartEndCancel,this),this.app.touch.off(pc.EVENT_TOUCHEND,this.onTouchStartEndCancel,this),this.app.touch.off(pc.EVENT_TOUCHCANCEL,this.onTouchStartEndCancel,this),this.app.touch.off(pc.EVENT_TOUCHMOVE,this.onTouchMove,this)})))},TouchInput.prototype.getPinchDistance=function(t,i){var o=t.x-i.x,n=t.y-i.y;return Math.sqrt(o*o+n*n)},TouchInput.prototype.calcMidPoint=function(t,i,o){o.set(i.x-t.x,i.y-t.y),o.scale(.5),o.x+=t.x,o.y+=t.y},TouchInput.prototype.onTouchStartEndCancel=function(t){var i=t.touches;1==i.length?this.lastTouchPoint.set(i[0].x,i[0].y):2==i.length&&(this.lastPinchDistance=this.getPinchDistance(i[0],i[1]),this.calcMidPoint(i[0],i[1],this.lastPinchMidPoint))},TouchInput.fromWorldPoint=new pc.Vec3,TouchInput.toWorldPoint=new pc.Vec3,TouchInput.worldDiff=new pc.Vec3,TouchInput.prototype.pan=function(t){var i=TouchInput.fromWorldPoint,o=TouchInput.toWorldPoint,n=TouchInput.worldDiff,h=this.entity.camera,c=this.orbitCamera.distance;h.screenToWorld(t.x,t.y,c,i),h.screenToWorld(this.lastPinchMidPoint.x,this.lastPinchMidPoint.y,c,o),n.sub2(o,i),this.orbitCamera.pivotPoint.add(n)},TouchInput.pinchMidPoint=new pc.Vec2,TouchInput.prototype.onTouchMove=function(t){var i=TouchInput.pinchMidPoint,o=t.touches;if(1==o.length){var n=o[0];this.orbitCamera.pitch-=(n.y-this.lastTouchPoint.y)*this.orbitSensitivity,this.orbitCamera.yaw-=(n.x-this.lastTouchPoint.x)*this.orbitSensitivity,this.lastTouchPoint.set(n.x,n.y)}else if(2==o.length){var h=this.getPinchDistance(o[0],o[1]),c=h-this.lastPinchDistance;this.lastPinchDistance=h,this.orbitCamera.distance-=c*this.distanceSensitivity*.1*(.1*this.orbitCamera.distance),this.calcMidPoint(o[0],o[1],i),this.pan(i),this.lastPinchMidPoint.copy(i)}};var MouseInput=pc.createScript("mouseInput");MouseInput.attributes.add("orbitSensitivity",{type:"number",default:.3,title:"Orbit Sensitivity",description:"How fast the camera moves around the orbit. Higher is faster"}),MouseInput.attributes.add("distanceSensitivity",{type:"number",default:.15,title:"Distance Sensitivity",description:"How fast the camera moves in and out. Higher is faster"}),MouseInput.prototype.initialize=function(){if(this.orbitCamera=this.entity.script.orbitCamera,this.orbitCamera){var t=this,onMouseOut=function(o){t.onMouseOut(o)};this.app.mouse.on(pc.EVENT_MOUSEDOWN,this.onMouseDown,this),this.app.mouse.on(pc.EVENT_MOUSEUP,this.onMouseUp,this),this.app.mouse.on(pc.EVENT_MOUSEMOVE,this.onMouseMove,this),this.app.mouse.on(pc.EVENT_MOUSEWHEEL,this.onMouseWheel,this),window.addEventListener("mouseout",onMouseOut,!1),this.on("destroy",(function(){this.app.mouse.off(pc.EVENT_MOUSEDOWN,this.onMouseDown,this),this.app.mouse.off(pc.EVENT_MOUSEUP,this.onMouseUp,this),this.app.mouse.off(pc.EVENT_MOUSEMOVE,this.onMouseMove,this),this.app.mouse.off(pc.EVENT_MOUSEWHEEL,this.onMouseWheel,this),window.removeEventListener("mouseout",onMouseOut,!1)}))}this.app.mouse.disableContextMenu(),this.lookButtonDown=!1,this.panButtonDown=!1,this.lastPoint=new pc.Vec2},MouseInput.fromWorldPoint=new pc.Vec3,MouseInput.toWorldPoint=new pc.Vec3,MouseInput.worldDiff=new pc.Vec3,MouseInput.prototype.pan=function(t){var o=MouseInput.fromWorldPoint,e=MouseInput.toWorldPoint,i=MouseInput.worldDiff,s=this.entity.camera,n=this.orbitCamera.distance;s.screenToWorld(t.x,t.y,n,o),s.screenToWorld(this.lastPoint.x,this.lastPoint.y,n,e),i.sub2(e,o),this.orbitCamera.pivotPoint.add(i)},MouseInput.prototype.onMouseDown=function(t){switch(t.button){case pc.MOUSEBUTTON_LEFT:this.lookButtonDown=!0;break;case pc.MOUSEBUTTON_MIDDLE:case pc.MOUSEBUTTON_RIGHT:this.panButtonDown=!0}},MouseInput.prototype.onMouseUp=function(t){switch(t.button){case pc.MOUSEBUTTON_LEFT:this.lookButtonDown=!1;break;case pc.MOUSEBUTTON_MIDDLE:case pc.MOUSEBUTTON_RIGHT:this.panButtonDown=!1}},MouseInput.prototype.onMouseMove=function(t){pc.app.mouse;this.lookButtonDown?(this.orbitCamera.pitch-=t.dy*this.orbitSensitivity,this.orbitCamera.yaw-=t.dx*this.orbitSensitivity):this.panButtonDown&&this.pan(t),this.lastPoint.set(t.x,t.y)},MouseInput.prototype.onMouseWheel=function(t){this.orbitCamera.distance-=t.wheel*this.distanceSensitivity*(.1*this.orbitCamera.distance),t.event.preventDefault()},MouseInput.prototype.onMouseOut=function(t){this.lookButtonDown=!1,this.panButtonDown=!1};// opentype.min.js
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e=e||self).opentype={})}(this,function(O){"use strict";function e(e){if(null==this)throw TypeError();var t=String(this),r=t.length,n=e?Number(e):0;if(n!=n&&(n=0),!(n<0||r<=n)){var a,o=t.charCodeAt(n);return 55296<=o&&o<=56319&&n+1<r&&56320<=(a=t.charCodeAt(n+1))&&a<=57343?1024*(o-55296)+a-56320+65536:o}}var t;String.prototype.codePointAt||((t=function(){try{var e={},t=Object.defineProperty,r=t(e,e,e)&&t}catch(e){}return r}())?t(String.prototype,"codePointAt",{value:e,configurable:!0,writable:!0}):String.prototype.codePointAt=e);var u=0,o=-3;function r(){this.table=new Uint16Array(16),this.trans=new Uint16Array(288)}function s(e,t){this.source=e,this.sourceIndex=0,this.tag=0,this.bitcount=0,this.dest=t,this.destLen=0,this.ltree=new r,this.dtree=new r}var i=new r,l=new r,p=new Uint8Array(30),c=new Uint16Array(30),h=new Uint8Array(30),f=new Uint16Array(30),d=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),g=new r,v=new Uint8Array(320);function n(e,t,r,n){var a,o;for(a=0;a<r;++a)e[a]=0;for(a=0;a<30-r;++a)e[a+r]=a/r|0;for(o=n,a=0;a<30;++a)t[a]=o,o+=1<<e[a]}var m=new Uint16Array(16);function y(e,t,r,n){var a,o;for(a=0;a<16;++a)e.table[a]=0;for(a=0;a<n;++a)e.table[t[r+a]]++;for(a=o=e.table[0]=0;a<16;++a)m[a]=o,o+=e.table[a];for(a=0;a<n;++a)t[r+a]&&(e.trans[m[t[r+a]]++]=a)}function b(e){e.bitcount--||(e.tag=e.source[e.sourceIndex++],e.bitcount=7);var t=1&e.tag;return e.tag>>>=1,t}function S(e,t,r){if(!t)return r;for(;e.bitcount<24;)e.tag|=e.source[e.sourceIndex++]<<e.bitcount,e.bitcount+=8;var n=e.tag&65535>>>16-t;return e.tag>>>=t,e.bitcount-=t,n+r}function x(e,t){for(;e.bitcount<24;)e.tag|=e.source[e.sourceIndex++]<<e.bitcount,e.bitcount+=8;for(var r=0,n=0,a=0,o=e.tag;n=2*n+(1&o),o>>>=1,++a,r+=t.table[a],0<=(n-=t.table[a]););return e.tag=o,e.bitcount-=a,t.trans[r+n]}function T(e,t,r){var n,a,o,s,i,u;for(n=S(e,5,257),a=S(e,5,1),o=S(e,4,4),s=0;s<19;++s)v[s]=0;for(s=0;s<o;++s){var l=S(e,3,0);v[d[s]]=l}for(y(g,v,0,19),i=0;i<n+a;){var p=x(e,g);switch(p){case 16:var c=v[i-1];for(u=S(e,2,3);u;--u)v[i++]=c;break;case 17:for(u=S(e,3,3);u;--u)v[i++]=0;break;case 18:for(u=S(e,7,11);u;--u)v[i++]=0;break;default:v[i++]=p}}y(t,v,0,n),y(r,v,n,a)}function U(e,t,r){for(;;){var n,a,o,s,i=x(e,t);if(256===i)return u;if(i<256)e.dest[e.destLen++]=i;else for(n=S(e,p[i-=257],c[i]),a=x(e,r),s=o=e.destLen-S(e,h[a],f[a]);s<o+n;++s)e.dest[e.destLen++]=e.dest[s]}}function k(e){for(var t,r;8<e.bitcount;)e.sourceIndex--,e.bitcount-=8;if((t=256*(t=e.source[e.sourceIndex+1])+e.source[e.sourceIndex])!==(65535&~(256*e.source[e.sourceIndex+3]+e.source[e.sourceIndex+2])))return o;for(e.sourceIndex+=4,r=t;r;--r)e.dest[e.destLen++]=e.source[e.sourceIndex++];return e.bitcount=0,u}!function(e,t){var r;for(r=0;r<7;++r)e.table[r]=0;for(e.table[7]=24,e.table[8]=152,e.table[9]=112,r=0;r<24;++r)e.trans[r]=256+r;for(r=0;r<144;++r)e.trans[24+r]=r;for(r=0;r<8;++r)e.trans[168+r]=280+r;for(r=0;r<112;++r)e.trans[176+r]=144+r;for(r=0;r<5;++r)t.table[r]=0;for(t.table[5]=32,r=0;r<32;++r)t.trans[r]=r}(i,l),n(p,c,4,3),n(h,f,2,1),p[28]=0,c[28]=258;var a=function(e,t){var r,n,a=new s(e,t);do{switch(r=b(a),S(a,2,0)){case 0:n=k(a);break;case 1:n=U(a,i,l);break;case 2:T(a,a.ltree,a.dtree),n=U(a,a.ltree,a.dtree);break;default:n=o}if(n!==u)throw new Error("Data error")}while(!r);return a.destLen<a.dest.length?"function"==typeof a.dest.slice?a.dest.slice(0,a.destLen):a.dest.subarray(0,a.destLen):a.dest};function E(e,t,r,n,a){return Math.pow(1-a,3)*e+3*Math.pow(1-a,2)*a*t+3*(1-a)*Math.pow(a,2)*r+Math.pow(a,3)*n}function R(){this.x1=Number.NaN,this.y1=Number.NaN,this.x2=Number.NaN,this.y2=Number.NaN}function G(){this.commands=[],this.fill="black",this.stroke=null,this.strokeWidth=1}function w(e){throw new Error(e)}function L(e,t){e||w(t)}R.prototype.isEmpty=function(){return isNaN(this.x1)||isNaN(this.y1)||isNaN(this.x2)||isNaN(this.y2)},R.prototype.addPoint=function(e,t){"number"==typeof e&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=e,this.x2=e),e<this.x1&&(this.x1=e),e>this.x2&&(this.x2=e)),"number"==typeof t&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=t,this.y2=t),t<this.y1&&(this.y1=t),t>this.y2&&(this.y2=t))},R.prototype.addX=function(e){this.addPoint(e,null)},R.prototype.addY=function(e){this.addPoint(null,e)},R.prototype.addBezier=function(e,t,r,n,a,o,s,i){var u=[e,t],l=[r,n],p=[a,o],c=[s,i];this.addPoint(e,t),this.addPoint(s,i);for(var h=0;h<=1;h++){var f=6*u[h]-12*l[h]+6*p[h],d=-3*u[h]+9*l[h]-9*p[h]+3*c[h],g=3*l[h]-3*u[h];if(0!=d){var v=Math.pow(f,2)-4*g*d;if(!(v<0)){var m=(-f+Math.sqrt(v))/(2*d);0<m&&m<1&&(0===h&&this.addX(E(u[h],l[h],p[h],c[h],m)),1===h&&this.addY(E(u[h],l[h],p[h],c[h],m)));var y=(-f-Math.sqrt(v))/(2*d);0<y&&y<1&&(0===h&&this.addX(E(u[h],l[h],p[h],c[h],y)),1===h&&this.addY(E(u[h],l[h],p[h],c[h],y)))}}else{if(0==f)continue;var b=-g/f;0<b&&b<1&&(0===h&&this.addX(E(u[h],l[h],p[h],c[h],b)),1===h&&this.addY(E(u[h],l[h],p[h],c[h],b)))}}},R.prototype.addQuad=function(e,t,r,n,a,o){var s=e+2/3*(r-e),i=t+2/3*(n-t),u=s+1/3*(a-e),l=i+1/3*(o-t);this.addBezier(e,t,s,i,u,l,a,o)},G.prototype.moveTo=function(e,t){this.commands.push({type:"M",x:e,y:t})},G.prototype.lineTo=function(e,t){this.commands.push({type:"L",x:e,y:t})},G.prototype.curveTo=G.prototype.bezierCurveTo=function(e,t,r,n,a,o){this.commands.push({type:"C",x1:e,y1:t,x2:r,y2:n,x:a,y:o})},G.prototype.quadTo=G.prototype.quadraticCurveTo=function(e,t,r,n){this.commands.push({type:"Q",x1:e,y1:t,x:r,y:n})},G.prototype.close=G.prototype.closePath=function(){this.commands.push({type:"Z"})},G.prototype.extend=function(e){if(e.commands)e=e.commands;else if(e instanceof R){var t=e;return this.moveTo(t.x1,t.y1),this.lineTo(t.x2,t.y1),this.lineTo(t.x2,t.y2),this.lineTo(t.x1,t.y2),void this.close()}Array.prototype.push.apply(this.commands,e)},G.prototype.getBoundingBox=function(){for(var e=new R,t=0,r=0,n=0,a=0,o=0;o<this.commands.length;o++){var s=this.commands[o];switch(s.type){case"M":e.addPoint(s.x,s.y),t=n=s.x,r=a=s.y;break;case"L":e.addPoint(s.x,s.y),n=s.x,a=s.y;break;case"Q":e.addQuad(n,a,s.x1,s.y1,s.x,s.y),n=s.x,a=s.y;break;case"C":e.addBezier(n,a,s.x1,s.y1,s.x2,s.y2,s.x,s.y),n=s.x,a=s.y;break;case"Z":n=t,a=r;break;default:throw new Error("Unexpected path command "+s.type)}}return e.isEmpty()&&e.addPoint(0,0),e},G.prototype.draw=function(e){e.beginPath();for(var t=0;t<this.commands.length;t+=1){var r=this.commands[t];"M"===r.type?e.moveTo(r.x,r.y):"L"===r.type?e.lineTo(r.x,r.y):"C"===r.type?e.bezierCurveTo(r.x1,r.y1,r.x2,r.y2,r.x,r.y):"Q"===r.type?e.quadraticCurveTo(r.x1,r.y1,r.x,r.y):"Z"===r.type&&e.closePath()}this.fill&&(e.fillStyle=this.fill,e.fill()),this.stroke&&(e.strokeStyle=this.stroke,e.lineWidth=this.strokeWidth,e.stroke())},G.prototype.toPathData=function(o){function e(){for(var e,t=arguments,r="",n=0;n<arguments.length;n+=1){var a=t[n];0<=a&&0<n&&(r+=" "),r+=(e=a,Math.round(e)===e?""+Math.round(e):e.toFixed(o))}return r}o=void 0!==o?o:2;for(var t="",r=0;r<this.commands.length;r+=1){var n=this.commands[r];"M"===n.type?t+="M"+e(n.x,n.y):"L"===n.type?t+="L"+e(n.x,n.y):"C"===n.type?t+="C"+e(n.x1,n.y1,n.x2,n.y2,n.x,n.y):"Q"===n.type?t+="Q"+e(n.x1,n.y1,n.x,n.y):"Z"===n.type&&(t+="Z")}return t},G.prototype.toSVG=function(e){var t='<path d="';return t+=this.toPathData(e),t+='"',this.fill&&"black"!==this.fill&&(null===this.fill?t+=' fill="none"':t+=' fill="'+this.fill+'"'),this.stroke&&(t+=' stroke="'+this.stroke+'" stroke-width="'+this.strokeWidth+'"'),t+="/>"},G.prototype.toDOMElement=function(e){var t=this.toPathData(e),r=document.createElementNS("http://www.w3.org/2000/svg","path");return r.setAttribute("d",t),r};var C={fail:w,argument:L,assert:L},D=2147483648,I={},M={},B={};function A(e){return function(){return e}}M.BYTE=function(e){return C.argument(0<=e&&e<=255,"Byte value should be between 0 and 255."),[e]},B.BYTE=A(1),M.CHAR=function(e){return[e.charCodeAt(0)]},B.CHAR=A(1),M.CHARARRAY=function(e){for(var t=[],r=0;r<e.length;r+=1)t[r]=e.charCodeAt(r);return t},B.CHARARRAY=function(e){return e.length},M.USHORT=function(e){return[e>>8&255,255&e]},B.USHORT=A(2),M.SHORT=function(e){return 32768<=e&&(e=-(65536-e)),[e>>8&255,255&e]},B.SHORT=A(2),M.UINT24=function(e){return[e>>16&255,e>>8&255,255&e]},B.UINT24=A(3),M.ULONG=function(e){return[e>>24&255,e>>16&255,e>>8&255,255&e]},B.ULONG=A(4),M.LONG=function(e){return D<=e&&(e=-(2*D-e)),[e>>24&255,e>>16&255,e>>8&255,255&e]},B.LONG=A(4),M.FIXED=M.ULONG,B.FIXED=B.ULONG,M.FWORD=M.SHORT,B.FWORD=B.SHORT,M.UFWORD=M.USHORT,B.UFWORD=B.USHORT,M.LONGDATETIME=function(e){return[0,0,0,0,e>>24&255,e>>16&255,e>>8&255,255&e]},B.LONGDATETIME=A(8),M.TAG=function(e){return C.argument(4===e.length,"Tag should be exactly 4 ASCII characters."),[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3)]},B.TAG=A(4),M.Card8=M.BYTE,B.Card8=B.BYTE,M.Card16=M.USHORT,B.Card16=B.USHORT,M.OffSize=M.BYTE,B.OffSize=B.BYTE,M.SID=M.USHORT,B.SID=B.USHORT,M.NUMBER=function(e){return-107<=e&&e<=107?[e+139]:108<=e&&e<=1131?[247+((e-=108)>>8),255&e]:-1131<=e&&e<=-108?[251+((e=-e-108)>>8),255&e]:-32768<=e&&e<=32767?M.NUMBER16(e):M.NUMBER32(e)},B.NUMBER=function(e){return M.NUMBER(e).length},M.NUMBER16=function(e){return[28,e>>8&255,255&e]},B.NUMBER16=A(3),M.NUMBER32=function(e){return[29,e>>24&255,e>>16&255,e>>8&255,255&e]},B.NUMBER32=A(5),M.REAL=function(e){var t=e.toString(),r=/\.(\d*?)(?:9{5,20}|0{5,20})\d{0,2}(?:e(.+)|$)/.exec(t);if(r){var n=parseFloat("1e"+((r[2]?+r[2]:0)+r[1].length));t=(Math.round(e*n)/n).toString()}for(var a="",o=0,s=t.length;o<s;o+=1){var i=t[o];a+="e"===i?"-"===t[++o]?"c":"b":"."===i?"a":"-"===i?"e":i}for(var u=[30],l=0,p=(a+=1&a.length?"f":"ff").length;l<p;l+=2)u.push(parseInt(a.substr(l,2),16));return u},B.REAL=function(e){return M.REAL(e).length},M.NAME=M.CHARARRAY,B.NAME=B.CHARARRAY,M.STRING=M.CHARARRAY,B.STRING=B.CHARARRAY,I.UTF8=function(e,t,r){for(var n=[],a=r,o=0;o<a;o++,t+=1)n[o]=e.getUint8(t);return String.fromCharCode.apply(null,n)},I.UTF16=function(e,t,r){for(var n=[],a=r/2,o=0;o<a;o++,t+=2)n[o]=e.getUint16(t);return String.fromCharCode.apply(null,n)},M.UTF16=function(e){for(var t=[],r=0;r<e.length;r+=1){var n=e.charCodeAt(r);t[t.length]=n>>8&255,t[t.length]=255&n}return t},B.UTF16=function(e){return 2*e.length};var F={"x-mac-croatian":"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®Š™´¨≠ŽØ∞±≤≥∆µ∂∑∏š∫ªºΩžø¿¡¬√ƒ≈Ć«Č… ÀÃÕŒœĐ—“”‘’÷◊©⁄€‹›Æ»–·‚„‰ÂćÁčÈÍÎÏÌÓÔđÒÚÛÙıˆ˜¯πË˚¸Êæˇ","x-mac-cyrillic":"АБВГДЕЖЗИЙКЛМНОПРСТУФХЦЧШЩЪЫЬЭЮЯ†°Ґ£§•¶І®©™Ђђ≠Ѓѓ∞±≤≥іµґЈЄєЇїЉљЊњјЅ¬√ƒ≈∆«»… ЋћЌќѕ–—“”‘’÷„ЎўЏџ№Ёёяабвгдежзийклмнопрстуфхцчшщъыьэю","x-mac-gaelic":"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®©™´¨≠ÆØḂ±≤≥ḃĊċḊḋḞḟĠġṀæøṁṖṗɼƒſṠ«»… ÀÃÕŒœ–—“”‘’ṡẛÿŸṪ€‹›Ŷŷṫ·Ỳỳ⁊ÂÊÁËÈÍÎÏÌÓÔ♣ÒÚÛÙıÝýŴŵẄẅẀẁẂẃ","x-mac-greek":"Ä¹²É³ÖÜ΅àâä΄¨çéèêë£™îï•½‰ôö¦€ùûü†ΓΔΘΛΞΠß®©ΣΪ§≠°·Α±≤≥¥ΒΕΖΗΙΚΜΦΫΨΩάΝ¬ΟΡ≈Τ«»… ΥΧΆΈœ–―“”‘’÷ΉΊΌΎέήίόΏύαβψδεφγηιξκλμνοπώρστθωςχυζϊϋΐΰ­","x-mac-icelandic":"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûüÝ°¢£§•¶ß®©™´¨≠ÆØ∞±≤≥¥µ∂∑∏π∫ªºΩæø¿¡¬√ƒ≈∆«»… ÀÃÕŒœ–—“”‘’÷◊ÿŸ⁄€ÐðÞþý·‚„‰ÂÊÁËÈÍÎÏÌÓÔÒÚÛÙıˆ˜¯˘˙˚¸˝˛ˇ","x-mac-inuit":"ᐃᐄᐅᐆᐊᐋᐱᐲᐳᐴᐸᐹᑉᑎᑏᑐᑑᑕᑖᑦᑭᑮᑯᑰᑲᑳᒃᒋᒌᒍᒎᒐᒑ°ᒡᒥᒦ•¶ᒧ®©™ᒨᒪᒫᒻᓂᓃᓄᓅᓇᓈᓐᓯᓰᓱᓲᓴᓵᔅᓕᓖᓗᓘᓚᓛᓪᔨᔩᔪᔫᔭ… ᔮᔾᕕᕖᕗ–—“”‘’ᕘᕙᕚᕝᕆᕇᕈᕉᕋᕌᕐᕿᖀᖁᖂᖃᖄᖅᖏᖐᖑᖒᖓᖔᖕᙱᙲᙳᙴᙵᙶᖖᖠᖡᖢᖣᖤᖥᖦᕼŁł","x-mac-ce":"ÄĀāÉĄÖÜáąČäčĆćéŹźĎíďĒēĖóėôöõúĚěü†°Ę£§•¶ß®©™ę¨≠ģĮįĪ≤≥īĶ∂∑łĻļĽľĹĺŅņŃ¬√ńŇ∆«»… ňŐÕőŌ–—“”‘’÷◊ōŔŕŘ‹›řŖŗŠ‚„šŚśÁŤťÍŽžŪÓÔūŮÚůŰűŲųÝýķŻŁżĢˇ",macintosh:"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®©™´¨≠ÆØ∞±≤≥¥µ∂∑∏π∫ªºΩæø¿¡¬√ƒ≈∆«»… ÀÃÕŒœ–—“”‘’÷◊ÿŸ⁄€‹›ﬁﬂ‡·‚„‰ÂÊÁËÈÍÎÏÌÓÔÒÚÛÙıˆ˜¯˘˙˚¸˝˛ˇ","x-mac-romanian":"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®©™´¨≠ĂȘ∞±≤≥¥µ∂∑∏π∫ªºΩăș¿¡¬√ƒ≈∆«»… ÀÃÕŒœ–—“”‘’÷◊ÿŸ⁄€‹›Țț‡·‚„‰ÂÊÁËÈÍÎÏÌÓÔÒÚÛÙıˆ˜¯˘˙˚¸˝˛ˇ","x-mac-turkish":"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®©™´¨≠ÆØ∞±≤≥¥µ∂∑∏π∫ªºΩæø¿¡¬√ƒ≈∆«»… ÀÃÕŒœ–—“”‘’÷◊ÿŸĞğİıŞş‡·‚„‰ÂÊÁËÈÍÎÏÌÓÔÒÚÛÙˆ˜¯˘˙˚¸˝˛ˇ"};I.MACSTRING=function(e,t,r,n){var a=F[n];if(void 0!==a){for(var o="",s=0;s<r;s++){var i=e.getUint8(t+s);o+=i<=127?String.fromCharCode(i):a[127&i]}return o}};var N,P="function"==typeof WeakMap&&new WeakMap;function H(e){return-128<=e&&e<=127}function z(e,t,r){for(var n=0,a=e.length;t<a&&n<64&&0===e[t];)++t,++n;return r.push(128|n-1),t}function W(e,t,r){for(var n=0,a=e.length,o=t;o<a&&n<64;){var s=e[o];if(!H(s))break;if(0===s&&o+1<a&&0===e[o+1])break;++o,++n}r.push(n-1);for(var i=t;i<o;++i)r.push(e[i]+256&255);return o}function _(e,t,r){for(var n=0,a=e.length,o=t;o<a&&n<64;){var s=e[o];if(0===s)break;if(H(s)&&o+1<a&&H(e[o+1]))break;++o,++n}r.push(64|n-1);for(var i=t;i<o;++i){var u=e[i];r.push(u+65536>>8&255,u+256&255)}return o}M.MACSTRING=function(e,t){var r=function(e){if(!N)for(var t in N={},F)N[t]=new String(t);var r=N[e];if(void 0!==r){if(P){var n=P.get(r);if(void 0!==n)return n}var a=F[e];if(void 0!==a){for(var o={},s=0;s<a.length;s++)o[a.charCodeAt(s)]=s+128;return P&&P.set(r,o),o}}}(t);if(void 0!==r){for(var n=[],a=0;a<e.length;a++){var o=e.charCodeAt(a);if(128<=o&&void 0===(o=r[o]))return;n[a]=o}return n}},B.MACSTRING=function(e,t){var r=M.MACSTRING(e,t);return void 0!==r?r.length:0},M.VARDELTAS=function(e){for(var t=0,r=[];t<e.length;){var n=e[t];t=(0===n?z:-128<=n&&n<=127?W:_)(e,t,r)}return r},M.INDEX=function(e){for(var t=1,r=[t],n=[],a=0;a<e.length;a+=1){var o=M.OBJECT(e[a]);Array.prototype.push.apply(n,o),t+=o.length,r.push(t)}if(0===n.length)return[0,0];for(var s=[],i=1+Math.floor(Math.log(t)/Math.log(2))/8|0,u=[void 0,M.BYTE,M.USHORT,M.UINT24,M.ULONG][i],l=0;l<r.length;l+=1){var p=u(r[l]);Array.prototype.push.apply(s,p)}return Array.prototype.concat(M.Card16(e.length),M.OffSize(i),s,n)},B.INDEX=function(e){return M.INDEX(e).length},M.DICT=function(e){for(var t=[],r=Object.keys(e),n=r.length,a=0;a<n;a+=1){var o=parseInt(r[a],0),s=e[o];t=(t=t.concat(M.OPERAND(s.value,s.type))).concat(M.OPERATOR(o))}return t},B.DICT=function(e){return M.DICT(e).length},M.OPERATOR=function(e){return e<1200?[e]:[12,e-1200]},M.OPERAND=function(e,t){var r=[];if(Array.isArray(t))for(var n=0;n<t.length;n+=1)C.argument(e.length===t.length,"Not enough arguments given for type"+t),r=r.concat(M.OPERAND(e[n],t[n]));else if("SID"===t)r=r.concat(M.NUMBER(e));else if("offset"===t)r=r.concat(M.NUMBER32(e));else if("number"===t)r=r.concat(M.NUMBER(e));else{if("real"!==t)throw new Error("Unknown operand type "+t);r=r.concat(M.REAL(e))}return r},M.OP=M.BYTE,B.OP=B.BYTE;var q="function"==typeof WeakMap&&new WeakMap;function X(e,t,r){for(var n=0;n<t.length;n+=1){var a=t[n];this[a.name]=a.value}if(this.tableName=e,this.fields=t,r)for(var o=Object.keys(r),s=0;s<o.length;s+=1){var i=o[s],u=r[i];void 0!==this[i]&&(this[i]=u)}}function V(e,t,r){void 0===r&&(r=t.length);var n=new Array(t.length+1);n[0]={name:e+"Count",type:"USHORT",value:r};for(var a=0;a<t.length;a++)n[a+1]={name:e+a,type:"USHORT",value:t[a]};return n}function j(e,t,r){var n=t.length,a=new Array(n+1);a[0]={name:e+"Count",type:"USHORT",value:n};for(var o=0;o<n;o++)a[o+1]={name:e+o,type:"TABLE",value:r(t[o],o)};return a}function Y(e,t,r){var n=t.length,a=[];a[0]={name:e+"Count",type:"USHORT",value:n};for(var o=0;o<n;o++)a=a.concat(r(t[o],o));return a}function Z(e){1===e.format?X.call(this,"coverageTable",[{name:"coverageFormat",type:"USHORT",value:1}].concat(V("glyph",e.glyphs))):C.assert(!1,"Can't create coverage table format 2 yet.")}function Q(e){X.call(this,"scriptListTable",Y("scriptRecord",e,function(e,t){var r=e.script,n=r.defaultLangSys;return C.assert(!!n,"Unable to write GSUB: script "+e.tag+" has no default language system."),[{name:"scriptTag"+t,type:"TAG",value:e.tag},{name:"script"+t,type:"TABLE",value:new X("scriptTable",[{name:"defaultLangSys",type:"TABLE",value:new X("defaultLangSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:n.reqFeatureIndex}].concat(V("featureIndex",n.featureIndexes)))}].concat(Y("langSys",r.langSysRecords,function(e,t){var r=e.langSys;return[{name:"langSysTag"+t,type:"TAG",value:e.tag},{name:"langSys"+t,type:"TABLE",value:new X("langSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:r.reqFeatureIndex}].concat(V("featureIndex",r.featureIndexes)))}]})))}]}))}function K(e){X.call(this,"featureListTable",Y("featureRecord",e,function(e,t){var r=e.feature;return[{name:"featureTag"+t,type:"TAG",value:e.tag},{name:"feature"+t,type:"TABLE",value:new X("featureTable",[{name:"featureParams",type:"USHORT",value:r.featureParams}].concat(V("lookupListIndex",r.lookupListIndexes)))}]}))}function J(e,r){X.call(this,"lookupListTable",j("lookup",e,function(e){var t=r[e.lookupType];return C.assert(!!t,"Unable to write GSUB lookup type "+e.lookupType+" tables."),new X("lookupTable",[{name:"lookupType",type:"USHORT",value:e.lookupType},{name:"lookupFlag",type:"USHORT",value:e.lookupFlag}].concat(j("subtable",e.subtables,t)))}))}M.CHARSTRING=function(e){if(q){var t=q.get(e);if(void 0!==t)return t}for(var r=[],n=e.length,a=0;a<n;a+=1){var o=e[a];r=r.concat(M[o.type](o.value))}return q&&q.set(e,r),r},B.CHARSTRING=function(e){return M.CHARSTRING(e).length},M.OBJECT=function(e){var t=M[e.type];return C.argument(void 0!==t,"No encoding function for type "+e.type),t(e.value)},B.OBJECT=function(e){var t=B[e.type];return C.argument(void 0!==t,"No sizeOf function for type "+e.type),t(e.value)},M.TABLE=function(e){for(var t=[],r=e.fields.length,n=[],a=[],o=0;o<r;o+=1){var s=e.fields[o],i=M[s.type];C.argument(void 0!==i,"No encoding function for field type "+s.type+" ("+s.name+")");var u=e[s.name];void 0===u&&(u=s.value);var l=i(u);"TABLE"===s.type?(a.push(t.length),t=t.concat([0,0]),n.push(l)):t=t.concat(l)}for(var p=0;p<n.length;p+=1){var c=a[p],h=t.length;C.argument(h<65536,"Table "+e.tableName+" too big."),t[c]=h>>8,t[c+1]=255&h,t=t.concat(n[p])}return t},B.TABLE=function(e){for(var t=0,r=e.fields.length,n=0;n<r;n+=1){var a=e.fields[n],o=B[a.type];C.argument(void 0!==o,"No sizeOf function for field type "+a.type+" ("+a.name+")");var s=e[a.name];void 0===s&&(s=a.value),t+=o(s),"TABLE"===a.type&&(t+=2)}return t},M.RECORD=M.TABLE,B.RECORD=B.TABLE,M.LITERAL=function(e){return e},B.LITERAL=function(e){return e.length},X.prototype.encode=function(){return M.TABLE(this)},X.prototype.sizeOf=function(){return B.TABLE(this)};var $={Table:X,Record:X,Coverage:(Z.prototype=Object.create(X.prototype)).constructor=Z,ScriptList:(Q.prototype=Object.create(X.prototype)).constructor=Q,FeatureList:(K.prototype=Object.create(X.prototype)).constructor=K,LookupList:(J.prototype=Object.create(X.prototype)).constructor=J,ushortList:V,tableList:j,recordList:Y};function ee(e,t){return e.getUint8(t)}function te(e,t){return e.getUint16(t,!1)}function re(e,t){return e.getUint32(t,!1)}function ne(e,t){return e.getInt16(t,!1)+e.getUint16(t+2,!1)/65535}var ae={byte:1,uShort:2,short:2,uLong:4,fixed:4,longDateTime:8,tag:4};function oe(e,t){this.data=e,this.offset=t,this.relativeOffset=0}oe.prototype.parseByte=function(){var e=this.data.getUint8(this.offset+this.relativeOffset);return this.relativeOffset+=1,e},oe.prototype.parseChar=function(){var e=this.data.getInt8(this.offset+this.relativeOffset);return this.relativeOffset+=1,e},oe.prototype.parseCard8=oe.prototype.parseByte,oe.prototype.parseCard16=oe.prototype.parseUShort=function(){var e=this.data.getUint16(this.offset+this.relativeOffset);return this.relativeOffset+=2,e},oe.prototype.parseSID=oe.prototype.parseUShort,oe.prototype.parseOffset16=oe.prototype.parseUShort,oe.prototype.parseShort=function(){var e=this.data.getInt16(this.offset+this.relativeOffset);return this.relativeOffset+=2,e},oe.prototype.parseF2Dot14=function(){var e=this.data.getInt16(this.offset+this.relativeOffset)/16384;return this.relativeOffset+=2,e},oe.prototype.parseOffset32=oe.prototype.parseULong=function(){var e=re(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,e},oe.prototype.parseFixed=function(){var e=ne(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,e},oe.prototype.parseString=function(e){var t=this.data,r=this.offset+this.relativeOffset,n="";this.relativeOffset+=e;for(var a=0;a<e;a++)n+=String.fromCharCode(t.getUint8(r+a));return n},oe.prototype.parseTag=function(){return this.parseString(4)},oe.prototype.parseLongDateTime=function(){var e=re(this.data,this.offset+this.relativeOffset+4);return e-=2082844800,this.relativeOffset+=8,e},oe.prototype.parseVersion=function(e){var t=te(this.data,this.offset+this.relativeOffset),r=te(this.data,this.offset+this.relativeOffset+2);return this.relativeOffset+=4,void 0===e&&(e=4096),t+r/e/10},oe.prototype.skip=function(e,t){void 0===t&&(t=1),this.relativeOffset+=ae[e]*t},oe.prototype.parseULongList=function(e){void 0===e&&(e=this.parseULong());for(var t=new Array(e),r=this.data,n=this.offset+this.relativeOffset,a=0;a<e;a++)t[a]=r.getUint32(n),n+=4;return this.relativeOffset+=4*e,t},oe.prototype.parseOffset16List=oe.prototype.parseUShortList=function(e){void 0===e&&(e=this.parseUShort());for(var t=new Array(e),r=this.data,n=this.offset+this.relativeOffset,a=0;a<e;a++)t[a]=r.getUint16(n),n+=2;return this.relativeOffset+=2*e,t},oe.prototype.parseShortList=function(e){for(var t=new Array(e),r=this.data,n=this.offset+this.relativeOffset,a=0;a<e;a++)t[a]=r.getInt16(n),n+=2;return this.relativeOffset+=2*e,t},oe.prototype.parseByteList=function(e){for(var t=new Array(e),r=this.data,n=this.offset+this.relativeOffset,a=0;a<e;a++)t[a]=r.getUint8(n++);return this.relativeOffset+=e,t},oe.prototype.parseList=function(e,t){t||(t=e,e=this.parseUShort());for(var r=new Array(e),n=0;n<e;n++)r[n]=t.call(this);return r},oe.prototype.parseList32=function(e,t){t||(t=e,e=this.parseULong());for(var r=new Array(e),n=0;n<e;n++)r[n]=t.call(this);return r},oe.prototype.parseRecordList=function(e,t){t||(t=e,e=this.parseUShort());for(var r=new Array(e),n=Object.keys(t),a=0;a<e;a++){for(var o={},s=0;s<n.length;s++){var i=n[s],u=t[i];o[i]=u.call(this)}r[a]=o}return r},oe.prototype.parseRecordList32=function(e,t){t||(t=e,e=this.parseULong());for(var r=new Array(e),n=Object.keys(t),a=0;a<e;a++){for(var o={},s=0;s<n.length;s++){var i=n[s],u=t[i];o[i]=u.call(this)}r[a]=o}return r},oe.prototype.parseStruct=function(e){if("function"==typeof e)return e.call(this);for(var t=Object.keys(e),r={},n=0;n<t.length;n++){var a=t[n],o=e[a];r[a]=o.call(this)}return r},oe.prototype.parseValueRecord=function(e){if(void 0===e&&(e=this.parseUShort()),0!==e){var t={};return 1&e&&(t.xPlacement=this.parseShort()),2&e&&(t.yPlacement=this.parseShort()),4&e&&(t.xAdvance=this.parseShort()),8&e&&(t.yAdvance=this.parseShort()),16&e&&(t.xPlaDevice=void 0,this.parseShort()),32&e&&(t.yPlaDevice=void 0,this.parseShort()),64&e&&(t.xAdvDevice=void 0,this.parseShort()),128&e&&(t.yAdvDevice=void 0,this.parseShort()),t}},oe.prototype.parseValueRecordList=function(){for(var e=this.parseUShort(),t=this.parseUShort(),r=new Array(t),n=0;n<t;n++)r[n]=this.parseValueRecord(e);return r},oe.prototype.parsePointer=function(e){var t=this.parseOffset16();if(0<t)return new oe(this.data,this.offset+t).parseStruct(e)},oe.prototype.parsePointer32=function(e){var t=this.parseOffset32();if(0<t)return new oe(this.data,this.offset+t).parseStruct(e)},oe.prototype.parseListOfLists=function(e){for(var t=this.parseOffset16List(),r=t.length,n=this.relativeOffset,a=new Array(r),o=0;o<r;o++){var s=t[o];if(0!==s)if(this.relativeOffset=s,e){for(var i=this.parseOffset16List(),u=new Array(i.length),l=0;l<i.length;l++)this.relativeOffset=s+i[l],u[l]=e.call(this);a[o]=u}else a[o]=this.parseUShortList();else a[o]=void 0}return this.relativeOffset=n,a},oe.prototype.parseCoverage=function(){var e=this.offset+this.relativeOffset,t=this.parseUShort(),r=this.parseUShort();if(1===t)return{format:1,glyphs:this.parseUShortList(r)};if(2!==t)throw new Error("0x"+e.toString(16)+": Coverage format must be 1 or 2.");for(var n=new Array(r),a=0;a<r;a++)n[a]={start:this.parseUShort(),end:this.parseUShort(),index:this.parseUShort()};return{format:2,ranges:n}},oe.prototype.parseClassDef=function(){var e=this.offset+this.relativeOffset,t=this.parseUShort();if(1===t)return{format:1,startGlyph:this.parseUShort(),classes:this.parseUShortList()};if(2===t)return{format:2,ranges:this.parseRecordList({start:oe.uShort,end:oe.uShort,classId:oe.uShort})};throw new Error("0x"+e.toString(16)+": ClassDef format must be 1 or 2.")},oe.list=function(e,t){return function(){return this.parseList(e,t)}},oe.list32=function(e,t){return function(){return this.parseList32(e,t)}},oe.recordList=function(e,t){return function(){return this.parseRecordList(e,t)}},oe.recordList32=function(e,t){return function(){return this.parseRecordList32(e,t)}},oe.pointer=function(e){return function(){return this.parsePointer(e)}},oe.pointer32=function(e){return function(){return this.parsePointer32(e)}},oe.tag=oe.prototype.parseTag,oe.byte=oe.prototype.parseByte,oe.uShort=oe.offset16=oe.prototype.parseUShort,oe.uShortList=oe.prototype.parseUShortList,oe.uLong=oe.offset32=oe.prototype.parseULong,oe.uLongList=oe.prototype.parseULongList,oe.struct=oe.prototype.parseStruct,oe.coverage=oe.prototype.parseCoverage,oe.classDef=oe.prototype.parseClassDef;var se={reserved:oe.uShort,reqFeatureIndex:oe.uShort,featureIndexes:oe.uShortList};oe.prototype.parseScriptList=function(){return this.parsePointer(oe.recordList({tag:oe.tag,script:oe.pointer({defaultLangSys:oe.pointer(se),langSysRecords:oe.recordList({tag:oe.tag,langSys:oe.pointer(se)})})}))||[]},oe.prototype.parseFeatureList=function(){return this.parsePointer(oe.recordList({tag:oe.tag,feature:oe.pointer({featureParams:oe.offset16,lookupListIndexes:oe.uShortList})}))||[]},oe.prototype.parseLookupList=function(n){return this.parsePointer(oe.list(oe.pointer(function(){var e=this.parseUShort();C.argument(1<=e&&e<=9,"GPOS/GSUB lookup type "+e+" unknown.");var t=this.parseUShort(),r=16&t;return{lookupType:e,lookupFlag:t,subtables:this.parseList(oe.pointer(n[e])),markFilteringSet:r?this.parseUShort():void 0}})))||[]},oe.prototype.parseFeatureVariationsList=function(){return this.parsePointer32(function(){var e=this.parseUShort(),t=this.parseUShort();return C.argument(1===e&&t<1,"GPOS/GSUB feature variations table unknown."),this.parseRecordList32({conditionSetOffset:oe.offset32,featureTableSubstitutionOffset:oe.offset32})})||[]};var ie={getByte:ee,getCard8:ee,getUShort:te,getCard16:te,getShort:function(e,t){return e.getInt16(t,!1)},getULong:re,getFixed:ne,getTag:function(e,t){for(var r="",n=t;n<t+4;n+=1)r+=String.fromCharCode(e.getInt8(n));return r},getOffset:function(e,t,r){for(var n=0,a=0;a<r;a+=1)n<<=8,n+=e.getUint8(t+a);return n},getBytes:function(e,t,r){for(var n=[],a=t;a<r;a+=1)n.push(e.getUint8(a));return n},bytesToString:function(e){for(var t="",r=0;r<e.length;r+=1)t+=String.fromCharCode(e[r]);return t},Parser:oe};var ue={parse:function(e,t){var r={};r.version=ie.getUShort(e,t),C.argument(0===r.version,"cmap table version should be 0."),r.numTables=ie.getUShort(e,t+2);for(var n=-1,a=r.numTables-1;0<=a;--a){var o=ie.getUShort(e,t+4+8*a),s=ie.getUShort(e,t+4+8*a+2);if(3===o&&(0===s||1===s||10===s)||0===o&&(0===s||1===s||2===s||3===s||4===s)){n=ie.getULong(e,t+4+8*a+4);break}}if(-1===n)throw new Error("No valid cmap sub-tables found.");var i=new ie.Parser(e,t+n);if(r.format=i.parseUShort(),12===r.format)!function(e,t){var r;t.parseUShort(),e.length=t.parseULong(),e.language=t.parseULong(),e.groupCount=r=t.parseULong(),e.glyphIndexMap={};for(var n=0;n<r;n+=1)for(var a=t.parseULong(),o=t.parseULong(),s=t.parseULong(),i=a;i<=o;i+=1)e.glyphIndexMap[i]=s,s++}(r,i);else{if(4!==r.format)throw new Error("Only format 4 and 12 cmap tables are supported (found format "+r.format+").");!function(e,t,r,n,a){var o;e.length=t.parseUShort(),e.language=t.parseUShort(),e.segCount=o=t.parseUShort()>>1,t.skip("uShort",3),e.glyphIndexMap={};for(var s=new ie.Parser(r,n+a+14),i=new ie.Parser(r,n+a+16+2*o),u=new ie.Parser(r,n+a+16+4*o),l=new ie.Parser(r,n+a+16+6*o),p=n+a+16+8*o,c=0;c<o-1;c+=1)for(var h=void 0,f=s.parseUShort(),d=i.parseUShort(),g=u.parseShort(),v=l.parseUShort(),m=d;m<=f;m+=1)0!==v?(p=l.offset+l.relativeOffset-2,p+=v,p+=2*(m-d),0!==(h=ie.getUShort(r,p))&&(h=h+g&65535)):h=m+g&65535,e.glyphIndexMap[m]=h}(r,i,e,t,n)}return r},make:function(e){var t,r=!0;for(t=e.length-1;0<t;--t){if(65535<e.get(t).unicode){console.log("Adding CMAP format 12 (needed!)"),r=!1;break}}var n=[{name:"version",type:"USHORT",value:0},{name:"numTables",type:"USHORT",value:r?1:2},{name:"platformID",type:"USHORT",value:3},{name:"encodingID",type:"USHORT",value:1},{name:"offset",type:"ULONG",value:r?12:20}];r||(n=n.concat([{name:"cmap12PlatformID",type:"USHORT",value:3},{name:"cmap12EncodingID",type:"USHORT",value:10},{name:"cmap12Offset",type:"ULONG",value:0}])),n=n.concat([{name:"format",type:"USHORT",value:4},{name:"cmap4Length",type:"USHORT",value:0},{name:"language",type:"USHORT",value:0},{name:"segCountX2",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]);var a,o,s,i=new $.Table("cmap",n);for(i.segments=[],t=0;t<e.length;t+=1){for(var u=e.get(t),l=0;l<u.unicodes.length;l+=1)a=i,o=u.unicodes[l],s=t,a.segments.push({end:o,start:o,delta:-(o-s),offset:0,glyphIndex:s});i.segments=i.segments.sort(function(e,t){return e.start-t.start})}i.segments.push({end:65535,start:65535,delta:1,offset:0});var p=i.segments.length,c=0,h=[],f=[],d=[],g=[],v=[],m=[];for(t=0;t<p;t+=1){var y=i.segments[t];y.end<=65535&&y.start<=65535?(h=h.concat({name:"end_"+t,type:"USHORT",value:y.end}),f=f.concat({name:"start_"+t,type:"USHORT",value:y.start}),d=d.concat({name:"idDelta_"+t,type:"SHORT",value:y.delta}),g=g.concat({name:"idRangeOffset_"+t,type:"USHORT",value:y.offset}),void 0!==y.glyphId&&(v=v.concat({name:"glyph_"+t,type:"USHORT",value:y.glyphId}))):c+=1,r||void 0===y.glyphIndex||(m=(m=(m=m.concat({name:"cmap12Start_"+t,type:"ULONG",value:y.start})).concat({name:"cmap12End_"+t,type:"ULONG",value:y.end})).concat({name:"cmap12Glyph_"+t,type:"ULONG",value:y.glyphIndex}))}if(i.segCountX2=2*(p-c),i.searchRange=2*Math.pow(2,Math.floor(Math.log(p-c)/Math.log(2))),i.entrySelector=Math.log(i.searchRange/2)/Math.log(2),i.rangeShift=i.segCountX2-i.searchRange,i.fields=i.fields.concat(h),i.fields.push({name:"reservedPad",type:"USHORT",value:0}),i.fields=i.fields.concat(f),i.fields=i.fields.concat(d),i.fields=i.fields.concat(g),i.fields=i.fields.concat(v),i.cmap4Length=14+2*h.length+2+2*f.length+2*d.length+2*g.length+2*v.length,!r){var b=16+4*m.length;i.cmap12Offset=20+i.cmap4Length,i.fields=i.fields.concat([{name:"cmap12Format",type:"USHORT",value:12},{name:"cmap12Reserved",type:"USHORT",value:0},{name:"cmap12Length",type:"ULONG",value:b},{name:"cmap12Language",type:"ULONG",value:0},{name:"cmap12nGroups",type:"ULONG",value:m.length/3}]),i.fields=i.fields.concat(m)}return i}},le=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","266 ff","onedotenleader","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall","001.000","001.001","001.002","001.003","Black","Bold","Book","Light","Medium","Regular","Roman","Semibold"],pe=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","","endash","dagger","daggerdbl","periodcentered","","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","","questiondown","","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","","ring","cedilla","","hungarumlaut","ogonek","caron","emdash","","","","","","","","","","","","","","","","","AE","","ordfeminine","","","","","Lslash","Oslash","OE","ordmasculine","","","","","","ae","","","","dotlessi","","","lslash","oslash","oe","germandbls"],ce=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","","asuperior","bsuperior","centsuperior","dsuperior","esuperior","","","isuperior","","","lsuperior","msuperior","nsuperior","osuperior","","","rsuperior","ssuperior","tsuperior","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdownsmall","centoldstyle","Lslashsmall","","","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","","Dotaccentsmall","","","Macronsmall","","","figuredash","hypheninferior","","","Ogoneksmall","Ringsmall","Cedillasmall","","","","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"],he=[".notdef",".null","nonmarkingreturn","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","nonbreakingspace","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron","Lslash","lslash","Scaron","scaron","Zcaron","zcaron","brokenbar","Eth","eth","Yacute","yacute","Thorn","thorn","minus","multiply","onesuperior","twosuperior","threesuperior","onehalf","onequarter","threequarters","franc","Gbreve","gbreve","Idotaccent","Scedilla","scedilla","Cacute","cacute","Ccaron","ccaron","dcroat"];function fe(e){this.font=e}function de(e){this.cmap=e}function ge(e,t){this.encoding=e,this.charset=t}function ve(e){switch(e.version){case 1:this.names=he.slice();break;case 2:this.names=new Array(e.numberOfGlyphs);for(var t=0;t<e.numberOfGlyphs;t++)e.glyphNameIndex[t]<he.length?this.names[t]=he[e.glyphNameIndex[t]]:this.names[t]=e.names[e.glyphNameIndex[t]-he.length];break;case 2.5:this.names=new Array(e.numberOfGlyphs);for(var r=0;r<e.numberOfGlyphs;r++)this.names[r]=he[r+e.glyphNameIndex[r]];break;case 3:default:this.names=[]}}function me(e,t){(t.lowMemory?function(e){e._IndexToUnicodeMap={};for(var t=e.tables.cmap.glyphIndexMap,r=Object.keys(t),n=0;n<r.length;n+=1){var a=r[n],o=t[a];void 0===e._IndexToUnicodeMap[o]?e._IndexToUnicodeMap[o]={unicodes:[parseInt(a)]}:e._IndexToUnicodeMap[o].unicodes.push(parseInt(a))}}:function(e){for(var t,r=e.tables.cmap.glyphIndexMap,n=Object.keys(r),a=0;a<n.length;a+=1){var o=n[a],s=r[o];(t=e.glyphs.get(s)).addUnicode(parseInt(o))}for(var i=0;i<e.glyphs.length;i+=1)t=e.glyphs.get(i),e.cffEncoding?e.isCIDFont?t.name="gid"+i:t.name=e.cffEncoding.charset[i]:e.glyphNames.names&&(t.name=e.glyphNames.glyphIndexToName(i))})(e)}fe.prototype.charToGlyphIndex=function(e){var t=e.codePointAt(0),r=this.font.glyphs;if(r)for(var n=0;n<r.length;n+=1)for(var a=r.get(n),o=0;o<a.unicodes.length;o+=1)if(a.unicodes[o]===t)return n;return null},de.prototype.charToGlyphIndex=function(e){return this.cmap.glyphIndexMap[e.codePointAt(0)]||0},ge.prototype.charToGlyphIndex=function(e){var t=e.codePointAt(0),r=this.encoding[t];return this.charset.indexOf(r)},ve.prototype.nameToGlyphIndex=function(e){return this.names.indexOf(e)},ve.prototype.glyphIndexToName=function(e){return this.names[e]};var ye={line:function(e,t,r,n,a){e.beginPath(),e.moveTo(t,r),e.lineTo(n,a),e.stroke()}};function be(e){this.bindConstructorValues(e)}function Se(t,e,r){Object.defineProperty(t,e,{get:function(){return t.path,t[r]},set:function(e){t[r]=e},enumerable:!0,configurable:!0})}function xe(e,t){if(this.font=e,this.glyphs={},Array.isArray(t))for(var r=0;r<t.length;r++){var n=t[r];n.path.unitsPerEm=e.unitsPerEm,this.glyphs[r]=n}this.length=t&&t.length||0}be.prototype.bindConstructorValues=function(e){var t,r;this.index=e.index||0,this.name=e.name||null,this.unicode=e.unicode||void 0,this.unicodes=e.unicodes||void 0!==e.unicode?[e.unicode]:[],"xMin"in e&&(this.xMin=e.xMin),"yMin"in e&&(this.yMin=e.yMin),"xMax"in e&&(this.xMax=e.xMax),"yMax"in e&&(this.yMax=e.yMax),"advanceWidth"in e&&(this.advanceWidth=e.advanceWidth),Object.defineProperty(this,"path",(t=e.path,r=t||new G,{configurable:!0,get:function(){return"function"==typeof r&&(r=r()),r},set:function(e){r=e}}))},be.prototype.addUnicode=function(e){0===this.unicodes.length&&(this.unicode=e),this.unicodes.push(e)},be.prototype.getBoundingBox=function(){return this.path.getBoundingBox()},be.prototype.getPath=function(e,t,r,n,a){var o,s;e=void 0!==e?e:0,t=void 0!==t?t:0,r=void 0!==r?r:72;var i=(n=n||{}).xScale,u=n.yScale;if(n.hinting&&a&&a.hinting&&(s=this.path&&a.hinting.exec(this,r)),s)o=a.hinting.getCommands(s),e=Math.round(e),t=Math.round(t),i=u=1;else{o=this.path.commands;var l=1/(this.path.unitsPerEm||1e3)*r;void 0===i&&(i=l),void 0===u&&(u=l)}for(var p=new G,c=0;c<o.length;c+=1){var h=o[c];"M"===h.type?p.moveTo(e+h.x*i,t+-h.y*u):"L"===h.type?p.lineTo(e+h.x*i,t+-h.y*u):"Q"===h.type?p.quadraticCurveTo(e+h.x1*i,t+-h.y1*u,e+h.x*i,t+-h.y*u):"C"===h.type?p.curveTo(e+h.x1*i,t+-h.y1*u,e+h.x2*i,t+-h.y2*u,e+h.x*i,t+-h.y*u):"Z"===h.type&&p.closePath()}return p},be.prototype.getContours=function(){if(void 0===this.points)return[];for(var e=[],t=[],r=0;r<this.points.length;r+=1){var n=this.points[r];t.push(n),n.lastPointOfContour&&(e.push(t),t=[])}return C.argument(0===t.length,"There are still points left in the current contour."),e},be.prototype.getMetrics=function(){for(var e=this.path.commands,t=[],r=[],n=0;n<e.length;n+=1){var a=e[n];"Z"!==a.type&&(t.push(a.x),r.push(a.y)),"Q"!==a.type&&"C"!==a.type||(t.push(a.x1),r.push(a.y1)),"C"===a.type&&(t.push(a.x2),r.push(a.y2))}var o={xMin:Math.min.apply(null,t),yMin:Math.min.apply(null,r),xMax:Math.max.apply(null,t),yMax:Math.max.apply(null,r),leftSideBearing:this.leftSideBearing};return isFinite(o.xMin)||(o.xMin=0),isFinite(o.xMax)||(o.xMax=this.advanceWidth),isFinite(o.yMin)||(o.yMin=0),isFinite(o.yMax)||(o.yMax=0),o.rightSideBearing=this.advanceWidth-o.leftSideBearing-(o.xMax-o.xMin),o},be.prototype.draw=function(e,t,r,n,a){this.getPath(t,r,n,a).draw(e)},be.prototype.drawPoints=function(o,e,t,r){function n(e,t,r,n){o.beginPath();for(var a=0;a<e.length;a+=1)o.moveTo(t+e[a].x*n,r+e[a].y*n),o.arc(t+e[a].x*n,r+e[a].y*n,2,0,2*Math.PI,!1);o.closePath(),o.fill()}e=void 0!==e?e:0,t=void 0!==t?t:0,r=void 0!==r?r:24;for(var a=1/this.path.unitsPerEm*r,s=[],i=[],u=this.path,l=0;l<u.commands.length;l+=1){var p=u.commands[l];void 0!==p.x&&s.push({x:p.x,y:-p.y}),void 0!==p.x1&&i.push({x:p.x1,y:-p.y1}),void 0!==p.x2&&i.push({x:p.x2,y:-p.y2})}o.fillStyle="blue",n(s,e,t,a),o.fillStyle="red",n(i,e,t,a)},be.prototype.drawMetrics=function(e,t,r,n){var a;t=void 0!==t?t:0,r=void 0!==r?r:0,n=void 0!==n?n:24,a=1/this.path.unitsPerEm*n,e.lineWidth=1,e.strokeStyle="black",ye.line(e,t,-1e4,t,1e4),ye.line(e,-1e4,r,1e4,r);var o=this.xMin||0,s=this.yMin||0,i=this.xMax||0,u=this.yMax||0,l=this.advanceWidth||0;e.strokeStyle="blue",ye.line(e,t+o*a,-1e4,t+o*a,1e4),ye.line(e,t+i*a,-1e4,t+i*a,1e4),ye.line(e,-1e4,r+-s*a,1e4,r+-s*a),ye.line(e,-1e4,r+-u*a,1e4,r+-u*a),e.strokeStyle="green",ye.line(e,t+l*a,-1e4,t+l*a,1e4)},xe.prototype.get=function(e){if(void 0===this.glyphs[e]){this.font._push(e),"function"==typeof this.glyphs[e]&&(this.glyphs[e]=this.glyphs[e]());var t=this.glyphs[e],r=this.font._IndexToUnicodeMap[e];if(r)for(var n=0;n<r.unicodes.length;n++)t.addUnicode(r.unicodes[n]);this.font.cffEncoding?this.font.isCIDFont?t.name="gid"+e:t.name=this.font.cffEncoding.charset[e]:this.font.glyphNames.names&&(t.name=this.font.glyphNames.glyphIndexToName(e)),this.glyphs[e].advanceWidth=this.font._hmtxTableData[e].advanceWidth,this.glyphs[e].leftSideBearing=this.font._hmtxTableData[e].leftSideBearing}else"function"==typeof this.glyphs[e]&&(this.glyphs[e]=this.glyphs[e]());return this.glyphs[e]},xe.prototype.push=function(e,t){this.glyphs[e]=t,this.length++};var Te={GlyphSet:xe,glyphLoader:function(e,t){return new be({index:t,font:e})},ttfGlyphLoader:function(r,e,n,a,o,s){return function(){var t=new be({index:e,font:r});return t.path=function(){n(t,a,o);var e=s(r.glyphs,t);return e.unitsPerEm=r.unitsPerEm,e},Se(t,"xMin","_xMin"),Se(t,"xMax","_xMax"),Se(t,"yMin","_yMin"),Se(t,"yMax","_yMax"),t}},cffGlyphLoader:function(r,e,n,a){return function(){var t=new be({index:e,font:r});return t.path=function(){var e=n(r,t,a);return e.unitsPerEm=r.unitsPerEm,e},t}}};function Ue(e,t){if(e===t)return 1;if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return;for(var r=0;r<e.length;r+=1)if(!Ue(e[r],t[r]))return;return 1}}function ke(e){return e.length<1240?107:e.length<33900?1131:32768}function Oe(e,t,r){var n,a,o=[],s=[],i=ie.getCard16(e,t);if(0!==i){var u=ie.getByte(e,t+2);n=t+(i+1)*u+2;for(var l=t+3,p=0;p<i+1;p+=1)o.push(ie.getOffset(e,l,u)),l+=u;a=n+o[i]}else a=t+2;for(var c=0;c<o.length-1;c+=1){var h=ie.getBytes(e,n+o[c],n+o[c+1]);r&&(h=r(h)),s.push(h)}return{objects:s,startOffset:t,endOffset:a}}function Ee(e,t){if(28===t)return e.parseByte()<<8|e.parseByte();if(29===t)return e.parseByte()<<24|e.parseByte()<<16|e.parseByte()<<8|e.parseByte();if(30===t)return function(e){for(var t="",r=["0","1","2","3","4","5","6","7","8","9",".","E","E-",null,"-"];;){var n=e.parseByte(),a=n>>4,o=15&n;if(15==a)break;if(t+=r[a],15==o)break;t+=r[o]}return parseFloat(t)}(e);if(32<=t&&t<=246)return t-139;if(247<=t&&t<=250)return 256*(t-247)+e.parseByte()+108;if(251<=t&&t<=254)return 256*-(t-251)-e.parseByte()-108;throw new Error("Invalid b0 "+t)}function Re(e,t,r){t=void 0!==t?t:0;var n=new ie.Parser(e,t),a=[],o=[];for(r=void 0!==r?r:e.length;n.relativeOffset<r;){var s=n.parseByte();s<=21?(12===s&&(s=1200+n.parseByte()),a.push([s,o]),o=[]):o.push(Ee(n,s))}return function(e){for(var t={},r=0;r<e.length;r+=1){var n=e[r][0],a=e[r][1],o=void 0;if(o=1===a.length?a[0]:a,t.hasOwnProperty(n)&&!isNaN(t[n]))throw new Error("Object "+t+" already has key "+n);t[n]=o}return t}(a)}function we(e,t){return t=t<=390?le[t]:e[t-391]}function Le(e,t,r){for(var n,a={},o=0;o<t.length;o+=1){var s=t[o];if(Array.isArray(s.type)){var i=[];i.length=s.type.length;for(var u=0;u<s.type.length;u++)void 0===(n=void 0!==e[s.op]?e[s.op][u]:void 0)&&(n=void 0!==s.value&&void 0!==s.value[u]?s.value[u]:null),"SID"===s.type[u]&&(n=we(r,n)),i[u]=n;a[s.name]=i}else void 0===(n=e[s.op])&&(n=void 0!==s.value?s.value:null),"SID"===s.type&&(n=we(r,n)),a[s.name]=n}return a}var Ce=[{name:"version",op:0,type:"SID"},{name:"notice",op:1,type:"SID"},{name:"copyright",op:1200,type:"SID"},{name:"fullName",op:2,type:"SID"},{name:"familyName",op:3,type:"SID"},{name:"weight",op:4,type:"SID"},{name:"isFixedPitch",op:1201,type:"number",value:0},{name:"italicAngle",op:1202,type:"number",value:0},{name:"underlinePosition",op:1203,type:"number",value:-100},{name:"underlineThickness",op:1204,type:"number",value:50},{name:"paintType",op:1205,type:"number",value:0},{name:"charstringType",op:1206,type:"number",value:2},{name:"fontMatrix",op:1207,type:["real","real","real","real","real","real"],value:[.001,0,0,.001,0,0]},{name:"uniqueId",op:13,type:"number"},{name:"fontBBox",op:5,type:["number","number","number","number"],value:[0,0,0,0]},{name:"strokeWidth",op:1208,type:"number",value:0},{name:"xuid",op:14,type:[],value:null},{name:"charset",op:15,type:"offset",value:0},{name:"encoding",op:16,type:"offset",value:0},{name:"charStrings",op:17,type:"offset",value:0},{name:"private",op:18,type:["number","offset"],value:[0,0]},{name:"ros",op:1230,type:["SID","SID","number"]},{name:"cidFontVersion",op:1231,type:"number",value:0},{name:"cidFontRevision",op:1232,type:"number",value:0},{name:"cidFontType",op:1233,type:"number",value:0},{name:"cidCount",op:1234,type:"number",value:8720},{name:"uidBase",op:1235,type:"number"},{name:"fdArray",op:1236,type:"offset"},{name:"fdSelect",op:1237,type:"offset"},{name:"fontName",op:1238,type:"SID"}],De=[{name:"subrs",op:19,type:"offset",value:0},{name:"defaultWidthX",op:20,type:"number",value:0},{name:"nominalWidthX",op:21,type:"number",value:0}];function Ie(e,t,r,n){return Le(Re(e,t,r),De,n)}function Me(e,t,r,n){for(var a,o,s=[],i=0;i<r.length;i+=1){var u=new DataView(new Uint8Array(r[i]).buffer),l=(o=n,Le(Re(a=u,0,a.byteLength),Ce,o));l._subrs=[],l._subrsBias=0;var p=l.private[0],c=l.private[1];if(0!==p&&0!==c){var h=Ie(e,c+t,p,n);if(l._defaultWidthX=h.defaultWidthX,l._nominalWidthX=h.nominalWidthX,0!==h.subrs){var f=Oe(e,c+h.subrs+t);l._subrs=f.objects,l._subrsBias=ke(l._subrs)}l._privateDict=h}s.push(l)}return s}function Be(v,m,e){var y,b,S,x,T,U,t,k,O=new G,E=[],R=0,w=!1,L=!1,C=0,D=0;if(v.isCIDFont){var r=v.tables.cff.topDict._fdSelect[m.index],n=v.tables.cff.topDict._fdArray[r];T=n._subrs,U=n._subrsBias,t=n._defaultWidthX,k=n._nominalWidthX}else T=v.tables.cff.topDict._subrs,U=v.tables.cff.topDict._subrsBias,t=v.tables.cff.topDict._defaultWidthX,k=v.tables.cff.topDict._nominalWidthX;var I=t;function M(e,t){L&&O.closePath(),O.moveTo(e,t),L=!0}function B(){E.length%2==0||w||(I=E.shift()+k),R+=E.length>>1,E.length=0,w=!0}return function e(t){for(var r,n,a,o,s,i,u,l,p,c,h,f,d=0;d<t.length;){var g=t[d];switch(d+=1,g){case 1:case 3:B();break;case 4:1<E.length&&!w&&(I=E.shift()+k,w=!0),D+=E.pop(),M(C,D);break;case 5:for(;0<E.length;)C+=E.shift(),D+=E.shift(),O.lineTo(C,D);break;case 6:for(;0<E.length&&(C+=E.shift(),O.lineTo(C,D),0!==E.length);)D+=E.shift(),O.lineTo(C,D);break;case 7:for(;0<E.length&&(D+=E.shift(),O.lineTo(C,D),0!==E.length);)C+=E.shift(),O.lineTo(C,D);break;case 8:for(;0<E.length;)y=C+E.shift(),b=D+E.shift(),S=y+E.shift(),x=b+E.shift(),C=S+E.shift(),D=x+E.shift(),O.curveTo(y,b,S,x,C,D);break;case 10:s=E.pop()+U,(i=T[s])&&e(i);break;case 11:return;case 12:switch(g=t[d],d+=1,g){case 35:y=C+E.shift(),b=D+E.shift(),S=y+E.shift(),x=b+E.shift(),u=S+E.shift(),l=x+E.shift(),p=u+E.shift(),c=l+E.shift(),h=p+E.shift(),f=c+E.shift(),C=h+E.shift(),D=f+E.shift(),E.shift(),O.curveTo(y,b,S,x,u,l),O.curveTo(p,c,h,f,C,D);break;case 34:y=C+E.shift(),b=D,S=y+E.shift(),x=b+E.shift(),u=S+E.shift(),l=x,p=u+E.shift(),c=x,h=p+E.shift(),f=D,C=h+E.shift(),O.curveTo(y,b,S,x,u,l),O.curveTo(p,c,h,f,C,D);break;case 36:y=C+E.shift(),b=D+E.shift(),S=y+E.shift(),x=b+E.shift(),u=S+E.shift(),l=x,p=u+E.shift(),c=x,h=p+E.shift(),f=c+E.shift(),C=h+E.shift(),O.curveTo(y,b,S,x,u,l),O.curveTo(p,c,h,f,C,D);break;case 37:y=C+E.shift(),b=D+E.shift(),S=y+E.shift(),x=b+E.shift(),u=S+E.shift(),l=x+E.shift(),p=u+E.shift(),c=l+E.shift(),h=p+E.shift(),f=c+E.shift(),Math.abs(h-C)>Math.abs(f-D)?C=h+E.shift():D=f+E.shift(),O.curveTo(y,b,S,x,u,l),O.curveTo(p,c,h,f,C,D);break;default:console.log("Glyph "+m.index+": unknown operator 1200"+g),E.length=0}break;case 14:0<E.length&&!w&&(I=E.shift()+k,w=!0),L&&(O.closePath(),L=!1);break;case 18:B();break;case 19:case 20:B(),d+=R+7>>3;break;case 21:2<E.length&&!w&&(I=E.shift()+k,w=!0),D+=E.pop(),M(C+=E.pop(),D);break;case 22:1<E.length&&!w&&(I=E.shift()+k,w=!0),M(C+=E.pop(),D);break;case 23:B();break;case 24:for(;2<E.length;)y=C+E.shift(),b=D+E.shift(),S=y+E.shift(),x=b+E.shift(),C=S+E.shift(),D=x+E.shift(),O.curveTo(y,b,S,x,C,D);C+=E.shift(),D+=E.shift(),O.lineTo(C,D);break;case 25:for(;6<E.length;)C+=E.shift(),D+=E.shift(),O.lineTo(C,D);y=C+E.shift(),b=D+E.shift(),S=y+E.shift(),x=b+E.shift(),C=S+E.shift(),D=x+E.shift(),O.curveTo(y,b,S,x,C,D);break;case 26:for(E.length%2&&(C+=E.shift());0<E.length;)y=C,b=D+E.shift(),S=y+E.shift(),x=b+E.shift(),C=S,D=x+E.shift(),O.curveTo(y,b,S,x,C,D);break;case 27:for(E.length%2&&(D+=E.shift());0<E.length;)y=C+E.shift(),b=D,S=y+E.shift(),x=b+E.shift(),C=S+E.shift(),D=x,O.curveTo(y,b,S,x,C,D);break;case 28:r=t[d],n=t[d+1],E.push((r<<24|n<<16)>>16),d+=2;break;case 29:s=E.pop()+v.gsubrsBias,(i=v.gsubrs[s])&&e(i);break;case 30:for(;0<E.length&&(y=C,b=D+E.shift(),S=y+E.shift(),x=b+E.shift(),C=S+E.shift(),D=x+(1===E.length?E.shift():0),O.curveTo(y,b,S,x,C,D),0!==E.length);)y=C+E.shift(),b=D,S=y+E.shift(),x=b+E.shift(),D=x+E.shift(),C=S+(1===E.length?E.shift():0),O.curveTo(y,b,S,x,C,D);break;case 31:for(;0<E.length&&(y=C+E.shift(),b=D,S=y+E.shift(),x=b+E.shift(),D=x+E.shift(),C=S+(1===E.length?E.shift():0),O.curveTo(y,b,S,x,C,D),0!==E.length);)y=C,b=D+E.shift(),S=y+E.shift(),x=b+E.shift(),C=S+E.shift(),D=x+(1===E.length?E.shift():0),O.curveTo(y,b,S,x,C,D);break;default:g<32?console.log("Glyph "+m.index+": unknown operator "+g):g<247?E.push(g-139):g<251?(r=t[d],d+=1,E.push(256*(g-247)+r+108)):g<255?(r=t[d],d+=1,E.push(256*-(g-251)-r-108)):(r=t[d],n=t[d+1],a=t[d+2],o=t[d+3],d+=4,E.push((r<<24|n<<16|a<<8|o)/65536))}}}(e),m.advanceWidth=I,O}function Ge(e,t){var r,n=le.indexOf(e);return 0<=n&&(r=n),0<=(n=t.indexOf(e))?r=n+le.length:(r=le.length+t.length,t.push(e)),r}function Ae(e,t,r){for(var n={},a=0;a<e.length;a+=1){var o=e[a],s=t[o.name];void 0===s||Ue(s,o.value)||("SID"===o.type&&(s=Ge(s,r)),n[o.op]={name:o.name,type:o.type,value:s})}return n}function Fe(e,t){var r=new $.Record("Top DICT",[{name:"dict",type:"DICT",value:{}}]);return r.dict=Ae(Ce,e,t),r}function Ne(e){var t=new $.Record("Top DICT INDEX",[{name:"topDicts",type:"INDEX",value:[]}]);return t.topDicts=[{name:"topDict_0",type:"TABLE",value:e}],t}function Pe(e){var t=[],r=e.path;t.push({name:"width",type:"NUMBER",value:e.advanceWidth});for(var n=0,a=0,o=0;o<r.commands.length;o+=1){var s=void 0,i=void 0,u=r.commands[o];if("Q"===u.type){u={type:"C",x:u.x,y:u.y,x1:1/3*n+2/3*u.x1,y1:1/3*a+2/3*u.y1,x2:1/3*u.x+2/3*u.x1,y2:1/3*u.y+2/3*u.y1}}if("M"===u.type)s=Math.round(u.x-n),i=Math.round(u.y-a),t.push({name:"dx",type:"NUMBER",value:s}),t.push({name:"dy",type:"NUMBER",value:i}),t.push({name:"rmoveto",type:"OP",value:21}),n=Math.round(u.x),a=Math.round(u.y);else if("L"===u.type)s=Math.round(u.x-n),i=Math.round(u.y-a),t.push({name:"dx",type:"NUMBER",value:s}),t.push({name:"dy",type:"NUMBER",value:i}),t.push({name:"rlineto",type:"OP",value:5}),n=Math.round(u.x),a=Math.round(u.y);else if("C"===u.type){var l=Math.round(u.x1-n),p=Math.round(u.y1-a),c=Math.round(u.x2-u.x1),h=Math.round(u.y2-u.y1);s=Math.round(u.x-u.x2),i=Math.round(u.y-u.y2),t.push({name:"dx1",type:"NUMBER",value:l}),t.push({name:"dy1",type:"NUMBER",value:p}),t.push({name:"dx2",type:"NUMBER",value:c}),t.push({name:"dy2",type:"NUMBER",value:h}),t.push({name:"dx",type:"NUMBER",value:s}),t.push({name:"dy",type:"NUMBER",value:i}),t.push({name:"rrcurveto",type:"OP",value:8}),n=Math.round(u.x),a=Math.round(u.y)}}return t.push({name:"endchar",type:"OP",value:14}),t}var He={parse:function(r,n,a,e){a.tables.cff={};var t,o,s,i=(t=r,o=n,(s={}).formatMajor=ie.getCard8(t,o),s.formatMinor=ie.getCard8(t,o+1),s.size=ie.getCard8(t,o+2),s.offsetSize=ie.getCard8(t,o+3),s.startOffset=o,s.endOffset=o+4,s),u=Oe(r,i.endOffset,ie.bytesToString),l=Oe(r,u.endOffset),p=Oe(r,l.endOffset,ie.bytesToString),c=Oe(r,p.endOffset);a.gsubrs=c.objects,a.gsubrsBias=ke(a.gsubrs);var h=Me(r,n,l.objects,p.objects);if(1!==h.length)throw new Error("CFF table has too many fonts in 'FontSet' - count of fonts NameIndex.length = "+h.length);var f=h[0];if((a.tables.cff.topDict=f)._privateDict&&(a.defaultWidthX=f._privateDict.defaultWidthX,a.nominalWidthX=f._privateDict.nominalWidthX),void 0!==f.ros[0]&&void 0!==f.ros[1]&&(a.isCIDFont=!0),a.isCIDFont){var d=f.fdArray,g=f.fdSelect;if(0===d||0===g)throw new Error("Font is marked as a CID font, but FDArray and/or FDSelect information is missing");var v=Oe(r,d+=n),m=Me(r,n,v.objects,p.objects);f._fdArray=m,g+=n,f._fdSelect=function(e,t,r,n){var a,o=[],s=new ie.Parser(e,t),i=s.parseCard8();if(0===i)for(var u=0;u<r;u++){if(n<=(a=s.parseCard8()))throw new Error("CFF table CID Font FDSelect has bad FD index value "+a+" (FD count "+n+")");o.push(a)}else{if(3!==i)throw new Error("CFF Table CID Font FDSelect table has unsupported format "+i);var l,p=s.parseCard16(),c=s.parseCard16();if(0!==c)throw new Error("CFF Table CID Font FDSelect format 3 range has bad initial GID "+c);for(var h=0;h<p;h++){if(a=s.parseCard8(),l=s.parseCard16(),n<=a)throw new Error("CFF table CID Font FDSelect has bad FD index value "+a+" (FD count "+n+")");if(r<l)throw new Error("CFF Table CID Font FDSelect format 3 range has bad GID "+l);for(;c<l;c++)o.push(a);c=l}if(l!==r)throw new Error("CFF Table CID Font FDSelect format 3 range has bad final GID "+l)}return o}(r,g,a.numGlyphs,m.length)}var y,b=n+f.private[1],S=Ie(r,b,f.private[0],p.objects);if(a.defaultWidthX=S.defaultWidthX,a.nominalWidthX=S.nominalWidthX,0!==S.subrs){var x=b+S.subrs,T=Oe(r,x);a.subrs=T.objects,a.subrsBias=ke(a.subrs)}else a.subrs=[],a.subrsBias=0;e.lowMemory?(y=function(e,t){var r,n,a=[],o=ie.getCard16(e,t);if(0!==o){var s=ie.getByte(e,t+2);r=t+(o+1)*s+2;for(var i=t+3,u=0;u<o+1;u+=1)a.push(ie.getOffset(e,i,s)),i+=s;n=r+a[o]}else n=t+2;return{offsets:a,startOffset:t,endOffset:n}}(r,n+f.charStrings),a.nGlyphs=y.offsets.length):(y=Oe(r,n+f.charStrings),a.nGlyphs=y.objects.length);var U=function(e,t,r,n){var a,o,s=new ie.Parser(e,t);--r;var i=[".notdef"],u=s.parseCard8();if(0===u)for(var l=0;l<r;l+=1)a=s.parseSID(),i.push(we(n,a));else if(1===u)for(;i.length<=r;){a=s.parseSID(),o=s.parseCard8();for(var p=0;p<=o;p+=1)i.push(we(n,a)),a+=1}else{if(2!==u)throw new Error("Unknown charset format "+u);for(;i.length<=r;){a=s.parseSID(),o=s.parseCard16();for(var c=0;c<=o;c+=1)i.push(we(n,a)),a+=1}}return i}(r,n+f.charset,a.nGlyphs,p.objects);if(0===f.encoding?a.cffEncoding=new ge(pe,U):1===f.encoding?a.cffEncoding=new ge(ce,U):a.cffEncoding=function(e,t,r){var n,a={},o=new ie.Parser(e,t),s=o.parseCard8();if(0===s)for(var i=o.parseCard8(),u=0;u<i;u+=1)a[n=o.parseCard8()]=u;else{if(1!==s)throw new Error("Unknown encoding format "+s);var l=o.parseCard8();n=1;for(var p=0;p<l;p+=1)for(var c=o.parseCard8(),h=o.parseCard8(),f=c;f<=c+h;f+=1)a[f]=n,n+=1}return new ge(a,r)}(r,n+f.encoding,U),a.encoding=a.encoding||a.cffEncoding,a.glyphs=new Te.GlyphSet(a),e.lowMemory)a._push=function(e){var t=function(e,t,r,n,a){var o=ie.getCard16(r,n),s=0;0!==o&&(s=n+(o+1)*ie.getByte(r,n+2)+2);var i=ie.getBytes(r,s+t[e],s+t[e+1]);return a&&(i=a(i)),i}(e,y.offsets,r,n+f.charStrings);a.glyphs.push(e,Te.cffGlyphLoader(a,e,Be,t))};else for(var k=0;k<a.nGlyphs;k+=1){var O=y.objects[k];a.glyphs.push(k,Te.cffGlyphLoader(a,k,Be,O))}},make:function(e,t){for(var r,n=new $.Table("CFF ",[{name:"header",type:"RECORD"},{name:"nameIndex",type:"RECORD"},{name:"topDictIndex",type:"RECORD"},{name:"stringIndex",type:"RECORD"},{name:"globalSubrIndex",type:"RECORD"},{name:"charsets",type:"RECORD"},{name:"charStringsIndex",type:"RECORD"},{name:"privateDict",type:"RECORD"}]),a=1/t.unitsPerEm,o={version:t.version,fullName:t.fullName,familyName:t.familyName,weight:t.weightName,fontBBox:t.fontBBox||[0,0,0,0],fontMatrix:[a,0,0,a,0,0],charset:999,encoding:0,charStrings:999,private:[0,999]},s=[],i=1;i<e.length;i+=1)r=e.get(i),s.push(r.name);var u=[];n.header=new $.Record("Header",[{name:"major",type:"Card8",value:1},{name:"minor",type:"Card8",value:0},{name:"hdrSize",type:"Card8",value:4},{name:"major",type:"Card8",value:1}]),n.nameIndex=function(e){var t=new $.Record("Name INDEX",[{name:"names",type:"INDEX",value:[]}]);t.names=[];for(var r=0;r<e.length;r+=1)t.names.push({name:"name_"+r,type:"NAME",value:e[r]});return t}([t.postScriptName]);var l,p,c,h=Fe(o,u);n.topDictIndex=Ne(h),n.globalSubrIndex=new $.Record("Global Subr INDEX",[{name:"subrs",type:"INDEX",value:[]}]),n.charsets=function(e,t){for(var r=new $.Record("Charsets",[{name:"format",type:"Card8",value:0}]),n=0;n<e.length;n+=1){var a=Ge(e[n],t);r.fields.push({name:"glyph_"+n,type:"SID",value:a})}return r}(s,u),n.charStringsIndex=function(e){for(var t=new $.Record("CharStrings INDEX",[{name:"charStrings",type:"INDEX",value:[]}]),r=0;r<e.length;r+=1){var n=e.get(r),a=Pe(n);t.charStrings.push({name:n.name,type:"CHARSTRING",value:a})}return t}(e),n.privateDict=(l={},p=u,(c=new $.Record("Private DICT",[{name:"dict",type:"DICT",value:{}}])).dict=Ae(De,l,p),c),n.stringIndex=function(e){var t=new $.Record("String INDEX",[{name:"strings",type:"INDEX",value:[]}]);t.strings=[];for(var r=0;r<e.length;r+=1)t.strings.push({name:"string_"+r,type:"STRING",value:e[r]});return t}(u);var f=n.header.sizeOf()+n.nameIndex.sizeOf()+n.topDictIndex.sizeOf()+n.stringIndex.sizeOf()+n.globalSubrIndex.sizeOf();return o.charset=f,o.encoding=0,o.charStrings=o.charset+n.charsets.sizeOf(),o.private[1]=o.charStrings+n.charStringsIndex.sizeOf(),h=Fe(o,u),n.topDictIndex=Ne(h),n}};var ze={parse:function(e,t){var r={},n=new ie.Parser(e,t);return r.version=n.parseVersion(),r.fontRevision=Math.round(1e3*n.parseFixed())/1e3,r.checkSumAdjustment=n.parseULong(),r.magicNumber=n.parseULong(),C.argument(1594834165===r.magicNumber,"Font header has wrong magic number."),r.flags=n.parseUShort(),r.unitsPerEm=n.parseUShort(),r.created=n.parseLongDateTime(),r.modified=n.parseLongDateTime(),r.xMin=n.parseShort(),r.yMin=n.parseShort(),r.xMax=n.parseShort(),r.yMax=n.parseShort(),r.macStyle=n.parseUShort(),r.lowestRecPPEM=n.parseUShort(),r.fontDirectionHint=n.parseShort(),r.indexToLocFormat=n.parseShort(),r.glyphDataFormat=n.parseShort(),r},make:function(e){var t=Math.round((new Date).getTime()/1e3)+2082844800,r=t;return e.createdTimestamp&&(r=e.createdTimestamp+2082844800),new $.Table("head",[{name:"version",type:"FIXED",value:65536},{name:"fontRevision",type:"FIXED",value:65536},{name:"checkSumAdjustment",type:"ULONG",value:0},{name:"magicNumber",type:"ULONG",value:1594834165},{name:"flags",type:"USHORT",value:0},{name:"unitsPerEm",type:"USHORT",value:1e3},{name:"created",type:"LONGDATETIME",value:r},{name:"modified",type:"LONGDATETIME",value:t},{name:"xMin",type:"SHORT",value:0},{name:"yMin",type:"SHORT",value:0},{name:"xMax",type:"SHORT",value:0},{name:"yMax",type:"SHORT",value:0},{name:"macStyle",type:"USHORT",value:0},{name:"lowestRecPPEM",type:"USHORT",value:0},{name:"fontDirectionHint",type:"SHORT",value:2},{name:"indexToLocFormat",type:"SHORT",value:0},{name:"glyphDataFormat",type:"SHORT",value:0}],e)}};var We={parse:function(e,t){var r={},n=new ie.Parser(e,t);return r.version=n.parseVersion(),r.ascender=n.parseShort(),r.descender=n.parseShort(),r.lineGap=n.parseShort(),r.advanceWidthMax=n.parseUShort(),r.minLeftSideBearing=n.parseShort(),r.minRightSideBearing=n.parseShort(),r.xMaxExtent=n.parseShort(),r.caretSlopeRise=n.parseShort(),r.caretSlopeRun=n.parseShort(),r.caretOffset=n.parseShort(),n.relativeOffset+=8,r.metricDataFormat=n.parseShort(),r.numberOfHMetrics=n.parseUShort(),r},make:function(e){return new $.Table("hhea",[{name:"version",type:"FIXED",value:65536},{name:"ascender",type:"FWORD",value:0},{name:"descender",type:"FWORD",value:0},{name:"lineGap",type:"FWORD",value:0},{name:"advanceWidthMax",type:"UFWORD",value:0},{name:"minLeftSideBearing",type:"FWORD",value:0},{name:"minRightSideBearing",type:"FWORD",value:0},{name:"xMaxExtent",type:"FWORD",value:0},{name:"caretSlopeRise",type:"SHORT",value:1},{name:"caretSlopeRun",type:"SHORT",value:0},{name:"caretOffset",type:"SHORT",value:0},{name:"reserved1",type:"SHORT",value:0},{name:"reserved2",type:"SHORT",value:0},{name:"reserved3",type:"SHORT",value:0},{name:"reserved4",type:"SHORT",value:0},{name:"metricDataFormat",type:"SHORT",value:0},{name:"numberOfHMetrics",type:"USHORT",value:0}],e)}};var _e={parse:function(e,t,r,n,a,o,s){s.lowMemory?function(e,t,r,n,a){var o,s;e._hmtxTableData={};for(var i=new ie.Parser(t,r),u=0;u<a;u+=1)u<n&&(o=i.parseUShort(),s=i.parseShort()),e._hmtxTableData[u]={advanceWidth:o,leftSideBearing:s}}(e,t,r,n,a):function(e,t,r,n,a){for(var o,s,i=new ie.Parser(e,t),u=0;u<n;u+=1){u<r&&(o=i.parseUShort(),s=i.parseShort());var l=a.get(u);l.advanceWidth=o,l.leftSideBearing=s}}(t,r,n,a,o)},make:function(e){for(var t=new $.Table("hmtx",[]),r=0;r<e.length;r+=1){var n=e.get(r),a=n.advanceWidth||0,o=n.leftSideBearing||0;t.fields.push({name:"advanceWidth_"+r,type:"USHORT",value:a}),t.fields.push({name:"leftSideBearing_"+r,type:"SHORT",value:o})}return t}};var qe={make:function(e){for(var t=new $.Table("ltag",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"numTags",type:"ULONG",value:e.length}]),r="",n=12+4*e.length,a=0;a<e.length;++a){var o=r.indexOf(e[a]);o<0&&(o=r.length,r+=e[a]),t.fields.push({name:"offset "+a,type:"USHORT",value:n+o}),t.fields.push({name:"length "+a,type:"USHORT",value:e[a].length})}return t.fields.push({name:"stringPool",type:"CHARARRAY",value:r}),t},parse:function(e,t){var r=new ie.Parser(e,t),n=r.parseULong();C.argument(1===n,"Unsupported ltag table version."),r.skip("uLong",1);for(var a=r.parseULong(),o=[],s=0;s<a;s++){for(var i="",u=t+r.parseUShort(),l=r.parseUShort(),p=u;p<u+l;++p)i+=String.fromCharCode(e.getInt8(p));o.push(i)}return o}};var Xe={parse:function(e,t){var r={},n=new ie.Parser(e,t);return r.version=n.parseVersion(),r.numGlyphs=n.parseUShort(),1===r.version&&(r.maxPoints=n.parseUShort(),r.maxContours=n.parseUShort(),r.maxCompositePoints=n.parseUShort(),r.maxCompositeContours=n.parseUShort(),r.maxZones=n.parseUShort(),r.maxTwilightPoints=n.parseUShort(),r.maxStorage=n.parseUShort(),r.maxFunctionDefs=n.parseUShort(),r.maxInstructionDefs=n.parseUShort(),r.maxStackElements=n.parseUShort(),r.maxSizeOfInstructions=n.parseUShort(),r.maxComponentElements=n.parseUShort(),r.maxComponentDepth=n.parseUShort()),r},make:function(e){return new $.Table("maxp",[{name:"version",type:"FIXED",value:20480},{name:"numGlyphs",type:"USHORT",value:e}])}},Ve=["copyright","fontFamily","fontSubfamily","uniqueID","fullName","version","postScriptName","trademark","manufacturer","designer","description","manufacturerURL","designerURL","license","licenseURL","reserved","preferredFamily","preferredSubfamily","compatibleFullName","sampleText","postScriptFindFontName","wwsFamily","wwsSubfamily"],je={0:"en",1:"fr",2:"de",3:"it",4:"nl",5:"sv",6:"es",7:"da",8:"pt",9:"no",10:"he",11:"ja",12:"ar",13:"fi",14:"el",15:"is",16:"mt",17:"tr",18:"hr",19:"zh-Hant",20:"ur",21:"hi",22:"th",23:"ko",24:"lt",25:"pl",26:"hu",27:"es",28:"lv",29:"se",30:"fo",31:"fa",32:"ru",33:"zh",34:"nl-BE",35:"ga",36:"sq",37:"ro",38:"cz",39:"sk",40:"si",41:"yi",42:"sr",43:"mk",44:"bg",45:"uk",46:"be",47:"uz",48:"kk",49:"az-Cyrl",50:"az-Arab",51:"hy",52:"ka",53:"mo",54:"ky",55:"tg",56:"tk",57:"mn-CN",58:"mn",59:"ps",60:"ks",61:"ku",62:"sd",63:"bo",64:"ne",65:"sa",66:"mr",67:"bn",68:"as",69:"gu",70:"pa",71:"or",72:"ml",73:"kn",74:"ta",75:"te",76:"si",77:"my",78:"km",79:"lo",80:"vi",81:"id",82:"tl",83:"ms",84:"ms-Arab",85:"am",86:"ti",87:"om",88:"so",89:"sw",90:"rw",91:"rn",92:"ny",93:"mg",94:"eo",128:"cy",129:"eu",130:"ca",131:"la",132:"qu",133:"gn",134:"ay",135:"tt",136:"ug",137:"dz",138:"jv",139:"su",140:"gl",141:"af",142:"br",143:"iu",144:"gd",145:"gv",146:"ga",147:"to",148:"el-polyton",149:"kl",150:"az",151:"nn"},Ye={0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:5,11:1,12:4,13:0,14:6,15:0,16:0,17:0,18:0,19:2,20:4,21:9,22:21,23:3,24:29,25:29,26:29,27:29,28:29,29:0,30:0,31:4,32:7,33:25,34:0,35:0,36:0,37:0,38:29,39:29,40:0,41:5,42:7,43:7,44:7,45:7,46:7,47:7,48:7,49:7,50:4,51:24,52:23,53:7,54:7,55:7,56:7,57:27,58:7,59:4,60:4,61:4,62:4,63:26,64:9,65:9,66:9,67:13,68:13,69:11,70:10,71:12,72:17,73:16,74:14,75:15,76:18,77:19,78:20,79:22,80:30,81:0,82:0,83:0,84:4,85:28,86:28,87:28,88:0,89:0,90:0,91:0,92:0,93:0,94:0,128:0,129:0,130:0,131:0,132:0,133:0,134:0,135:7,136:4,137:26,138:0,139:0,140:0,141:0,142:0,143:28,144:0,145:0,146:0,147:0,148:6,149:0,150:0,151:0},Ze={1078:"af",1052:"sq",1156:"gsw",1118:"am",5121:"ar-DZ",15361:"ar-BH",3073:"ar",2049:"ar-IQ",11265:"ar-JO",13313:"ar-KW",12289:"ar-LB",4097:"ar-LY",6145:"ary",8193:"ar-OM",16385:"ar-QA",1025:"ar-SA",10241:"ar-SY",7169:"aeb",14337:"ar-AE",9217:"ar-YE",1067:"hy",1101:"as",2092:"az-Cyrl",1068:"az",1133:"ba",1069:"eu",1059:"be",2117:"bn",1093:"bn-IN",8218:"bs-Cyrl",5146:"bs",1150:"br",1026:"bg",1027:"ca",3076:"zh-HK",5124:"zh-MO",2052:"zh",4100:"zh-SG",1028:"zh-TW",1155:"co",1050:"hr",4122:"hr-BA",1029:"cs",1030:"da",1164:"prs",1125:"dv",2067:"nl-BE",1043:"nl",3081:"en-AU",10249:"en-BZ",4105:"en-CA",9225:"en-029",16393:"en-IN",6153:"en-IE",8201:"en-JM",17417:"en-MY",5129:"en-NZ",13321:"en-PH",18441:"en-SG",7177:"en-ZA",11273:"en-TT",2057:"en-GB",1033:"en",12297:"en-ZW",1061:"et",1080:"fo",1124:"fil",1035:"fi",2060:"fr-BE",3084:"fr-CA",1036:"fr",5132:"fr-LU",6156:"fr-MC",4108:"fr-CH",1122:"fy",1110:"gl",1079:"ka",3079:"de-AT",1031:"de",5127:"de-LI",4103:"de-LU",2055:"de-CH",1032:"el",1135:"kl",1095:"gu",1128:"ha",1037:"he",1081:"hi",1038:"hu",1039:"is",1136:"ig",1057:"id",1117:"iu",2141:"iu-Latn",2108:"ga",1076:"xh",1077:"zu",1040:"it",2064:"it-CH",1041:"ja",1099:"kn",1087:"kk",1107:"km",1158:"quc",1159:"rw",1089:"sw",1111:"kok",1042:"ko",1088:"ky",1108:"lo",1062:"lv",1063:"lt",2094:"dsb",1134:"lb",1071:"mk",2110:"ms-BN",1086:"ms",1100:"ml",1082:"mt",1153:"mi",1146:"arn",1102:"mr",1148:"moh",1104:"mn",2128:"mn-CN",1121:"ne",1044:"nb",2068:"nn",1154:"oc",1096:"or",1123:"ps",1045:"pl",1046:"pt",2070:"pt-PT",1094:"pa",1131:"qu-BO",2155:"qu-EC",3179:"qu",1048:"ro",1047:"rm",1049:"ru",9275:"smn",4155:"smj-NO",5179:"smj",3131:"se-FI",1083:"se",2107:"se-SE",8251:"sms",6203:"sma-NO",7227:"sms",1103:"sa",7194:"sr-Cyrl-BA",3098:"sr",6170:"sr-Latn-BA",2074:"sr-Latn",1132:"nso",1074:"tn",1115:"si",1051:"sk",1060:"sl",11274:"es-AR",16394:"es-BO",13322:"es-CL",9226:"es-CO",5130:"es-CR",7178:"es-DO",12298:"es-EC",17418:"es-SV",4106:"es-GT",18442:"es-HN",2058:"es-MX",19466:"es-NI",6154:"es-PA",15370:"es-PY",10250:"es-PE",20490:"es-PR",3082:"es",1034:"es",21514:"es-US",14346:"es-UY",8202:"es-VE",2077:"sv-FI",1053:"sv",1114:"syr",1064:"tg",2143:"tzm",1097:"ta",1092:"tt",1098:"te",1054:"th",1105:"bo",1055:"tr",1090:"tk",1152:"ug",1058:"uk",1070:"hsb",1056:"ur",2115:"uz-Cyrl",1091:"uz",1066:"vi",1106:"cy",1160:"wo",1157:"sah",1144:"ii",1130:"yo"};function Qe(e,t,r){switch(e){case 0:if(65535===t)return"und";if(r)return r[t];break;case 1:return je[t];case 3:return Ze[t]}}var Ke="utf-16",Je={0:"macintosh",1:"x-mac-japanese",2:"x-mac-chinesetrad",3:"x-mac-korean",6:"x-mac-greek",7:"x-mac-cyrillic",9:"x-mac-devanagai",10:"x-mac-gurmukhi",11:"x-mac-gujarati",12:"x-mac-oriya",13:"x-mac-bengali",14:"x-mac-tamil",15:"x-mac-telugu",16:"x-mac-kannada",17:"x-mac-malayalam",18:"x-mac-sinhalese",19:"x-mac-burmese",20:"x-mac-khmer",21:"x-mac-thai",22:"x-mac-lao",23:"x-mac-georgian",24:"x-mac-armenian",25:"x-mac-chinesesimp",26:"x-mac-tibetan",27:"x-mac-mongolian",28:"x-mac-ethiopic",29:"x-mac-ce",30:"x-mac-vietnamese",31:"x-mac-extarabic"},$e={15:"x-mac-icelandic",17:"x-mac-turkish",18:"x-mac-croatian",24:"x-mac-ce",25:"x-mac-ce",26:"x-mac-ce",27:"x-mac-ce",28:"x-mac-ce",30:"x-mac-icelandic",37:"x-mac-romanian",38:"x-mac-ce",39:"x-mac-ce",40:"x-mac-ce",143:"x-mac-inuit",146:"x-mac-gaelic"};function et(e,t,r){switch(e){case 0:return Ke;case 1:return $e[r]||Je[t];case 3:if(1===t||10===t)return Ke}}function tt(e){var t={};for(var r in e)t[e[r]]=parseInt(r);return t}function rt(e,t,r,n,a,o){return new $.Record("NameRecord",[{name:"platformID",type:"USHORT",value:e},{name:"encodingID",type:"USHORT",value:t},{name:"languageID",type:"USHORT",value:r},{name:"nameID",type:"USHORT",value:n},{name:"length",type:"USHORT",value:a},{name:"offset",type:"USHORT",value:o}])}function nt(e,t){var r=function(e,t){var r=e.length,n=t.length-r+1;e:for(var a=0;a<n;a++)for(;a<n;a++){for(var o=0;o<r;o++)if(t[a+o]!==e[o])continue e;return a}return-1}(e,t);if(r<0){r=t.length;for(var n=0,a=e.length;n<a;++n)t.push(e[n])}return r}var at={parse:function(e,t,r){for(var n={},a=new ie.Parser(e,t),o=a.parseUShort(),s=a.parseUShort(),i=a.offset+a.parseUShort(),u=0;u<s;u++){var l=a.parseUShort(),p=a.parseUShort(),c=a.parseUShort(),h=a.parseUShort(),f=Ve[h]||h,d=a.parseUShort(),g=a.parseUShort(),v=Qe(l,c,r),m=et(l,p,c);if(void 0!==m&&void 0!==v){var y=void 0;if(y=m===Ke?I.UTF16(e,i+g,d):I.MACSTRING(e,i+g,d,m)){var b=n[f];void 0===b&&(b=n[f]={}),b[v]=y}}}return 1===o&&a.parseUShort(),n},make:function(e,t){var r,n=[],a={},o=tt(Ve);for(var s in e){var i=o[s];if(void 0===i&&(i=s),r=parseInt(i),isNaN(r))throw new Error('Name table entry "'+s+'" does not exist, see nameTableNames for complete list.');a[r]=e[s],n.push(r)}for(var u=tt(je),l=tt(Ze),p=[],c=[],h=0;h<n.length;h++){var f=a[r=n[h]];for(var d in f){var g=f[d],v=1,m=u[d],y=Ye[m],b=et(v,y,m),S=M.MACSTRING(g,b);void 0===S&&(v=0,(m=t.indexOf(d))<0&&(m=t.length,t.push(d)),y=4,S=M.UTF16(g));var x=nt(S,c);p.push(rt(v,y,m,r,S.length,x));var T=l[d];if(void 0!==T){var U=M.UTF16(g),k=nt(U,c);p.push(rt(3,1,T,r,U.length,k))}}}p.sort(function(e,t){return e.platformID-t.platformID||e.encodingID-t.encodingID||e.languageID-t.languageID||e.nameID-t.nameID});for(var O=new $.Table("name",[{name:"format",type:"USHORT",value:0},{name:"count",type:"USHORT",value:p.length},{name:"stringOffset",type:"USHORT",value:6+12*p.length}]),E=0;E<p.length;E++)O.fields.push({name:"record_"+E,type:"RECORD",value:p[E]});return O.fields.push({name:"strings",type:"LITERAL",value:c}),O}},ot=[{begin:0,end:127},{begin:128,end:255},{begin:256,end:383},{begin:384,end:591},{begin:592,end:687},{begin:688,end:767},{begin:768,end:879},{begin:880,end:1023},{begin:11392,end:11519},{begin:1024,end:1279},{begin:1328,end:1423},{begin:1424,end:1535},{begin:42240,end:42559},{begin:1536,end:1791},{begin:1984,end:2047},{begin:2304,end:2431},{begin:2432,end:2559},{begin:2560,end:2687},{begin:2688,end:2815},{begin:2816,end:2943},{begin:2944,end:3071},{begin:3072,end:3199},{begin:3200,end:3327},{begin:3328,end:3455},{begin:3584,end:3711},{begin:3712,end:3839},{begin:4256,end:4351},{begin:6912,end:7039},{begin:4352,end:4607},{begin:7680,end:7935},{begin:7936,end:8191},{begin:8192,end:8303},{begin:8304,end:8351},{begin:8352,end:8399},{begin:8400,end:8447},{begin:8448,end:8527},{begin:8528,end:8591},{begin:8592,end:8703},{begin:8704,end:8959},{begin:8960,end:9215},{begin:9216,end:9279},{begin:9280,end:9311},{begin:9312,end:9471},{begin:9472,end:9599},{begin:9600,end:9631},{begin:9632,end:9727},{begin:9728,end:9983},{begin:9984,end:10175},{begin:12288,end:12351},{begin:12352,end:12447},{begin:12448,end:12543},{begin:12544,end:12591},{begin:12592,end:12687},{begin:43072,end:43135},{begin:12800,end:13055},{begin:13056,end:13311},{begin:44032,end:55215},{begin:55296,end:57343},{begin:67840,end:67871},{begin:19968,end:40959},{begin:57344,end:63743},{begin:12736,end:12783},{begin:64256,end:64335},{begin:64336,end:65023},{begin:65056,end:65071},{begin:65040,end:65055},{begin:65104,end:65135},{begin:65136,end:65279},{begin:65280,end:65519},{begin:65520,end:65535},{begin:3840,end:4095},{begin:1792,end:1871},{begin:1920,end:1983},{begin:3456,end:3583},{begin:4096,end:4255},{begin:4608,end:4991},{begin:5024,end:5119},{begin:5120,end:5759},{begin:5760,end:5791},{begin:5792,end:5887},{begin:6016,end:6143},{begin:6144,end:6319},{begin:10240,end:10495},{begin:40960,end:42127},{begin:5888,end:5919},{begin:66304,end:66351},{begin:66352,end:66383},{begin:66560,end:66639},{begin:118784,end:119039},{begin:119808,end:120831},{begin:1044480,end:1048573},{begin:65024,end:65039},{begin:917504,end:917631},{begin:6400,end:6479},{begin:6480,end:6527},{begin:6528,end:6623},{begin:6656,end:6687},{begin:11264,end:11359},{begin:11568,end:11647},{begin:19904,end:19967},{begin:43008,end:43055},{begin:65536,end:65663},{begin:65856,end:65935},{begin:66432,end:66463},{begin:66464,end:66527},{begin:66640,end:66687},{begin:66688,end:66735},{begin:67584,end:67647},{begin:68096,end:68191},{begin:119552,end:119647},{begin:73728,end:74751},{begin:119648,end:119679},{begin:7040,end:7103},{begin:7168,end:7247},{begin:7248,end:7295},{begin:43136,end:43231},{begin:43264,end:43311},{begin:43312,end:43359},{begin:43520,end:43615},{begin:65936,end:65999},{begin:66e3,end:66047},{begin:66208,end:66271},{begin:127024,end:127135}];var st={parse:function(e,t){var r={},n=new ie.Parser(e,t);r.version=n.parseUShort(),r.xAvgCharWidth=n.parseShort(),r.usWeightClass=n.parseUShort(),r.usWidthClass=n.parseUShort(),r.fsType=n.parseUShort(),r.ySubscriptXSize=n.parseShort(),r.ySubscriptYSize=n.parseShort(),r.ySubscriptXOffset=n.parseShort(),r.ySubscriptYOffset=n.parseShort(),r.ySuperscriptXSize=n.parseShort(),r.ySuperscriptYSize=n.parseShort(),r.ySuperscriptXOffset=n.parseShort(),r.ySuperscriptYOffset=n.parseShort(),r.yStrikeoutSize=n.parseShort(),r.yStrikeoutPosition=n.parseShort(),r.sFamilyClass=n.parseShort(),r.panose=[];for(var a=0;a<10;a++)r.panose[a]=n.parseByte();return r.ulUnicodeRange1=n.parseULong(),r.ulUnicodeRange2=n.parseULong(),r.ulUnicodeRange3=n.parseULong(),r.ulUnicodeRange4=n.parseULong(),r.achVendID=String.fromCharCode(n.parseByte(),n.parseByte(),n.parseByte(),n.parseByte()),r.fsSelection=n.parseUShort(),r.usFirstCharIndex=n.parseUShort(),r.usLastCharIndex=n.parseUShort(),r.sTypoAscender=n.parseShort(),r.sTypoDescender=n.parseShort(),r.sTypoLineGap=n.parseShort(),r.usWinAscent=n.parseUShort(),r.usWinDescent=n.parseUShort(),1<=r.version&&(r.ulCodePageRange1=n.parseULong(),r.ulCodePageRange2=n.parseULong()),2<=r.version&&(r.sxHeight=n.parseShort(),r.sCapHeight=n.parseShort(),r.usDefaultChar=n.parseUShort(),r.usBreakChar=n.parseUShort(),r.usMaxContent=n.parseUShort()),r},make:function(e){return new $.Table("OS/2",[{name:"version",type:"USHORT",value:3},{name:"xAvgCharWidth",type:"SHORT",value:0},{name:"usWeightClass",type:"USHORT",value:0},{name:"usWidthClass",type:"USHORT",value:0},{name:"fsType",type:"USHORT",value:0},{name:"ySubscriptXSize",type:"SHORT",value:650},{name:"ySubscriptYSize",type:"SHORT",value:699},{name:"ySubscriptXOffset",type:"SHORT",value:0},{name:"ySubscriptYOffset",type:"SHORT",value:140},{name:"ySuperscriptXSize",type:"SHORT",value:650},{name:"ySuperscriptYSize",type:"SHORT",value:699},{name:"ySuperscriptXOffset",type:"SHORT",value:0},{name:"ySuperscriptYOffset",type:"SHORT",value:479},{name:"yStrikeoutSize",type:"SHORT",value:49},{name:"yStrikeoutPosition",type:"SHORT",value:258},{name:"sFamilyClass",type:"SHORT",value:0},{name:"bFamilyType",type:"BYTE",value:0},{name:"bSerifStyle",type:"BYTE",value:0},{name:"bWeight",type:"BYTE",value:0},{name:"bProportion",type:"BYTE",value:0},{name:"bContrast",type:"BYTE",value:0},{name:"bStrokeVariation",type:"BYTE",value:0},{name:"bArmStyle",type:"BYTE",value:0},{name:"bLetterform",type:"BYTE",value:0},{name:"bMidline",type:"BYTE",value:0},{name:"bXHeight",type:"BYTE",value:0},{name:"ulUnicodeRange1",type:"ULONG",value:0},{name:"ulUnicodeRange2",type:"ULONG",value:0},{name:"ulUnicodeRange3",type:"ULONG",value:0},{name:"ulUnicodeRange4",type:"ULONG",value:0},{name:"achVendID",type:"CHARARRAY",value:"XXXX"},{name:"fsSelection",type:"USHORT",value:0},{name:"usFirstCharIndex",type:"USHORT",value:0},{name:"usLastCharIndex",type:"USHORT",value:0},{name:"sTypoAscender",type:"SHORT",value:0},{name:"sTypoDescender",type:"SHORT",value:0},{name:"sTypoLineGap",type:"SHORT",value:0},{name:"usWinAscent",type:"USHORT",value:0},{name:"usWinDescent",type:"USHORT",value:0},{name:"ulCodePageRange1",type:"ULONG",value:0},{name:"ulCodePageRange2",type:"ULONG",value:0},{name:"sxHeight",type:"SHORT",value:0},{name:"sCapHeight",type:"SHORT",value:0},{name:"usDefaultChar",type:"USHORT",value:0},{name:"usBreakChar",type:"USHORT",value:0},{name:"usMaxContext",type:"USHORT",value:0}],e)},unicodeRanges:ot,getUnicodeRange:function(e){for(var t=0;t<ot.length;t+=1){var r=ot[t];if(e>=r.begin&&e<r.end)return t}return-1}};var it={parse:function(e,t){var r={},n=new ie.Parser(e,t);switch(r.version=n.parseVersion(),r.italicAngle=n.parseFixed(),r.underlinePosition=n.parseShort(),r.underlineThickness=n.parseShort(),r.isFixedPitch=n.parseULong(),r.minMemType42=n.parseULong(),r.maxMemType42=n.parseULong(),r.minMemType1=n.parseULong(),r.maxMemType1=n.parseULong(),r.version){case 1:r.names=he.slice();break;case 2:r.numberOfGlyphs=n.parseUShort(),r.glyphNameIndex=new Array(r.numberOfGlyphs);for(var a=0;a<r.numberOfGlyphs;a++)r.glyphNameIndex[a]=n.parseUShort();r.names=[];for(var o=0;o<r.numberOfGlyphs;o++)if(r.glyphNameIndex[o]>=he.length){var s=n.parseChar();r.names.push(n.parseString(s))}break;case 2.5:r.numberOfGlyphs=n.parseUShort(),r.offset=new Array(r.numberOfGlyphs);for(var i=0;i<r.numberOfGlyphs;i++)r.offset[i]=n.parseChar()}return r},make:function(){return new $.Table("post",[{name:"version",type:"FIXED",value:196608},{name:"italicAngle",type:"FIXED",value:0},{name:"underlinePosition",type:"FWORD",value:0},{name:"underlineThickness",type:"FWORD",value:0},{name:"isFixedPitch",type:"ULONG",value:0},{name:"minMemType42",type:"ULONG",value:0},{name:"maxMemType42",type:"ULONG",value:0},{name:"minMemType1",type:"ULONG",value:0},{name:"maxMemType1",type:"ULONG",value:0}])}},ut=new Array(9);ut[1]=function(){var e=this.offset+this.relativeOffset,t=this.parseUShort();return 1===t?{substFormat:1,coverage:this.parsePointer(oe.coverage),deltaGlyphId:this.parseUShort()}:2===t?{substFormat:2,coverage:this.parsePointer(oe.coverage),substitute:this.parseOffset16List()}:void C.assert(!1,"0x"+e.toString(16)+": lookup type 1 format must be 1 or 2.")},ut[2]=function(){var e=this.parseUShort();return C.argument(1===e,"GSUB Multiple Substitution Subtable identifier-format must be 1"),{substFormat:e,coverage:this.parsePointer(oe.coverage),sequences:this.parseListOfLists()}},ut[3]=function(){var e=this.parseUShort();return C.argument(1===e,"GSUB Alternate Substitution Subtable identifier-format must be 1"),{substFormat:e,coverage:this.parsePointer(oe.coverage),alternateSets:this.parseListOfLists()}},ut[4]=function(){var e=this.parseUShort();return C.argument(1===e,"GSUB ligature table identifier-format must be 1"),{substFormat:e,coverage:this.parsePointer(oe.coverage),ligatureSets:this.parseListOfLists(function(){return{ligGlyph:this.parseUShort(),components:this.parseUShortList(this.parseUShort()-1)}})}};var lt={sequenceIndex:oe.uShort,lookupListIndex:oe.uShort};ut[5]=function(){var e=this.offset+this.relativeOffset,t=this.parseUShort();if(1===t)return{substFormat:t,coverage:this.parsePointer(oe.coverage),ruleSets:this.parseListOfLists(function(){var e=this.parseUShort(),t=this.parseUShort();return{input:this.parseUShortList(e-1),lookupRecords:this.parseRecordList(t,lt)}})};if(2===t)return{substFormat:t,coverage:this.parsePointer(oe.coverage),classDef:this.parsePointer(oe.classDef),classSets:this.parseListOfLists(function(){var e=this.parseUShort(),t=this.parseUShort();return{classes:this.parseUShortList(e-1),lookupRecords:this.parseRecordList(t,lt)}})};if(3===t){var r=this.parseUShort(),n=this.parseUShort();return{substFormat:t,coverages:this.parseList(r,oe.pointer(oe.coverage)),lookupRecords:this.parseRecordList(n,lt)}}C.assert(!1,"0x"+e.toString(16)+": lookup type 5 format must be 1, 2 or 3.")},ut[6]=function(){var e=this.offset+this.relativeOffset,t=this.parseUShort();return 1===t?{substFormat:1,coverage:this.parsePointer(oe.coverage),chainRuleSets:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(lt)}})}:2===t?{substFormat:2,coverage:this.parsePointer(oe.coverage),backtrackClassDef:this.parsePointer(oe.classDef),inputClassDef:this.parsePointer(oe.classDef),lookaheadClassDef:this.parsePointer(oe.classDef),chainClassSet:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(lt)}})}:3===t?{substFormat:3,backtrackCoverage:this.parseList(oe.pointer(oe.coverage)),inputCoverage:this.parseList(oe.pointer(oe.coverage)),lookaheadCoverage:this.parseList(oe.pointer(oe.coverage)),lookupRecords:this.parseRecordList(lt)}:void C.assert(!1,"0x"+e.toString(16)+": lookup type 6 format must be 1, 2 or 3.")},ut[7]=function(){var e=this.parseUShort();C.argument(1===e,"GSUB Extension Substitution subtable identifier-format must be 1");var t=this.parseUShort(),r=new oe(this.data,this.offset+this.parseULong());return{substFormat:1,lookupType:t,extension:ut[t].call(r)}},ut[8]=function(){var e=this.parseUShort();return C.argument(1===e,"GSUB Reverse Chaining Contextual Single Substitution Subtable identifier-format must be 1"),{substFormat:e,coverage:this.parsePointer(oe.coverage),backtrackCoverage:this.parseList(oe.pointer(oe.coverage)),lookaheadCoverage:this.parseList(oe.pointer(oe.coverage)),substitutes:this.parseUShortList()}};var pt=new Array(9);pt[1]=function(e){return 1===e.substFormat?new $.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new $.Coverage(e.coverage)},{name:"deltaGlyphID",type:"USHORT",value:e.deltaGlyphId}]):new $.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:2},{name:"coverage",type:"TABLE",value:new $.Coverage(e.coverage)}].concat($.ushortList("substitute",e.substitute)))},pt[3]=function(e){return C.assert(1===e.substFormat,"Lookup type 3 substFormat must be 1."),new $.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new $.Coverage(e.coverage)}].concat($.tableList("altSet",e.alternateSets,function(e){return new $.Table("alternateSetTable",$.ushortList("alternate",e))})))},pt[4]=function(e){return C.assert(1===e.substFormat,"Lookup type 4 substFormat must be 1."),new $.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new $.Coverage(e.coverage)}].concat($.tableList("ligSet",e.ligatureSets,function(e){return new $.Table("ligatureSetTable",$.tableList("ligature",e,function(e){return new $.Table("ligatureTable",[{name:"ligGlyph",type:"USHORT",value:e.ligGlyph}].concat($.ushortList("component",e.components,e.components.length+1)))}))})))};var ct={parse:function(e,t){var r=new oe(e,t=t||0),n=r.parseVersion(1);return C.argument(1===n||1.1===n,"Unsupported GSUB table version."),1===n?{version:n,scripts:r.parseScriptList(),features:r.parseFeatureList(),lookups:r.parseLookupList(ut)}:{version:n,scripts:r.parseScriptList(),features:r.parseFeatureList(),lookups:r.parseLookupList(ut),variations:r.parseFeatureVariationsList()}},make:function(e){return new $.Table("GSUB",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new $.ScriptList(e.scripts)},{name:"features",type:"TABLE",value:new $.FeatureList(e.features)},{name:"lookups",type:"TABLE",value:new $.LookupList(e.lookups,pt)}])}};var ht={parse:function(e,t){var r=new ie.Parser(e,t),n=r.parseULong();C.argument(1===n,"Unsupported META table version."),r.parseULong(),r.parseULong();for(var a=r.parseULong(),o={},s=0;s<a;s++){var i=r.parseTag(),u=r.parseULong(),l=r.parseULong(),p=I.UTF8(e,t+u,l);o[i]=p}return o},make:function(e){var t=Object.keys(e).length,r="",n=16+12*t,a=new $.Table("meta",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"offset",type:"ULONG",value:n},{name:"numTags",type:"ULONG",value:t}]);for(var o in e){var s=r.length;r+=e[o],a.fields.push({name:"tag "+o,type:"TAG",value:o}),a.fields.push({name:"offset "+o,type:"ULONG",value:n+s}),a.fields.push({name:"length "+o,type:"ULONG",value:e[o].length})}return a.fields.push({name:"stringPool",type:"CHARARRAY",value:r}),a}};function ft(e){return Math.log(e)/Math.log(2)|0}function dt(e){for(;e.length%4!=0;)e.push(0);for(var t=0,r=0;r<e.length;r+=4)t+=(e[r]<<24)+(e[r+1]<<16)+(e[r+2]<<8)+e[r+3];return t%=Math.pow(2,32)}function gt(e,t,r,n){return new $.Record("Table Record",[{name:"tag",type:"TAG",value:void 0!==e?e:""},{name:"checkSum",type:"ULONG",value:void 0!==t?t:0},{name:"offset",type:"ULONG",value:void 0!==r?r:0},{name:"length",type:"ULONG",value:void 0!==n?n:0}])}function vt(e){var t=new $.Table("sfnt",[{name:"version",type:"TAG",value:"OTTO"},{name:"numTables",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]);t.tables=e,t.numTables=e.length;var r=Math.pow(2,ft(t.numTables));t.searchRange=16*r,t.entrySelector=ft(r),t.rangeShift=16*t.numTables-t.searchRange;for(var n=[],a=[],o=t.sizeOf()+gt().sizeOf()*t.numTables;o%4!=0;)o+=1,a.push({name:"padding",type:"BYTE",value:0});for(var s=0;s<e.length;s+=1){var i=e[s];C.argument(4===i.tableName.length,"Table name"+i.tableName+" is invalid.");var u=i.sizeOf(),l=gt(i.tableName,dt(i.encode()),o,u);for(n.push({name:l.tag+" Table Record",type:"RECORD",value:l}),a.push({name:i.tableName+" table",type:"RECORD",value:i}),o+=u,C.argument(!isNaN(o),"Something went wrong calculating the offset.");o%4!=0;)o+=1,a.push({name:"padding",type:"BYTE",value:0})}return n.sort(function(e,t){return e.value.tag>t.value.tag?1:-1}),t.fields=t.fields.concat(n),t.fields=t.fields.concat(a),t}function mt(e,t,r){for(var n=0;n<t.length;n+=1){var a=e.charToGlyphIndex(t[n]);if(0<a)return e.glyphs.get(a).getMetrics()}return r}var yt={make:vt,fontToTable:function(e){for(var t,r=[],n=[],a=[],o=[],s=[],i=[],u=[],l=0,p=0,c=0,h=0,f=0,d=0;d<e.glyphs.length;d+=1){var g=e.glyphs.get(d),v=0|g.unicode;if(isNaN(g.advanceWidth))throw new Error("Glyph "+g.name+" ("+d+"): advanceWidth is not a number.");(v<t||void 0===t)&&0<v&&(t=v),l<v&&(l=v);var m=st.getUnicodeRange(v);if(m<32)p|=1<<m;else if(m<64)c|=1<<m-32;else if(m<96)h|=1<<m-64;else{if(!(m<123))throw new Error("Unicode ranges bits > 123 are reserved for internal usage");f|=1<<m-96}if(".notdef"!==g.name){var y=g.getMetrics();r.push(y.xMin),n.push(y.yMin),a.push(y.xMax),o.push(y.yMax),i.push(y.leftSideBearing),u.push(y.rightSideBearing),s.push(g.advanceWidth)}}var b={xMin:Math.min.apply(null,r),yMin:Math.min.apply(null,n),xMax:Math.max.apply(null,a),yMax:Math.max.apply(null,o),advanceWidthMax:Math.max.apply(null,s),advanceWidthAvg:function(e){for(var t=0,r=0;r<e.length;r+=1)t+=e[r];return t/e.length}(s),minLeftSideBearing:Math.min.apply(null,i),maxLeftSideBearing:Math.max.apply(null,i),minRightSideBearing:Math.min.apply(null,u)};b.ascender=e.ascender,b.descender=e.descender;var S=ze.make({flags:3,unitsPerEm:e.unitsPerEm,xMin:b.xMin,yMin:b.yMin,xMax:b.xMax,yMax:b.yMax,lowestRecPPEM:3,createdTimestamp:e.createdTimestamp}),x=We.make({ascender:b.ascender,descender:b.descender,advanceWidthMax:b.advanceWidthMax,minLeftSideBearing:b.minLeftSideBearing,minRightSideBearing:b.minRightSideBearing,xMaxExtent:b.maxLeftSideBearing+(b.xMax-b.xMin),numberOfHMetrics:e.glyphs.length}),T=Xe.make(e.glyphs.length),U=st.make(Object.assign({xAvgCharWidth:Math.round(b.advanceWidthAvg),usFirstCharIndex:t,usLastCharIndex:l,ulUnicodeRange1:p,ulUnicodeRange2:c,ulUnicodeRange3:h,ulUnicodeRange4:f,sTypoAscender:b.ascender,sTypoDescender:b.descender,sTypoLineGap:0,usWinAscent:b.yMax,usWinDescent:Math.abs(b.yMin),ulCodePageRange1:1,sxHeight:mt(e,"xyvw",{yMax:Math.round(b.ascender/2)}).yMax,sCapHeight:mt(e,"HIKLEFJMNTZBDPRAGOQSUVWXY",b).yMax,usDefaultChar:e.hasChar(" ")?32:0,usBreakChar:e.hasChar(" ")?32:0},e.tables.os2)),k=_e.make(e.glyphs),O=ue.make(e.glyphs),E=e.getEnglishName("fontFamily"),R=e.getEnglishName("fontSubfamily"),w=E+" "+R,L=e.getEnglishName("postScriptName");L=L||E.replace(/\s/g,"")+"-"+R;var C={};for(var D in e.names)C[D]=e.names[D];C.uniqueID||(C.uniqueID={en:e.getEnglishName("manufacturer")+":"+w}),C.postScriptName||(C.postScriptName={en:L}),C.preferredFamily||(C.preferredFamily=e.names.fontFamily),C.preferredSubfamily||(C.preferredSubfamily=e.names.fontSubfamily);var I=[],M=at.make(C,I),B=0<I.length?qe.make(I):void 0,G=it.make(),A=He.make(e.glyphs,{version:e.getEnglishName("version"),fullName:w,familyName:E,weightName:R,postScriptName:L,unitsPerEm:e.unitsPerEm,fontBBox:[0,b.yMin,b.ascender,b.advanceWidthMax]}),F=e.metas&&0<Object.keys(e.metas).length?ht.make(e.metas):void 0,N=[S,x,T,U,M,O,G,A,k];B&&N.push(B),e.tables.gsub&&N.push(ct.make(e.tables.gsub)),F&&N.push(F);for(var P=vt(N),H=dt(P.encode()),z=P.fields,W=!1,_=0;_<z.length;_+=1)if("head table"===z[_].name){z[_].value.checkSumAdjustment=2981146554-H,W=!0;break}if(!W)throw new Error("Could not find head table with checkSum to adjust.");return P},computeCheckSum:dt};function bt(e,t){for(var r=0,n=e.length-1;r<=n;){var a=r+n>>>1,o=e[a].tag;if(o===t)return a;o<t?r=1+a:n=a-1}return-r-1}function St(e,t){for(var r=0,n=e.length-1;r<=n;){var a=r+n>>>1,o=e[a];if(o===t)return a;o<t?r=1+a:n=a-1}return-r-1}function xt(e,t){for(var r,n=0,a=e.length-1;n<=a;){var o=n+a>>>1,s=(r=e[o]).start;if(s===t)return r;s<t?n=1+o:a=o-1}if(0<n)return t>(r=e[n-1]).end?0:r}function Tt(e,t){this.font=e,this.tableName=t}function Ut(e){Tt.call(this,e,"gpos")}function kt(e){Tt.call(this,e,"gsub")}function Ot(e,t){var r=e.length;if(r===t.length){for(var n=0;n<r;n++)if(e[n]!==t[n])return;return 1}}function Et(e,t,r){for(var n=e.subtables,a=0;a<n.length;a++){var o=n[a];if(o.substFormat===t)return o}if(r)return n.push(r),r}function Rt(e){for(var t=new ArrayBuffer(e.length),r=new Uint8Array(t),n=0;n<e.length;++n)r[n]=e[n];return t}function wt(e,t){if(!e)throw t}function Lt(e,t,r,n,a){var o;return o=0<(t&n)?(o=e.parseByte(),0==(t&a)&&(o=-o),r+o):0<(t&a)?r:r+e.parseShort()}function Ct(e,t,r){var n,a,o=new ie.Parser(t,r);if(e.numberOfContours=o.parseShort(),e._xMin=o.parseShort(),e._yMin=o.parseShort(),e._xMax=o.parseShort(),e._yMax=o.parseShort(),0<e.numberOfContours){for(var s=e.endPointIndices=[],i=0;i<e.numberOfContours;i+=1)s.push(o.parseUShort());e.instructionLength=o.parseUShort(),e.instructions=[];for(var u=0;u<e.instructionLength;u+=1)e.instructions.push(o.parseByte());var l=s[s.length-1]+1;n=[];for(var p=0;p<l;p+=1)if(a=o.parseByte(),n.push(a),0<(8&a))for(var c=o.parseByte(),h=0;h<c;h+=1)n.push(a),p+=1;if(C.argument(n.length===l,"Bad flags."),0<s.length){var f,d=[];if(0<l){for(var g=0;g<l;g+=1)a=n[g],(f={}).onCurve=!!(1&a),f.lastPointOfContour=0<=s.indexOf(g),d.push(f);for(var v=0,m=0;m<l;m+=1)a=n[m],(f=d[m]).x=Lt(o,a,v,2,16),v=f.x;for(var y=0,b=0;b<l;b+=1)a=n[b],(f=d[b]).y=Lt(o,a,y,4,32),y=f.y}e.points=d}else e.points=[]}else if(0===e.numberOfContours)e.points=[];else{e.isComposite=!0,e.points=[],e.components=[];for(var S=!0;S;){n=o.parseUShort();var x={glyphIndex:o.parseUShort(),xScale:1,scale01:0,scale10:0,yScale:1,dx:0,dy:0};0<(1&n)?0<(2&n)?(x.dx=o.parseShort(),x.dy=o.parseShort()):x.matchedPoints=[o.parseUShort(),o.parseUShort()]:0<(2&n)?(x.dx=o.parseChar(),x.dy=o.parseChar()):x.matchedPoints=[o.parseByte(),o.parseByte()],0<(8&n)?x.xScale=x.yScale=o.parseF2Dot14():0<(64&n)?(x.xScale=o.parseF2Dot14(),x.yScale=o.parseF2Dot14()):0<(128&n)&&(x.xScale=o.parseF2Dot14(),x.scale01=o.parseF2Dot14(),x.scale10=o.parseF2Dot14(),x.yScale=o.parseF2Dot14()),e.components.push(x),S=!!(32&n)}if(256&n){e.instructionLength=o.parseUShort(),e.instructions=[];for(var T=0;T<e.instructionLength;T+=1)e.instructions.push(o.parseByte())}}}function Dt(e,t){for(var r=[],n=0;n<e.length;n+=1){var a=e[n],o={x:t.xScale*a.x+t.scale01*a.y+t.dx,y:t.scale10*a.x+t.yScale*a.y+t.dy,onCurve:a.onCurve,lastPointOfContour:a.lastPointOfContour};r.push(o)}return r}function It(e){var t=new G;if(!e)return t;for(var r=function(e){for(var t=[],r=[],n=0;n<e.length;n+=1){var a=e[n];r.push(a),a.lastPointOfContour&&(t.push(r),r=[])}return C.argument(0===r.length,"There are still points left in the current contour."),t}(e),n=0;n<r.length;++n){var a=r[n],o=null,s=a[a.length-1],i=a[0];if(s.onCurve)t.moveTo(s.x,s.y);else if(i.onCurve)t.moveTo(i.x,i.y);else{var u={x:.5*(s.x+i.x),y:.5*(s.y+i.y)};t.moveTo(u.x,u.y)}for(var l=0;l<a.length;++l)if(o=s,s=i,i=a[(l+1)%a.length],s.onCurve)t.lineTo(s.x,s.y);else{var p=i;o.onCurve||(s.x,o.x,s.y,o.y),i.onCurve||(p={x:.5*(s.x+i.x),y:.5*(s.y+i.y)}),t.quadraticCurveTo(s.x,s.y,p.x,p.y)}t.closePath()}return t}function Mt(e,t){if(t.isComposite)for(var r=0;r<t.components.length;r+=1){var n=t.components[r],a=e.get(n.glyphIndex);if(a.getPath(),a.points){var o=void 0;if(void 0===n.matchedPoints)o=Dt(a.points,n);else{if(n.matchedPoints[0]>t.points.length-1||n.matchedPoints[1]>a.points.length-1)throw Error("Matched points out of range in "+t.name);var s=t.points[n.matchedPoints[0]],i=a.points[n.matchedPoints[1]],u={xScale:n.xScale,scale01:n.scale01,scale10:n.scale10,yScale:n.yScale,dx:0,dy:0};i=Dt([i],u)[0],u.dx=s.x-i.x,u.dy=s.y-i.y,o=Dt(a.points,u)}t.points=t.points.concat(o)}}return It(t.points)}(Ut.prototype=Tt.prototype={searchTag:bt,binSearch:St,getTable:function(e){var t=this.font.tables[this.tableName];return!t&&e&&(t=this.font.tables[this.tableName]=this.createDefaultTable()),t},getScriptNames:function(){var e=this.getTable();return e?e.scripts.map(function(e){return e.tag}):[]},getDefaultScriptName:function(){var e=this.getTable();if(e){for(var t=!1,r=0;r<e.scripts.length;r++){var n=e.scripts[r].tag;if("DFLT"===n)return n;"latn"===n&&(t=!0)}return t?"latn":void 0}},getScriptTable:function(e,t){var r=this.getTable(t);if(r){e=e||"DFLT";var n=r.scripts,a=bt(r.scripts,e);if(0<=a)return n[a].script;if(t){var o={tag:e,script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}};return n.splice(-1-a,0,o),o.script}}},getLangSysTable:function(e,t,r){var n=this.getScriptTable(e,r);if(n){if(!t||"dflt"===t||"DFLT"===t)return n.defaultLangSys;var a=bt(n.langSysRecords,t);if(0<=a)return n.langSysRecords[a].langSys;if(r){var o={tag:t,langSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]}};return n.langSysRecords.splice(-1-a,0,o),o.langSys}}},getFeatureTable:function(e,t,r,n){var a=this.getLangSysTable(e,t,n);if(a){for(var o,s=a.featureIndexes,i=this.font.tables[this.tableName].features,u=0;u<s.length;u++)if((o=i[s[u]]).tag===r)return o.feature;if(n){var l=i.length;return C.assert(0===l||r>=i[l-1].tag,"Features must be added in alphabetical order."),o={tag:r,feature:{params:0,lookupListIndexes:[]}},i.push(o),s.push(l),o.feature}}},getLookupTables:function(e,t,r,n,a){var o=this.getFeatureTable(e,t,r,a),s=[];if(o){for(var i,u=o.lookupListIndexes,l=this.font.tables[this.tableName].lookups,p=0;p<u.length;p++)(i=l[u[p]]).lookupType===n&&s.push(i);if(0===s.length&&a){i={lookupType:n,lookupFlag:0,subtables:[],markFilteringSet:void 0};var c=l.length;return l.push(i),u.push(c),[i]}}return s},getGlyphClass:function(e,t){switch(e.format){case 1:return e.startGlyph<=t&&t<e.startGlyph+e.classes.length?e.classes[t-e.startGlyph]:0;case 2:var r=xt(e.ranges,t);return r?r.classId:0}},getCoverageIndex:function(e,t){switch(e.format){case 1:var r=St(e.glyphs,t);return 0<=r?r:-1;case 2:var n=xt(e.ranges,t);return n?n.index+t-n.start:-1}},expandCoverage:function(e){if(1===e.format)return e.glyphs;for(var t=[],r=e.ranges,n=0;n<r.length;n++)for(var a=r[n],o=a.start,s=a.end,i=o;i<=s;i++)t.push(i);return t}}).init=function(){var e=this.getDefaultScriptName();this.defaultKerningTables=this.getKerningTables(e)},Ut.prototype.getKerningValue=function(e,t,r){for(var n=0;n<e.length;n++)for(var a=e[n].subtables,o=0;o<a.length;o++){var s=a[o],i=this.getCoverageIndex(s.coverage,t);if(!(i<0))switch(s.posFormat){case 1:for(var u=s.pairSets[i],l=0;l<u.length;l++){var p=u[l];if(p.secondGlyph===r)return p.value1&&p.value1.xAdvance||0}break;case 2:var c=this.getGlyphClass(s.classDef1,t),h=this.getGlyphClass(s.classDef2,r),f=s.classRecords[c][h];return f.value1&&f.value1.xAdvance||0}}return 0},Ut.prototype.getKerningTables=function(e,t){if(this.font.tables.gpos)return this.getLookupTables(e,t,"kern",2)},(kt.prototype=Tt.prototype).createDefaultTable=function(){return{version:1,scripts:[{tag:"DFLT",script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}}],features:[],lookups:[]}},kt.prototype.getSingle=function(e,t,r){for(var n=[],a=this.getLookupTables(t,r,e,1),o=0;o<a.length;o++)for(var s=a[o].subtables,i=0;i<s.length;i++){var u=s[i],l=this.expandCoverage(u.coverage),p=void 0;if(1===u.substFormat){var c=u.deltaGlyphId;for(p=0;p<l.length;p++){var h=l[p];n.push({sub:h,by:h+c})}}else{var f=u.substitute;for(p=0;p<l.length;p++)n.push({sub:l[p],by:f[p]})}}return n},kt.prototype.getAlternates=function(e,t,r){for(var n=[],a=this.getLookupTables(t,r,e,3),o=0;o<a.length;o++)for(var s=a[o].subtables,i=0;i<s.length;i++)for(var u=s[i],l=this.expandCoverage(u.coverage),p=u.alternateSets,c=0;c<l.length;c++)n.push({sub:l[c],by:p[c]});return n},kt.prototype.getLigatures=function(e,t,r){for(var n=[],a=this.getLookupTables(t,r,e,4),o=0;o<a.length;o++)for(var s=a[o].subtables,i=0;i<s.length;i++)for(var u=s[i],l=this.expandCoverage(u.coverage),p=u.ligatureSets,c=0;c<l.length;c++)for(var h=l[c],f=p[c],d=0;d<f.length;d++){var g=f[d];n.push({sub:[h].concat(g.components),by:g.ligGlyph})}return n},kt.prototype.addSingle=function(e,t,r,n){var a=Et(this.getLookupTables(r,n,e,1,!0)[0],2,{substFormat:2,coverage:{format:1,glyphs:[]},substitute:[]});C.assert(1===a.coverage.format,"Ligature: unable to modify coverage table format "+a.coverage.format);var o=t.sub,s=this.binSearch(a.coverage.glyphs,o);s<0&&(s=-1-s,a.coverage.glyphs.splice(s,0,o),a.substitute.splice(s,0,0)),a.substitute[s]=t.by},kt.prototype.addAlternate=function(e,t,r,n){var a=Et(this.getLookupTables(r,n,e,3,!0)[0],1,{substFormat:1,coverage:{format:1,glyphs:[]},alternateSets:[]});C.assert(1===a.coverage.format,"Ligature: unable to modify coverage table format "+a.coverage.format);var o=t.sub,s=this.binSearch(a.coverage.glyphs,o);s<0&&(s=-1-s,a.coverage.glyphs.splice(s,0,o),a.alternateSets.splice(s,0,0)),a.alternateSets[s]=t.by},kt.prototype.addLigature=function(e,t,r,n){var a=this.getLookupTables(r,n,e,4,!0)[0],o=a.subtables[0];o||(o={substFormat:1,coverage:{format:1,glyphs:[]},ligatureSets:[]},a.subtables[0]=o),C.assert(1===o.coverage.format,"Ligature: unable to modify coverage table format "+o.coverage.format);var s=t.sub[0],i=t.sub.slice(1),u={ligGlyph:t.by,components:i},l=this.binSearch(o.coverage.glyphs,s);if(0<=l){for(var p=o.ligatureSets[l],c=0;c<p.length;c++)if(Ot(p[c].components,i))return;p.push(u)}else l=-1-l,o.coverage.glyphs.splice(l,0,s),o.ligatureSets.splice(l,0,[u])},kt.prototype.getFeature=function(e,t,r){if(/ss\d\d/.test(e))return this.getSingle(e,t,r);switch(e){case"aalt":case"salt":return this.getSingle(e,t,r).concat(this.getAlternates(e,t,r));case"dlig":case"liga":case"rlig":return this.getLigatures(e,t,r)}},kt.prototype.add=function(e,t,r,n){if(/ss\d\d/.test(e))return this.addSingle(e,t,r,n);switch(e){case"aalt":case"salt":return"number"==typeof t.by?this.addSingle(e,t,r,n):this.addAlternate(e,t,r,n);case"dlig":case"liga":case"rlig":return this.addLigature(e,t,r,n)}};var Bt,Gt,At,Ft,Nt={getPath:It,parse:function(e,t,r,n,a){return a.lowMemory?(o=e,s=t,i=r,u=n,l=new Te.GlyphSet(u),u._push=function(e){var t=i[e];t!==i[e+1]?l.push(e,Te.ttfGlyphLoader(u,e,Ct,o,s+t,Mt)):l.push(e,Te.glyphLoader(u,e))},l):function(e,t,r,n){for(var a=new Te.GlyphSet(n),o=0;o<r.length-1;o+=1){var s=r[o];s!==r[o+1]?a.push(o,Te.ttfGlyphLoader(n,o,Ct,e,t+s,Mt)):a.push(o,Te.glyphLoader(n,o))}return a}(e,t,r,n);var o,s,i,u,l}};function Pt(e){this.font=e,this.getCommands=function(e){return Nt.getPath(e).commands},this._fpgmState=this._prepState=void 0,this._errorState=0}function Ht(e){return e}function zt(e){return Math.sign(e)*Math.round(Math.abs(e))}function Wt(e){return Math.sign(e)*Math.round(Math.abs(2*e))/2}function _t(e){return Math.sign(e)*(Math.round(Math.abs(e)+.5)-.5)}function qt(e){return Math.sign(e)*Math.ceil(Math.abs(e))}function Xt(e){return Math.sign(e)*Math.floor(Math.abs(e))}function Vt(e){var t=this.srPeriod,r=this.srPhase,n=1;return e<0&&(e=-e,n=-1),e+=this.srThreshold-r,e=Math.trunc(e/t)*t,(e+=r)<0?r*n:e*n}var jt={x:1,y:0,axis:"x",distance:function(e,t,r,n){return(r?e.xo:e.x)-(n?t.xo:t.x)},interpolate:function(e,t,r,n){var a,o,s,i,u,l,p;if(!n||n===this)return a=e.xo-t.xo,o=e.xo-r.xo,u=t.x-t.xo,l=r.x-r.xo,0===(p=(s=Math.abs(a))+(i=Math.abs(o)))?void(e.x=e.xo+(u+l)/2):void(e.x=e.xo+(u*i+l*s)/p);a=n.distance(e,t,!0,!0),o=n.distance(e,r,!0,!0),u=n.distance(t,t,!1,!0),l=n.distance(r,r,!1,!0),0!==(p=(s=Math.abs(a))+(i=Math.abs(o)))?jt.setRelative(e,e,(u*i+l*s)/p,n,!0):jt.setRelative(e,e,(u+l)/2,n,!0)},normalSlope:Number.NEGATIVE_INFINITY,setRelative:function(e,t,r,n,a){if(n&&n!==this){var o=a?t.xo:t.x,s=a?t.yo:t.y,i=o+r*n.x,u=s+r*n.y;e.x=i+(e.y-u)/n.normalSlope}else e.x=(a?t.xo:t.x)+r},slope:0,touch:function(e){e.xTouched=!0},touched:function(e){return e.xTouched},untouch:function(e){e.xTouched=!1}},Yt={x:0,y:1,axis:"y",distance:function(e,t,r,n){return(r?e.yo:e.y)-(n?t.yo:t.y)},interpolate:function(e,t,r,n){var a,o,s,i,u,l,p;if(!n||n===this)return a=e.yo-t.yo,o=e.yo-r.yo,u=t.y-t.yo,l=r.y-r.yo,0===(p=(s=Math.abs(a))+(i=Math.abs(o)))?void(e.y=e.yo+(u+l)/2):void(e.y=e.yo+(u*i+l*s)/p);a=n.distance(e,t,!0,!0),o=n.distance(e,r,!0,!0),u=n.distance(t,t,!1,!0),l=n.distance(r,r,!1,!0),0!==(p=(s=Math.abs(a))+(i=Math.abs(o)))?Yt.setRelative(e,e,(u*i+l*s)/p,n,!0):Yt.setRelative(e,e,(u+l)/2,n,!0)},normalSlope:0,setRelative:function(e,t,r,n,a){if(n&&n!==this){var o=a?t.xo:t.x,s=a?t.yo:t.y,i=o+r*n.x,u=s+r*n.y;e.y=u+n.normalSlope*(e.x-i)}else e.y=(a?t.yo:t.y)+r},slope:Number.POSITIVE_INFINITY,touch:function(e){e.yTouched=!0},touched:function(e){return e.yTouched},untouch:function(e){e.yTouched=!1}};function Zt(e,t){this.x=e,this.y=t,this.axis=void 0,this.slope=t/e,this.normalSlope=-e/t,Object.freeze(this)}function Qt(e,t){var r=Math.sqrt(e*e+t*t);return t/=r,1===(e/=r)&&0===t?jt:0===e&&1===t?Yt:new Zt(e,t)}function Kt(e,t,r,n){this.x=this.xo=Math.round(64*e)/64,this.y=this.yo=Math.round(64*t)/64,this.lastPointOfContour=r,this.onCurve=n,this.prevPointOnContour=void 0,this.nextPointOnContour=void 0,this.xTouched=!1,this.yTouched=!1,Object.preventExtensions(this)}Object.freeze(jt),Object.freeze(Yt),Zt.prototype.distance=function(e,t,r,n){return this.x*jt.distance(e,t,r,n)+this.y*Yt.distance(e,t,r,n)},Zt.prototype.interpolate=function(e,t,r,n){var a,o,s,i,u,l,p;s=n.distance(e,t,!0,!0),i=n.distance(e,r,!0,!0),a=n.distance(t,t,!1,!0),o=n.distance(r,r,!1,!0),0!==(p=(u=Math.abs(s))+(l=Math.abs(i)))?this.setRelative(e,e,(a*l+o*u)/p,n,!0):this.setRelative(e,e,(a+o)/2,n,!0)},Zt.prototype.setRelative=function(e,t,r,n,a){n=n||this;var o=a?t.xo:t.x,s=a?t.yo:t.y,i=o+r*n.x,u=s+r*n.y,l=n.normalSlope,p=this.slope,c=e.x,h=e.y;e.x=(p*c-l*i+u-h)/(p-l),e.y=p*(e.x-c)+h},Zt.prototype.touch=function(e){e.xTouched=!0,e.yTouched=!0},Kt.prototype.nextTouched=function(e){for(var t=this.nextPointOnContour;!e.touched(t)&&t!==this;)t=t.nextPointOnContour;return t},Kt.prototype.prevTouched=function(e){for(var t=this.prevPointOnContour;!e.touched(t)&&t!==this;)t=t.prevPointOnContour;return t};var Jt=Object.freeze(new Kt(0,0)),$t={cvCutIn:17/16,deltaBase:9,deltaShift:.125,loop:1,minDis:1,autoFlip:!0};function er(e,t){switch(this.env=e,this.stack=[],this.prog=t,e){case"glyf":this.zp0=this.zp1=this.zp2=1,this.rp0=this.rp1=this.rp2=0;case"prep":this.fv=this.pv=this.dpv=jt,this.round=zt}}function tr(e){for(var t=e.tZone=new Array(e.gZone.length),r=0;r<t.length;r++)t[r]=new Kt(0,0)}function rr(e,t){var r,n=e.prog,a=e.ip,o=1;do{if(88===(r=n[++a]))o++;else if(89===r)o--;else if(64===r)a+=n[a+1]+1;else if(65===r)a+=2*n[a+1]+1;else if(176<=r&&r<=183)a+=r-176+1;else if(184<=r&&r<=191)a+=2*(r-184+1);else if(t&&1===o&&27===r)break}while(0<o);e.ip=a}function nr(e,t){O.DEBUG&&console.log(t.step,"SVTCA["+e.axis+"]"),t.fv=t.pv=t.dpv=e}function ar(e,t){O.DEBUG&&console.log(t.step,"SPVTCA["+e.axis+"]"),t.pv=t.dpv=e}function or(e,t){O.DEBUG&&console.log(t.step,"SFVTCA["+e.axis+"]"),t.fv=e}function sr(e,t){var r,n,a=t.stack,o=a.pop(),s=a.pop(),i=t.z2[o],u=t.z1[s];O.DEBUG&&console.log("SPVTL["+e+"]",o,s),n=e?(r=i.y-u.y,u.x-i.x):(r=u.x-i.x,u.y-i.y),t.pv=t.dpv=Qt(r,n)}function ir(e,t){var r,n,a=t.stack,o=a.pop(),s=a.pop(),i=t.z2[o],u=t.z1[s];O.DEBUG&&console.log("SFVTL["+e+"]",o,s),n=e?(r=i.y-u.y,u.x-i.x):(r=u.x-i.x,u.y-i.y),t.fv=Qt(r,n)}function ur(e){O.DEBUG&&console.log(e.step,"POP[]"),e.stack.pop()}function lr(e,t){var r=t.stack.pop(),n=t.z0[r],a=t.fv,o=t.pv;O.DEBUG&&console.log(t.step,"MDAP["+e+"]",r);var s=o.distance(n,Jt);e&&(s=t.round(s)),a.setRelative(n,Jt,s,o),a.touch(n),t.rp0=t.rp1=r}function pr(e,t){var r,n,a,o=t.z2,s=o.length-2;O.DEBUG&&console.log(t.step,"IUP["+e.axis+"]");for(var i=0;i<s;i++)r=o[i],e.touched(r)||(n=r.prevTouched(e))!==r&&(n===(a=r.nextTouched(e))&&e.setRelative(r,r,e.distance(n,n,!1,!0),e,!0),e.interpolate(r,n,a,e))}function cr(e,t){for(var r=t.stack,n=e?t.rp1:t.rp2,a=(e?t.z0:t.z1)[n],o=t.fv,s=t.pv,i=t.loop,u=t.z2;i--;){var l=r.pop(),p=u[l],c=s.distance(a,a,!1,!0);o.setRelative(p,p,c,s),o.touch(p),O.DEBUG&&console.log(t.step,(1<t.loop?"loop "+(t.loop-i)+": ":"")+"SHP["+(e?"rp1":"rp2")+"]",l)}t.loop=1}function hr(e,t){var r=t.stack,n=e?t.rp1:t.rp2,a=(e?t.z0:t.z1)[n],o=t.fv,s=t.pv,i=r.pop(),u=t.z2[t.contours[i]],l=u;O.DEBUG&&console.log(t.step,"SHC["+e+"]",i);for(var p=s.distance(a,a,!1,!0);l!==a&&o.setRelative(l,l,p,s),(l=l.nextPointOnContour)!==u;);}function fr(e,t){var r,n,a=t.stack,o=e?t.rp1:t.rp2,s=(e?t.z0:t.z1)[o],i=t.fv,u=t.pv,l=a.pop();switch(O.DEBUG&&console.log(t.step,"SHZ["+e+"]",l),l){case 0:r=t.tZone;break;case 1:r=t.gZone;break;default:throw new Error("Invalid zone")}for(var p=u.distance(s,s,!1,!0),c=r.length-2,h=0;h<c;h++)n=r[h],i.setRelative(n,n,p,u)}function dr(e,t){var r=t.stack,n=r.pop()/64,a=r.pop(),o=t.z1[a],s=t.z0[t.rp0],i=t.fv,u=t.pv;i.setRelative(o,s,n,u),i.touch(o),O.DEBUG&&console.log(t.step,"MSIRP["+e+"]",n,a),t.rp1=t.rp0,t.rp2=a,e&&(t.rp0=a)}function gr(e,t){var r=t.stack,n=r.pop(),a=r.pop(),o=t.z0[a],s=t.fv,i=t.pv,u=t.cvt[n];O.DEBUG&&console.log(t.step,"MIAP["+e+"]",n,"(",u,")",a);var l=i.distance(o,Jt);e&&(Math.abs(l-u)<t.cvCutIn&&(l=u),l=t.round(l)),s.setRelative(o,Jt,l,i),0===t.zp0&&(o.xo=o.x,o.yo=o.y),s.touch(o),t.rp0=t.rp1=a}function vr(e,t){var r=t.stack,n=r.pop(),a=t.z2[n];O.DEBUG&&console.log(t.step,"GC["+e+"]",n),r.push(64*t.dpv.distance(a,Jt,e,!1))}function mr(e,t){var r=t.stack,n=r.pop(),a=r.pop(),o=t.z1[n],s=t.z0[a],i=t.dpv.distance(s,o,e,e);O.DEBUG&&console.log(t.step,"MD["+e+"]",n,a,"->",i),t.stack.push(Math.round(64*i))}function yr(e,t){var r=t.stack,n=r.pop(),a=t.fv,o=t.pv,s=t.ppem,i=t.deltaBase+16*(e-1),u=t.deltaShift,l=t.z0;O.DEBUG&&console.log(t.step,"DELTAP["+e+"]",n,r);for(var p=0;p<n;p++){var c=r.pop(),h=r.pop();if(i+((240&h)>>4)===s){var f=(15&h)-8;0<=f&&f++,O.DEBUG&&console.log(t.step,"DELTAPFIX",c,"by",f*u);var d=l[c];a.setRelative(d,d,f*u,o)}}}function br(e,t){var r=t.stack,n=r.pop();O.DEBUG&&console.log(t.step,"ROUND[]"),r.push(64*t.round(n/64))}function Sr(e,t){var r=t.stack,n=r.pop(),a=t.ppem,o=t.deltaBase+16*(e-1),s=t.deltaShift;O.DEBUG&&console.log(t.step,"DELTAC["+e+"]",n,r);for(var i=0;i<n;i++){var u=r.pop(),l=r.pop();if(o+((240&l)>>4)===a){var p=(15&l)-8;0<=p&&p++;var c=p*s;O.DEBUG&&console.log(t.step,"DELTACFIX",u,"by",c),t.cvt[u]+=c}}}function xr(e,t){var r,n,a=t.stack,o=a.pop(),s=a.pop(),i=t.z2[o],u=t.z1[s];O.DEBUG&&console.log(t.step,"SDPVTL["+e+"]",o,s),n=e?(r=i.y-u.y,u.x-i.x):(r=u.x-i.x,u.y-i.y),t.dpv=Qt(r,n)}function Tr(e,t){var r=t.stack,n=t.prog,a=t.ip;O.DEBUG&&console.log(t.step,"PUSHB["+e+"]");for(var o=0;o<e;o++)r.push(n[++a]);t.ip=a}function Ur(e,t){var r=t.ip,n=t.prog,a=t.stack;O.DEBUG&&console.log(t.ip,"PUSHW["+e+"]");for(var o=0;o<e;o++){var s=n[++r]<<8|n[++r];32768&s&&(s=-(1+(65535^s))),a.push(s)}t.ip=r}function kr(e,t,r,n,a,o){var s,i,u,l,p=o.stack,c=e&&p.pop(),h=p.pop(),f=o.rp0,d=o.z0[f],g=o.z1[h],v=o.minDis,m=o.fv,y=o.dpv;u=0<=(i=s=y.distance(g,d,!0,!0))?1:-1,i=Math.abs(i),e&&(l=o.cvt[c],n&&Math.abs(i-l)<o.cvCutIn&&(i=l)),r&&i<v&&(i=v),n&&(i=o.round(i)),m.setRelative(g,d,u*i,y),m.touch(g),O.DEBUG&&console.log(o.step,(e?"MIRP[":"MDRP[")+(t?"M":"m")+(r?">":"_")+(n?"R":"_")+(0===a?"Gr":1===a?"Bl":2===a?"Wh":"")+"]",e?c+"("+o.cvt[c]+","+l+")":"",h,"(d =",s,"->",u*i,")"),o.rp1=o.rp0,o.rp2=h,t&&(o.rp0=h)}function Or(e){this.char=e,this.state={},this.activeState=null}function Er(e,t,r){this.contextName=r,this.startIndex=e,this.endOffset=t}function Rr(e,t,r){this.contextName=e,this.openRange=null,this.ranges=[],this.checkStart=t,this.checkEnd=r}function wr(e,t){this.context=e,this.index=t,this.length=e.length,this.current=e[t],this.backtrack=e.slice(0,t),this.lookahead=e.slice(t+1)}function Lr(e){this.eventId=e,this.subscribers=[]}function Cr(e){this.tokens=[],this.registeredContexts={},this.contextCheckers=[],this.events={},this.registeredModifiers=[],function(r){var n=this,e=["start","end","next","newToken","contextStart","contextEnd","insertToken","removeToken","removeRange","replaceToken","replaceRange","composeRUD","updateContextsRanges"];e.forEach(function(e){Object.defineProperty(n.events,e,{value:new Lr(e)})}),r&&e.forEach(function(e){var t=r[e];"function"==typeof t&&n.events[e].subscribe(t)}),["insertToken","removeToken","removeRange","replaceToken","replaceRange","composeRUD"].forEach(function(e){n.events[e].subscribe(n.updateContextsRanges)})}.call(this,e)}function Dr(e){return/[\u0600-\u065F\u066A-\u06D2\u06FA-\u06FF]/.test(e)}function Ir(e){return/[\u0630\u0690\u0621\u0631\u0661\u0671\u0622\u0632\u0672\u0692\u06C2\u0623\u0673\u0693\u06C3\u0624\u0694\u06C4\u0625\u0675\u0695\u06C5\u06E5\u0676\u0696\u06C6\u0627\u0677\u0697\u06C7\u0648\u0688\u0698\u06C8\u0689\u0699\u06C9\u068A\u06CA\u066B\u068B\u06CB\u068C\u068D\u06CD\u06FD\u068E\u06EE\u06FE\u062F\u068F\u06CF\u06EF]/.test(e)}function Mr(e){return/[\u0600-\u0605\u060C-\u060E\u0610-\u061B\u061E\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED]/.test(e)}function Br(e){return/[A-z]/.test(e)}function Gr(e){this.font=e,this.features={}}function Ar(e){this.id=e.id,this.tag=e.tag,this.substitution=e.substitution}function Fr(e,t){if(!e)return-1;switch(t.format){case 1:return t.glyphs.indexOf(e);case 2:for(var r=t.ranges,n=0;n<r.length;n++){var a=r[n];if(e>=a.start&&e<=a.end){var o=e-a.start;return a.index+o}}break;default:return-1}return-1}function Nr(e,t){for(var r=[],n=0;n<e.length;n++){var a=e[n],o=t.current,s=Fr(o=Array.isArray(o)?o[0]:o,a);-1!==s&&r.push(s)}return r.length!==e.length?-1:r}Pt.prototype.exec=function(e,t){if("number"!=typeof t)throw new Error("Point size is not a number!");if(!(2<this._errorState)){var r=this.font,n=this._prepState;if(!n||n.ppem!==t){var a=this._fpgmState;if(!a){er.prototype=$t,(a=this._fpgmState=new er("fpgm",r.tables.fpgm)).funcs=[],a.font=r,O.DEBUG&&(console.log("---EXEC FPGM---"),a.step=-1);try{Gt(a)}catch(e){return console.log("Hinting error in FPGM:"+e),void(this._errorState=3)}}er.prototype=a,(n=this._prepState=new er("prep",r.tables.prep)).ppem=t;var o=r.tables.cvt;if(o)for(var s=n.cvt=new Array(o.length),i=t/r.unitsPerEm,u=0;u<o.length;u++)s[u]=o[u]*i;else n.cvt=[];O.DEBUG&&(console.log("---EXEC PREP---"),n.step=-1);try{Gt(n)}catch(e){this._errorState<2&&console.log("Hinting error in PREP:"+e),this._errorState=2}}if(!(1<this._errorState))try{return At(e,n)}catch(e){return this._errorState<1&&(console.log("Hinting error:"+e),console.log("Note: further hinting errors are silenced")),void(this._errorState=1)}}},At=function(e,t){var r,n,a,o=t.ppem/t.font.unitsPerEm,s=o,i=e.components;if(er.prototype=t,i){var u=t.font;n=[],r=[];for(var l=0;l<i.length;l++){var p=i[l],c=u.glyphs.get(p.glyphIndex);a=new er("glyf",c.instructions),O.DEBUG&&(console.log("---EXEC COMP "+l+"---"),a.step=-1),Ft(c,a,o,s);for(var h=Math.round(p.dx*o),f=Math.round(p.dy*s),d=a.gZone,g=a.contours,v=0;v<d.length;v++){var m=d[v];m.xTouched=m.yTouched=!1,m.xo=m.x=m.x+h,m.yo=m.y=m.y+f}var y=n.length;n.push.apply(n,d);for(var b=0;b<g.length;b++)r.push(g[b]+y)}e.instructions&&!a.inhibitGridFit&&((a=new er("glyf",e.instructions)).gZone=a.z0=a.z1=a.z2=n,a.contours=r,n.push(new Kt(0,0),new Kt(Math.round(e.advanceWidth*o),0)),O.DEBUG&&(console.log("---EXEC COMPOSITE---"),a.step=-1),Gt(a),n.length-=2)}else a=new er("glyf",e.instructions),O.DEBUG&&(console.log("---EXEC GLYPH---"),a.step=-1),Ft(e,a,o,s),n=a.gZone;return n},Ft=function(e,t,r,n){for(var a,o,s,i=e.points||[],u=i.length,l=t.gZone=t.z0=t.z1=t.z2=[],p=t.contours=[],c=0;c<u;c++)a=i[c],l[c]=new Kt(a.x*r,a.y*n,a.lastPointOfContour,a.onCurve);for(var h=0;h<u;h++)a=l[h],o||(o=a,p.push(h)),a.lastPointOfContour?((a.nextPointOnContour=o).prevPointOnContour=a,o=void 0):(s=l[h+1],(a.nextPointOnContour=s).prevPointOnContour=a);if(!t.inhibitGridFit){if(O.DEBUG){console.log("PROCESSING GLYPH",t.stack);for(var f=0;f<u;f++)console.log(f,l[f].x,l[f].y)}if(l.push(new Kt(0,0),new Kt(Math.round(e.advanceWidth*r),0)),Gt(t),l.length-=2,O.DEBUG){console.log("FINISHED GLYPH",t.stack);for(var d=0;d<u;d++)console.log(d,l[d].x,l[d].y)}}},Gt=function(e){var t=e.prog;if(t){var r,n=t.length;for(e.ip=0;e.ip<n;e.ip++){if(O.DEBUG&&e.step++,!(r=Bt[t[e.ip]]))throw new Error("unknown instruction: 0x"+Number(t[e.ip]).toString(16));r(e)}}},Bt=[nr.bind(void 0,Yt),nr.bind(void 0,jt),ar.bind(void 0,Yt),ar.bind(void 0,jt),or.bind(void 0,Yt),or.bind(void 0,jt),sr.bind(void 0,0),sr.bind(void 0,1),ir.bind(void 0,0),ir.bind(void 0,1),function(e){var t=e.stack,r=t.pop(),n=t.pop();O.DEBUG&&console.log(e.step,"SPVFS[]",r,n),e.pv=e.dpv=Qt(n,r)},function(e){var t=e.stack,r=t.pop(),n=t.pop();O.DEBUG&&console.log(e.step,"SPVFS[]",r,n),e.fv=Qt(n,r)},function(e){var t=e.stack,r=e.pv;O.DEBUG&&console.log(e.step,"GPV[]"),t.push(16384*r.x),t.push(16384*r.y)},function(e){var t=e.stack,r=e.fv;O.DEBUG&&console.log(e.step,"GFV[]"),t.push(16384*r.x),t.push(16384*r.y)},function(e){e.fv=e.pv,O.DEBUG&&console.log(e.step,"SFVTPV[]")},function(e){var t=e.stack,r=t.pop(),n=t.pop(),a=t.pop(),o=t.pop(),s=t.pop(),i=e.z0,u=e.z1,l=i[r],p=i[n],c=u[a],h=u[o],f=e.z2[s];O.DEBUG&&console.log("ISECT[], ",r,n,a,o,s);var d=l.x,g=l.y,v=p.x,m=p.y,y=c.x,b=c.y,S=h.x,x=h.y,T=(d-v)*(b-x)-(g-m)*(y-S),U=d*m-g*v,k=y*x-b*S;f.x=(U*(y-S)-k*(d-v))/T,f.y=(U*(b-x)-k*(g-m))/T},function(e){e.rp0=e.stack.pop(),O.DEBUG&&console.log(e.step,"SRP0[]",e.rp0)},function(e){e.rp1=e.stack.pop(),O.DEBUG&&console.log(e.step,"SRP1[]",e.rp1)},function(e){e.rp2=e.stack.pop(),O.DEBUG&&console.log(e.step,"SRP2[]",e.rp2)},function(e){var t=e.stack.pop();switch(O.DEBUG&&console.log(e.step,"SZP0[]",t),e.zp0=t){case 0:e.tZone||tr(e),e.z0=e.tZone;break;case 1:e.z0=e.gZone;break;default:throw new Error("Invalid zone pointer")}},function(e){var t=e.stack.pop();switch(O.DEBUG&&console.log(e.step,"SZP1[]",t),e.zp1=t){case 0:e.tZone||tr(e),e.z1=e.tZone;break;case 1:e.z1=e.gZone;break;default:throw new Error("Invalid zone pointer")}},function(e){var t=e.stack.pop();switch(O.DEBUG&&console.log(e.step,"SZP2[]",t),e.zp2=t){case 0:e.tZone||tr(e),e.z2=e.tZone;break;case 1:e.z2=e.gZone;break;default:throw new Error("Invalid zone pointer")}},function(e){var t=e.stack.pop();switch(O.DEBUG&&console.log(e.step,"SZPS[]",t),e.zp0=e.zp1=e.zp2=t,t){case 0:e.tZone||tr(e),e.z0=e.z1=e.z2=e.tZone;break;case 1:e.z0=e.z1=e.z2=e.gZone;break;default:throw new Error("Invalid zone pointer")}},function(e){e.loop=e.stack.pop(),O.DEBUG&&console.log(e.step,"SLOOP[]",e.loop)},function(e){O.DEBUG&&console.log(e.step,"RTG[]"),e.round=zt},function(e){O.DEBUG&&console.log(e.step,"RTHG[]"),e.round=_t},function(e){var t=e.stack.pop();O.DEBUG&&console.log(e.step,"SMD[]",t),e.minDis=t/64},function(e){O.DEBUG&&console.log(e.step,"ELSE[]"),rr(e,!1)},function(e){var t=e.stack.pop();O.DEBUG&&console.log(e.step,"JMPR[]",t),e.ip+=t-1},function(e){var t=e.stack.pop();O.DEBUG&&console.log(e.step,"SCVTCI[]",t),e.cvCutIn=t/64},void 0,void 0,function(e){var t=e.stack;O.DEBUG&&console.log(e.step,"DUP[]"),t.push(t[t.length-1])},ur,function(e){O.DEBUG&&console.log(e.step,"CLEAR[]"),e.stack.length=0},function(e){var t=e.stack,r=t.pop(),n=t.pop();O.DEBUG&&console.log(e.step,"SWAP[]"),t.push(r),t.push(n)},function(e){var t=e.stack;O.DEBUG&&console.log(e.step,"DEPTH[]"),t.push(t.length)},function(e){var t=e.stack,r=t.pop();O.DEBUG&&console.log(e.step,"CINDEX[]",r),t.push(t[t.length-r])},function(e){var t=e.stack,r=t.pop();O.DEBUG&&console.log(e.step,"MINDEX[]",r),t.push(t.splice(t.length-r,1)[0])},void 0,void 0,void 0,function(e){var t=e.stack,r=t.pop(),n=t.pop();O.DEBUG&&console.log(e.step,"LOOPCALL[]",r,n);var a=e.ip,o=e.prog;e.prog=e.funcs[r];for(var s=0;s<n;s++)Gt(e),O.DEBUG&&console.log(++e.step,s+1<n?"next loopcall":"done loopcall",s);e.ip=a,e.prog=o},function(e){var t=e.stack.pop();O.DEBUG&&console.log(e.step,"CALL[]",t);var r=e.ip,n=e.prog;e.prog=e.funcs[t],Gt(e),e.ip=r,e.prog=n,O.DEBUG&&console.log(++e.step,"returning from",t)},function(e){if("fpgm"!==e.env)throw new Error("FDEF not allowed here");var t=e.stack,r=e.prog,n=e.ip,a=t.pop(),o=n;for(O.DEBUG&&console.log(e.step,"FDEF[]",a);45!==r[++n];);e.ip=n,e.funcs[a]=r.slice(o+1,n)},void 0,lr.bind(void 0,0),lr.bind(void 0,1),pr.bind(void 0,Yt),pr.bind(void 0,jt),cr.bind(void 0,0),cr.bind(void 0,1),hr.bind(void 0,0),hr.bind(void 0,1),fr.bind(void 0,0),fr.bind(void 0,1),function(e){for(var t=e.stack,r=e.loop,n=e.fv,a=t.pop()/64,o=e.z2;r--;){var s=t.pop(),i=o[s];O.DEBUG&&console.log(e.step,(1<e.loop?"loop "+(e.loop-r)+": ":"")+"SHPIX[]",s,a),n.setRelative(i,i,a),n.touch(i)}e.loop=1},function(e){for(var t=e.stack,r=e.rp1,n=e.rp2,a=e.loop,o=e.z0[r],s=e.z1[n],i=e.fv,u=e.dpv,l=e.z2;a--;){var p=t.pop(),c=l[p];O.DEBUG&&console.log(e.step,(1<e.loop?"loop "+(e.loop-a)+": ":"")+"IP[]",p,r,"<->",n),i.interpolate(c,o,s,u),i.touch(c)}e.loop=1},dr.bind(void 0,0),dr.bind(void 0,1),function(e){for(var t=e.stack,r=e.rp0,n=e.z0[r],a=e.loop,o=e.fv,s=e.pv,i=e.z1;a--;){var u=t.pop(),l=i[u];O.DEBUG&&console.log(e.step,(1<e.loop?"loop "+(e.loop-a)+": ":"")+"ALIGNRP[]",u),o.setRelative(l,n,0,s),o.touch(l)}e.loop=1},function(e){O.DEBUG&&console.log(e.step,"RTDG[]"),e.round=Wt},gr.bind(void 0,0),gr.bind(void 0,1),function(e){var t=e.prog,r=e.ip,n=e.stack,a=t[++r];O.DEBUG&&console.log(e.step,"NPUSHB[]",a);for(var o=0;o<a;o++)n.push(t[++r]);e.ip=r},function(e){var t=e.ip,r=e.prog,n=e.stack,a=r[++t];O.DEBUG&&console.log(e.step,"NPUSHW[]",a);for(var o=0;o<a;o++){var s=r[++t]<<8|r[++t];32768&s&&(s=-(1+(65535^s))),n.push(s)}e.ip=t},function(e){var t=e.stack,r=e.store;r=r||(e.store=[]);var n=t.pop(),a=t.pop();O.DEBUG&&console.log(e.step,"WS",n,a),r[a]=n},function(e){var t=e.stack,r=e.store,n=t.pop();O.DEBUG&&console.log(e.step,"RS",n);var a=r&&r[n]||0;t.push(a)},function(e){var t=e.stack,r=t.pop(),n=t.pop();O.DEBUG&&console.log(e.step,"WCVTP",r,n),e.cvt[n]=r/64},function(e){var t=e.stack,r=t.pop();O.DEBUG&&console.log(e.step,"RCVT",r),t.push(64*e.cvt[r])},vr.bind(void 0,0),vr.bind(void 0,1),void 0,mr.bind(void 0,0),mr.bind(void 0,1),function(e){O.DEBUG&&console.log(e.step,"MPPEM[]"),e.stack.push(e.ppem)},void 0,function(e){O.DEBUG&&console.log(e.step,"FLIPON[]"),e.autoFlip=!0},void 0,void 0,function(e){var t=e.stack,r=t.pop(),n=t.pop();O.DEBUG&&console.log(e.step,"LT[]",r,n),t.push(n<r?1:0)},function(e){var t=e.stack,r=t.pop(),n=t.pop();O.DEBUG&&console.log(e.step,"LTEQ[]",r,n),t.push(n<=r?1:0)},function(e){var t=e.stack,r=t.pop(),n=t.pop();O.DEBUG&&console.log(e.step,"GT[]",r,n),t.push(r<n?1:0)},function(e){var t=e.stack,r=t.pop(),n=t.pop();O.DEBUG&&console.log(e.step,"GTEQ[]",r,n),t.push(r<=n?1:0)},function(e){var t=e.stack,r=t.pop(),n=t.pop();O.DEBUG&&console.log(e.step,"EQ[]",r,n),t.push(r===n?1:0)},function(e){var t=e.stack,r=t.pop(),n=t.pop();O.DEBUG&&console.log(e.step,"NEQ[]",r,n),t.push(r!==n?1:0)},function(e){var t=e.stack,r=t.pop();O.DEBUG&&console.log(e.step,"ODD[]",r),t.push(Math.trunc(r)%2?1:0)},function(e){var t=e.stack,r=t.pop();O.DEBUG&&console.log(e.step,"EVEN[]",r),t.push(Math.trunc(r)%2?0:1)},function(e){var t=e.stack.pop();O.DEBUG&&console.log(e.step,"IF[]",t),t||(rr(e,!0),O.DEBUG&&console.log(e.step,"EIF[]"))},function(e){O.DEBUG&&console.log(e.step,"EIF[]")},function(e){var t=e.stack,r=t.pop(),n=t.pop();O.DEBUG&&console.log(e.step,"AND[]",r,n),t.push(r&&n?1:0)},function(e){var t=e.stack,r=t.pop(),n=t.pop();O.DEBUG&&console.log(e.step,"OR[]",r,n),t.push(r||n?1:0)},function(e){var t=e.stack,r=t.pop();O.DEBUG&&console.log(e.step,"NOT[]",r),t.push(r?0:1)},yr.bind(void 0,1),function(e){var t=e.stack.pop();O.DEBUG&&console.log(e.step,"SDB[]",t),e.deltaBase=t},function(e){var t=e.stack.pop();O.DEBUG&&console.log(e.step,"SDS[]",t),e.deltaShift=Math.pow(.5,t)},function(e){var t=e.stack,r=t.pop(),n=t.pop();O.DEBUG&&console.log(e.step,"ADD[]",r,n),t.push(n+r)},function(e){var t=e.stack,r=t.pop(),n=t.pop();O.DEBUG&&console.log(e.step,"SUB[]",r,n),t.push(n-r)},function(e){var t=e.stack,r=t.pop(),n=t.pop();O.DEBUG&&console.log(e.step,"DIV[]",r,n),t.push(64*n/r)},function(e){var t=e.stack,r=t.pop(),n=t.pop();O.DEBUG&&console.log(e.step,"MUL[]",r,n),t.push(n*r/64)},function(e){var t=e.stack,r=t.pop();O.DEBUG&&console.log(e.step,"ABS[]",r),t.push(Math.abs(r))},function(e){var t=e.stack,r=t.pop();O.DEBUG&&console.log(e.step,"NEG[]",r),t.push(-r)},function(e){var t=e.stack,r=t.pop();O.DEBUG&&console.log(e.step,"FLOOR[]",r),t.push(64*Math.floor(r/64))},function(e){var t=e.stack,r=t.pop();O.DEBUG&&console.log(e.step,"CEILING[]",r),t.push(64*Math.ceil(r/64))},br.bind(void 0,0),br.bind(void 0,1),br.bind(void 0,2),br.bind(void 0,3),void 0,void 0,void 0,void 0,function(e){var t=e.stack,r=t.pop(),n=t.pop();O.DEBUG&&console.log(e.step,"WCVTF[]",r,n),e.cvt[n]=r*e.ppem/e.font.unitsPerEm},yr.bind(void 0,2),yr.bind(void 0,3),Sr.bind(void 0,1),Sr.bind(void 0,2),Sr.bind(void 0,3),function(e){var t,r=e.stack.pop();switch(O.DEBUG&&console.log(e.step,"SROUND[]",r),e.round=Vt,192&r){case 0:t=.5;break;case 64:t=1;break;case 128:t=2;break;default:throw new Error("invalid SROUND value")}switch(e.srPeriod=t,48&r){case 0:e.srPhase=0;break;case 16:e.srPhase=.25*t;break;case 32:e.srPhase=.5*t;break;case 48:e.srPhase=.75*t;break;default:throw new Error("invalid SROUND value")}r&=15,e.srThreshold=0===r?0:(r/8-.5)*t},function(e){var t,r=e.stack.pop();switch(O.DEBUG&&console.log(e.step,"S45ROUND[]",r),e.round=Vt,192&r){case 0:t=Math.sqrt(2)/2;break;case 64:t=Math.sqrt(2);break;case 128:t=2*Math.sqrt(2);break;default:throw new Error("invalid S45ROUND value")}switch(e.srPeriod=t,48&r){case 0:e.srPhase=0;break;case 16:e.srPhase=.25*t;break;case 32:e.srPhase=.5*t;break;case 48:e.srPhase=.75*t;break;default:throw new Error("invalid S45ROUND value")}r&=15,e.srThreshold=0===r?0:(r/8-.5)*t},void 0,void 0,function(e){O.DEBUG&&console.log(e.step,"ROFF[]"),e.round=Ht},void 0,function(e){O.DEBUG&&console.log(e.step,"RUTG[]"),e.round=qt},function(e){O.DEBUG&&console.log(e.step,"RDTG[]"),e.round=Xt},ur,ur,void 0,void 0,void 0,void 0,void 0,function(e){var t=e.stack.pop();O.DEBUG&&console.log(e.step,"SCANCTRL[]",t)},xr.bind(void 0,0),xr.bind(void 0,1),function(e){var t=e.stack,r=t.pop(),n=0;O.DEBUG&&console.log(e.step,"GETINFO[]",r),1&r&&(n=35),32&r&&(n|=4096),t.push(n)},void 0,function(e){var t=e.stack,r=t.pop(),n=t.pop(),a=t.pop();O.DEBUG&&console.log(e.step,"ROLL[]"),t.push(n),t.push(r),t.push(a)},function(e){var t=e.stack,r=t.pop(),n=t.pop();O.DEBUG&&console.log(e.step,"MAX[]",r,n),t.push(Math.max(n,r))},function(e){var t=e.stack,r=t.pop(),n=t.pop();O.DEBUG&&console.log(e.step,"MIN[]",r,n),t.push(Math.min(n,r))},function(e){var t=e.stack.pop();O.DEBUG&&console.log(e.step,"SCANTYPE[]",t)},function(e){var t=e.stack.pop(),r=e.stack.pop();switch(O.DEBUG&&console.log(e.step,"INSTCTRL[]",t,r),t){case 1:return void(e.inhibitGridFit=!!r);case 2:return void(e.ignoreCvt=!!r);default:throw new Error("invalid INSTCTRL[] selector")}},void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,Tr.bind(void 0,1),Tr.bind(void 0,2),Tr.bind(void 0,3),Tr.bind(void 0,4),Tr.bind(void 0,5),Tr.bind(void 0,6),Tr.bind(void 0,7),Tr.bind(void 0,8),Ur.bind(void 0,1),Ur.bind(void 0,2),Ur.bind(void 0,3),Ur.bind(void 0,4),Ur.bind(void 0,5),Ur.bind(void 0,6),Ur.bind(void 0,7),Ur.bind(void 0,8),kr.bind(void 0,0,0,0,0,0),kr.bind(void 0,0,0,0,0,1),kr.bind(void 0,0,0,0,0,2),kr.bind(void 0,0,0,0,0,3),kr.bind(void 0,0,0,0,1,0),kr.bind(void 0,0,0,0,1,1),kr.bind(void 0,0,0,0,1,2),kr.bind(void 0,0,0,0,1,3),kr.bind(void 0,0,0,1,0,0),kr.bind(void 0,0,0,1,0,1),kr.bind(void 0,0,0,1,0,2),kr.bind(void 0,0,0,1,0,3),kr.bind(void 0,0,0,1,1,0),kr.bind(void 0,0,0,1,1,1),kr.bind(void 0,0,0,1,1,2),kr.bind(void 0,0,0,1,1,3),kr.bind(void 0,0,1,0,0,0),kr.bind(void 0,0,1,0,0,1),kr.bind(void 0,0,1,0,0,2),kr.bind(void 0,0,1,0,0,3),kr.bind(void 0,0,1,0,1,0),kr.bind(void 0,0,1,0,1,1),kr.bind(void 0,0,1,0,1,2),kr.bind(void 0,0,1,0,1,3),kr.bind(void 0,0,1,1,0,0),kr.bind(void 0,0,1,1,0,1),kr.bind(void 0,0,1,1,0,2),kr.bind(void 0,0,1,1,0,3),kr.bind(void 0,0,1,1,1,0),kr.bind(void 0,0,1,1,1,1),kr.bind(void 0,0,1,1,1,2),kr.bind(void 0,0,1,1,1,3),kr.bind(void 0,1,0,0,0,0),kr.bind(void 0,1,0,0,0,1),kr.bind(void 0,1,0,0,0,2),kr.bind(void 0,1,0,0,0,3),kr.bind(void 0,1,0,0,1,0),kr.bind(void 0,1,0,0,1,1),kr.bind(void 0,1,0,0,1,2),kr.bind(void 0,1,0,0,1,3),kr.bind(void 0,1,0,1,0,0),kr.bind(void 0,1,0,1,0,1),kr.bind(void 0,1,0,1,0,2),kr.bind(void 0,1,0,1,0,3),kr.bind(void 0,1,0,1,1,0),kr.bind(void 0,1,0,1,1,1),kr.bind(void 0,1,0,1,1,2),kr.bind(void 0,1,0,1,1,3),kr.bind(void 0,1,1,0,0,0),kr.bind(void 0,1,1,0,0,1),kr.bind(void 0,1,1,0,0,2),kr.bind(void 0,1,1,0,0,3),kr.bind(void 0,1,1,0,1,0),kr.bind(void 0,1,1,0,1,1),kr.bind(void 0,1,1,0,1,2),kr.bind(void 0,1,1,0,1,3),kr.bind(void 0,1,1,1,0,0),kr.bind(void 0,1,1,1,0,1),kr.bind(void 0,1,1,1,0,2),kr.bind(void 0,1,1,1,0,3),kr.bind(void 0,1,1,1,1,0),kr.bind(void 0,1,1,1,1,1),kr.bind(void 0,1,1,1,1,2),kr.bind(void 0,1,1,1,1,3)],Or.prototype.setState=function(e,t){return this.state[e]=t,this.activeState={key:e,value:this.state[e]},this.activeState},Or.prototype.getState=function(e){return this.state[e]||null},Cr.prototype.inboundIndex=function(e){return 0<=e&&e<this.tokens.length},Cr.prototype.composeRUD=function(e){function t(e){return"object"==typeof e&&e.hasOwnProperty("FAIL")}var r=this,n=e.map(function(e){return r[e[0]].apply(r,e.slice(1).concat(!0))});if(n.every(t))return{FAIL:"composeRUD: one or more operations hasn't completed successfully",report:n.filter(t)};this.dispatch("composeRUD",[n.filter(function(e){return!t(e)})])},Cr.prototype.replaceRange=function(e,t,r,n){t=null!==t?t:this.tokens.length;var a=r.every(function(e){return e instanceof Or});if(!isNaN(e)&&this.inboundIndex(e)&&a){var o=this.tokens.splice.apply(this.tokens,[e,t].concat(r));return n||this.dispatch("replaceToken",[e,t,r]),[o,r]}return{FAIL:"replaceRange: invalid tokens or startIndex."}},Cr.prototype.replaceToken=function(e,t,r){if(!isNaN(e)&&this.inboundIndex(e)&&t instanceof Or){var n=this.tokens.splice(e,1,t);return r||this.dispatch("replaceToken",[e,t]),[n[0],t]}return{FAIL:"replaceToken: invalid token or index."}},Cr.prototype.removeRange=function(e,t,r){t=isNaN(t)?this.tokens.length:t;var n=this.tokens.splice(e,t);return r||this.dispatch("removeRange",[n,e,t]),n},Cr.prototype.removeToken=function(e,t){if(isNaN(e)||!this.inboundIndex(e))return{FAIL:"removeToken: invalid token index."};var r=this.tokens.splice(e,1);return t||this.dispatch("removeToken",[r,e]),r},Cr.prototype.insertToken=function(e,t,r){return e.every(function(e){return e instanceof Or})?(this.tokens.splice.apply(this.tokens,[t,0].concat(e)),r||this.dispatch("insertToken",[e,t]),e):{FAIL:"insertToken: invalid token(s)."}},Cr.prototype.registerModifier=function(o,s,i){this.events.newToken.subscribe(function(e,t){var r=[e,t],n=[e,t];if(null===s||!0===s.apply(this,r)){var a=i.apply(this,n);e.setState(o,a)}}),this.registeredModifiers.push(o)},Lr.prototype.subscribe=function(e){return"function"==typeof e?this.subscribers.push(e)-1:{FAIL:"invalid '"+this.eventId+"' event handler"}},Lr.prototype.unsubscribe=function(e){this.subscribers.splice(e,1)},wr.prototype.setCurrentIndex=function(e){this.index=e,this.current=this.context[e],this.backtrack=this.context.slice(0,e),this.lookahead=this.context.slice(e+1)},wr.prototype.get=function(e){switch(!0){case 0===e:return this.current;case e<0&&Math.abs(e)<=this.backtrack.length:return this.backtrack.slice(e)[0];case 0<e&&e<=this.lookahead.length:return this.lookahead[e-1];default:return null}},Cr.prototype.rangeToText=function(e){if(e instanceof Er)return this.getRangeTokens(e).map(function(e){return e.char}).join("")},Cr.prototype.getText=function(){return this.tokens.map(function(e){return e.char}).join("")},Cr.prototype.getContext=function(e){var t=this.registeredContexts[e];return t||null},Cr.prototype.on=function(e,t){var r=this.events[e];return r?r.subscribe(t):null},Cr.prototype.dispatch=function(e,t){var r=this,n=this.events[e];n instanceof Lr&&n.subscribers.forEach(function(e){e.apply(r,t||[])})},Cr.prototype.registerContextChecker=function(e,t,r){if(this.getContext(e))return{FAIL:"context name '"+e+"' is already registered."};if("function"!=typeof t)return{FAIL:"missing context start check."};if("function"!=typeof r)return{FAIL:"missing context end check."};var n=new Rr(e,t,r);return this.registeredContexts[e]=n,this.contextCheckers.push(n),n},Cr.prototype.getRangeTokens=function(e){var t=e.startIndex+e.endOffset;return[].concat(this.tokens.slice(e.startIndex,t))},Cr.prototype.getContextRanges=function(e){var t=this.getContext(e);return t?t.ranges:{FAIL:"context checker '"+e+"' is not registered."}},Cr.prototype.resetContextsRanges=function(){var e=this.registeredContexts;for(var t in e){if(e.hasOwnProperty(t))e[t].ranges=[]}},Cr.prototype.updateContextsRanges=function(){this.resetContextsRanges();for(var e=this.tokens.map(function(e){return e.char}),t=0;t<e.length;t++){var r=new wr(e,t);this.runContextCheck(r)}this.dispatch("updateContextsRanges",[this.registeredContexts])},Cr.prototype.setEndOffset=function(e,t){var r=new Er(this.getContext(t).openRange.startIndex,e,t),n=this.getContext(t).ranges;return r.rangeId=t+"."+n.length,n.push(r),this.getContext(t).openRange=null,r},Cr.prototype.runContextCheck=function(o){var s=this,i=o.index;this.contextCheckers.forEach(function(e){var t=e.contextName,r=s.getContext(t).openRange;if(!r&&e.checkStart(o)&&(r=new Er(i,null,t),s.getContext(t).openRange=r,s.dispatch("contextStart",[t,i])),r&&e.checkEnd(o)){var n=i-r.startIndex+1,a=s.setEndOffset(n,t);s.dispatch("contextEnd",[t,a])}})},Cr.prototype.tokenize=function(e){this.tokens=[],this.resetContextsRanges();var t=Array.from(e);this.dispatch("start");for(var r=0;r<t.length;r++){var n=t[r],a=new wr(t,r);this.dispatch("next",[a]),this.runContextCheck(a);var o=new Or(n);this.tokens.push(o),this.dispatch("newToken",[o,a])}return this.dispatch("end",[this.tokens]),this.tokens},Gr.prototype.getDefaultScriptFeaturesIndexes=function(){for(var e=this.font.tables.gsub.scripts,t=0;t<e.length;t++){var r=e[t];if("DFLT"===r.tag)return r.script.defaultLangSys.featureIndexes}return[]},Gr.prototype.getScriptFeaturesIndexes=function(e){if(!this.font.tables.gsub)return[];if(!e)return this.getDefaultScriptFeaturesIndexes();for(var t=this.font.tables.gsub.scripts,r=0;r<t.length;r++){var n=t[r];if(n.tag===e&&n.script.defaultLangSys)return n.script.defaultLangSys.featureIndexes;var a=n.langSysRecords;if(a)for(var o=0;o<a.length;o++){var s=a[o];if(s.tag===e)return s.langSys.featureIndexes}}return this.getDefaultScriptFeaturesIndexes()},Gr.prototype.mapTagsToFeatures=function(e,t){for(var r={},n=0;n<e.length;n++){var a=e[n].tag,o=e[n].feature;r[a]=o}this.features[t].tags=r},Gr.prototype.getScriptFeatures=function(e){var t=this.features[e];if(this.features.hasOwnProperty(e))return t;var r=this.getScriptFeaturesIndexes(e);if(!r)return null;var n=this.font.tables.gsub;return t=r.map(function(e){return n.features[e]}),this.features[e]=t,this.mapTagsToFeatures(t,e),t},Gr.prototype.getSubstitutionType=function(e,t){return e.lookupType.toString()+t.substFormat.toString()},Gr.prototype.getLookupMethod=function(e,t){var r=this;switch(this.getSubstitutionType(e,t)){case"11":return function(e){return function(e,t){return-1===Fr(e,t.coverage)?null:e+t.deltaGlyphId}.apply(r,[e,t])};case"12":return function(e){return function(e,t){var r=Fr(e,t.coverage);return-1===r?null:t.substitute[r]}.apply(r,[e,t])};case"63":return function(e){return function(e,t){var r=t.inputCoverage.length+t.lookaheadCoverage.length+t.backtrackCoverage.length;if(e.context.length<r)return[];var n=Nr(t.inputCoverage,e);if(-1===n)return[];var a=t.inputCoverage.length-1;if(e.lookahead.length<t.lookaheadCoverage.length)return[];for(var o=e.lookahead.slice(a);o.length&&Mr(o[0].char);)o.shift();var s=new wr(o,0),i=Nr(t.lookaheadCoverage,s),u=[].concat(e.backtrack);for(u.reverse();u.length&&Mr(u[0].char);)u.shift();if(u.length<t.backtrackCoverage.length)return[];var l=new wr(u,0),p=Nr(t.backtrackCoverage,l),c=[];if(n.length===t.inputCoverage.length&&i.length===t.lookaheadCoverage.length&&p.length===t.backtrackCoverage.length)for(var h=0;h<t.lookupRecords.length;h++)for(var f=t.lookupRecords[h].lookupListIndex,d=this.getLookupByIndex(f),g=0;g<d.subtables.length;g++){var v=d.subtables[g],m=this.getLookupMethod(d,v);if("12"===this.getSubstitutionType(d,v))for(var y=0;y<n.length;y++){var b=m(e.get(y));b&&c.push(b)}}return c}.apply(r,[e,t])};case"41":return function(e){return function(e,t){var r,n=Fr(e.current,t.coverage);if(-1===n)return null;for(var a=t.ligatureSets[n],o=0;o<a.length;o++){r=a[o];for(var s=0;s<r.components.length;s++){if(e.lookahead[s]!==r.components[s])break;if(s===r.components.length-1)return r}}return null}.apply(r,[e,t])};case"21":return function(e){return function(e,t){var r=Fr(e,t.coverage);return-1===r?null:t.sequences[r]}.apply(r,[e,t])};default:throw new Error("lookupType: "+e.lookupType+" - substFormat: "+t.substFormat+" is not yet supported")}},Gr.prototype.lookupFeature=function(e){var t=e.contextParams,r=t.index,n=this.getFeature({tag:e.tag,script:e.script});if(!n)return new Error("font '"+this.font.names.fullName.en+"' doesn't support feature '"+e.tag+"' for script '"+e.script+"'.");for(var a=this.getFeatureLookups(n),o=[].concat(t.context),s=0;s<a.length;s++)for(var i=a[s],u=this.getLookupSubtables(i),l=0;l<u.length;l++){var p=u[l],c=this.getSubstitutionType(i,p),h=this.getLookupMethod(i,p),f=void 0;switch(c){case"11":(f=h(t.current))&&o.splice(r,1,new Ar({id:11,tag:e.tag,substitution:f}));break;case"12":(f=h(t.current))&&o.splice(r,1,new Ar({id:12,tag:e.tag,substitution:f}));break;case"63":f=h(t),Array.isArray(f)&&f.length&&o.splice(r,1,new Ar({id:63,tag:e.tag,substitution:f}));break;case"41":(f=h(t))&&o.splice(r,1,new Ar({id:41,tag:e.tag,substitution:f}));break;case"21":(f=h(t.current))&&o.splice(r,1,new Ar({id:21,tag:e.tag,substitution:f}))}t=new wr(o,r),Array.isArray(f)&&!f.length||(f=null)}return o.length?o:null},Gr.prototype.supports=function(t){if(!t.script)return!1;this.getScriptFeatures(t.script);var e=this.features.hasOwnProperty(t.script);if(!t.tag)return e;var r=this.features[t.script].some(function(e){return e.tag===t.tag});return e&&r},Gr.prototype.getLookupSubtables=function(e){return e.subtables||null},Gr.prototype.getLookupByIndex=function(e){return this.font.tables.gsub.lookups[e]||null},Gr.prototype.getFeatureLookups=function(e){return e.lookupListIndexes.map(this.getLookupByIndex.bind(this))},Gr.prototype.getFeature=function(e){if(!this.font)return{FAIL:"No font was found"};this.features.hasOwnProperty(e.script)||this.getScriptFeatures(e.script);var t=this.features[e.script];return t?t.tags[e.tag]?this.features[e.script].tags[e.tag]:null:{FAIL:"No feature for script "+e.script}};var Pr={startCheck:function(e){var t=e.current,r=e.get(-1);return null===r&&Dr(t)||!Dr(r)&&Dr(t)},endCheck:function(e){var t=e.get(1);return null===t||!Dr(t)}};var Hr={startCheck:function(e){var t=e.current,r=e.get(-1);return(Dr(t)||Mr(t))&&!Dr(r)},endCheck:function(e){var t=e.get(1);switch(!0){case null===t:return!0;case!Dr(t)&&!Mr(t):var r=/\s/.test(t);if(!r)return!0;if(r){if(!e.lookahead.some(function(e){return Dr(e)||Mr(e)}))return!0}break;default:return!1}}};var zr={11:function(e,t,r){t[r].setState(e.tag,e.substitution)},12:function(e,t,r){t[r].setState(e.tag,e.substitution)},63:function(r,n,a){r.substitution.forEach(function(e,t){n[a+t].setState(r.tag,e)})},41:function(e,t,r){var n=t[r];n.setState(e.tag,e.substitution.ligGlyph);for(var a=e.substitution.components.length,o=0;o<a;o++)(n=t[r+o+1]).setState("deleted",!0)}};function Wr(e,t,r){e instanceof Ar&&zr[e.id]&&zr[e.id](e,t,r)}function _r(e){var o=this,s=this.featuresTags.arab,i=this.tokenizer.getRangeTokens(e);if(1!==i.length){var u=new wr(i.map(function(e){return e.getState("glyphIndex")}),0),l=new wr(i.map(function(e){return e.char}),0);i.forEach(function(e,t){if(!Mr(e.char)){u.setCurrentIndex(t),l.setCurrentIndex(t);var r,n=0;switch(!function(e){for(var t=[].concat(e.backtrack),r=t.length-1;0<=r;r--){var n=t[r],a=Ir(n),o=Mr(n);if(!a&&!o)return 1;if(a)return}}(l)||(n|=1),function(e){if(!Ir(e.current))for(var t=0;t<e.lookahead.length;t++){if(!Mr(e.lookahead[t]))return 1}}(l)&&(n|=2),n){case 1:r="fina";break;case 2:r="init";break;case 3:r="medi"}if(-1!==s.indexOf(r)){var a=o.query.lookupFeature({tag:r,script:"arab",contextParams:u});if(a instanceof Error)return console.info(a.message);a.forEach(function(e,t){e instanceof Ar&&(Wr(e,i,t),u.context[t]=e.substitution)})}}})}}function qr(e,t){return new wr(e.map(function(e){return e.activeState.value}),t||0)}var Xr={startCheck:function(e){var t=e.current,r=e.get(-1);return null===r&&Br(t)||!Br(r)&&Br(t)},endCheck:function(e){var t=e.get(1);return null===t||!Br(t)}};function Vr(e,t){return new wr(e.map(function(e){return e.activeState.value}),t||0)}function jr(e){this.baseDir=e||"ltr",this.tokenizer=new Cr,this.featuresTags={}}function Yr(e){var t=this.contextChecks[e+"Check"];return this.tokenizer.registerContextChecker(e,t.startCheck,t.endCheck)}function Zr(){if(-1===this.tokenizer.registeredModifiers.indexOf("glyphIndex"))throw new Error("glyphIndex modifier is required to apply arabic presentation features.")}function Qr(){var t=this;this.featuresTags.hasOwnProperty("arab")&&-1!==this.featuresTags.arab.indexOf("rlig")&&(Zr.call(this),this.tokenizer.getContextRanges("arabicWord").forEach(function(e){(function(e){var n=this,a=this.tokenizer.getRangeTokens(e),o=qr(a);o.context.forEach(function(e,t){o.setCurrentIndex(t);var r=n.query.lookupFeature({tag:"rlig",script:"arab",contextParams:o});r.length&&(r.forEach(function(e){return Wr(e,a,t)}),o=qr(a))})}).call(t,e)}))}function Kr(){var t=this;this.featuresTags.hasOwnProperty("latn")&&-1!==this.featuresTags.latn.indexOf("liga")&&(Zr.call(this),this.tokenizer.getContextRanges("latinWord").forEach(function(e){(function(e){var n=this,a=this.tokenizer.getRangeTokens(e),o=Vr(a);o.context.forEach(function(e,t){o.setCurrentIndex(t);var r=n.query.lookupFeature({tag:"liga",script:"latn",contextParams:o});r.length&&(r.forEach(function(e){return Wr(e,a,t)}),o=Vr(a))})}).call(t,e)}))}function Jr(e){(e=e||{}).tables=e.tables||{},e.empty||(wt(e.familyName,"When creating a new Font object, familyName is required."),wt(e.styleName,"When creating a new Font object, styleName is required."),wt(e.unitsPerEm,"When creating a new Font object, unitsPerEm is required."),wt(e.ascender,"When creating a new Font object, ascender is required."),wt(e.descender<=0,"When creating a new Font object, negative descender value is required."),this.names={fontFamily:{en:e.familyName||" "},fontSubfamily:{en:e.styleName||" "},fullName:{en:e.fullName||e.familyName+" "+e.styleName},postScriptName:{en:e.postScriptName||(e.familyName+e.styleName).replace(/\s/g,"")},designer:{en:e.designer||" "},designerURL:{en:e.designerURL||" "},manufacturer:{en:e.manufacturer||" "},manufacturerURL:{en:e.manufacturerURL||" "},license:{en:e.license||" "},licenseURL:{en:e.licenseURL||" "},version:{en:e.version||"Version 0.1"},description:{en:e.description||" "},copyright:{en:e.copyright||" "},trademark:{en:e.trademark||" "}},this.unitsPerEm=e.unitsPerEm||1e3,this.ascender=e.ascender,this.descender=e.descender,this.createdTimestamp=e.createdTimestamp,this.tables=Object.assign(e.tables,{os2:Object.assign({usWeightClass:e.weightClass||this.usWeightClasses.MEDIUM,usWidthClass:e.widthClass||this.usWidthClasses.MEDIUM,fsSelection:e.fsSelection||this.fsSelectionValues.REGULAR},e.tables.os2)})),this.supported=!0,this.glyphs=new Te.GlyphSet(this,e.glyphs||[]),this.encoding=new fe(this),this.position=new Ut(this),this.substitution=new kt(this),this.tables=this.tables||{},this._push=null,this._hmtxTableData={},Object.defineProperty(this,"hinting",{get:function(){return this._hinting?this._hinting:"truetype"===this.outlinesFormat?this._hinting=new Pt(this):void 0}})}function $r(e,t){var r=JSON.stringify(e),n=256;for(var a in t){var o=parseInt(a);if(o&&!(o<256)){if(JSON.stringify(t[a])===r)return o;n<=o&&(n=o+1)}}return t[n]=e,n}function en(e,t,r,n){for(var a=[{name:"nameID_"+e,type:"USHORT",value:$r(t.name,n)},{name:"flags_"+e,type:"USHORT",value:0}],o=0;o<r.length;++o){var s=r[o].tag;a.push({name:"axis_"+e+" "+s,type:"FIXED",value:t.coordinates[s]<<16})}return a}function tn(e,t,r,n){var a={},o=new ie.Parser(e,t);a.name=n[o.parseUShort()]||{},o.skip("uShort",1),a.coordinates={};for(var s=0;s<r.length;++s)a.coordinates[r[s].tag]=o.parseFixed();return a}jr.prototype.setText=function(e){this.text=e},jr.prototype.contextChecks={latinWordCheck:Xr,arabicWordCheck:Pr,arabicSentenceCheck:Hr},jr.prototype.registerFeatures=function(t,e){var r=this,n=e.filter(function(e){return r.query.supports({script:t,tag:e})});this.featuresTags.hasOwnProperty(t)?this.featuresTags[t]=this.featuresTags[t].concat(n):this.featuresTags[t]=n},jr.prototype.applyFeatures=function(e,t){if(!e)throw new Error("No valid font was provided to apply features");this.query||(this.query=new Gr(e));for(var r=0;r<t.length;r++){var n=t[r];this.query.supports({script:n.script})&&this.registerFeatures(n.script,n.tags)}},jr.prototype.registerModifier=function(e,t,r){this.tokenizer.registerModifier(e,t,r)},jr.prototype.checkContextReady=function(e){return!!this.tokenizer.getContext(e)},jr.prototype.applyFeaturesToContexts=function(){this.checkContextReady("arabicWord")&&(function(){var t=this;this.featuresTags.hasOwnProperty("arab")&&(Zr.call(this),this.tokenizer.getContextRanges("arabicWord").forEach(function(e){_r.call(t,e)}))}.call(this),Qr.call(this)),this.checkContextReady("latinWord")&&Kr.call(this),this.checkContextReady("arabicSentence")&&function(){var r=this;this.tokenizer.getContextRanges("arabicSentence").forEach(function(e){var t=r.tokenizer.getRangeTokens(e);r.tokenizer.replaceRange(e.startIndex,e.endOffset,t.reverse())})}.call(this)},jr.prototype.processText=function(e){this.text&&this.text===e||(this.setText(e),function(){return Yr.call(this,"latinWord"),Yr.call(this,"arabicWord"),Yr.call(this,"arabicSentence"),this.tokenizer.tokenize(this.text)}.call(this),this.applyFeaturesToContexts())},jr.prototype.getBidiText=function(e){return this.processText(e),this.tokenizer.getText()},jr.prototype.getTextGlyphs=function(e){this.processText(e);for(var t=[],r=0;r<this.tokenizer.tokens.length;r++){var n=this.tokenizer.tokens[r];if(!n.state.deleted){var a=n.activeState.value;t.push(Array.isArray(a)?a[0]:a)}}return t},Jr.prototype.hasChar=function(e){return null!==this.encoding.charToGlyphIndex(e)},Jr.prototype.charToGlyphIndex=function(e){return this.encoding.charToGlyphIndex(e)},Jr.prototype.charToGlyph=function(e){var t=this.charToGlyphIndex(e),r=this.glyphs.get(t);return r=r||this.glyphs.get(0)},Jr.prototype.updateFeatures=function(t){return this.defaultRenderOptions.features.map(function(e){return"latn"===e.script?{script:"latn",tags:e.tags.filter(function(e){return t[e]})}:e})},Jr.prototype.stringToGlyphs=function(e,t){var r=this,n=new jr;n.registerModifier("glyphIndex",null,function(e){return r.charToGlyphIndex(e.char)});var a=t?this.updateFeatures(t.features):this.defaultRenderOptions.features;n.applyFeatures(this,a);for(var o=n.getTextGlyphs(e),s=o.length,i=new Array(s),u=this.glyphs.get(0),l=0;l<s;l+=1)i[l]=this.glyphs.get(o[l])||u;return i},Jr.prototype.nameToGlyphIndex=function(e){return this.glyphNames.nameToGlyphIndex(e)},Jr.prototype.nameToGlyph=function(e){var t=this.nameToGlyphIndex(e),r=this.glyphs.get(t);return r=r||this.glyphs.get(0)},Jr.prototype.glyphIndexToName=function(e){return this.glyphNames.glyphIndexToName?this.glyphNames.glyphIndexToName(e):""},Jr.prototype.getKerningValue=function(e,t){e=e.index||e,t=t.index||t;var r=this.position.defaultKerningTables;return r?this.position.getKerningValue(r,e,t):this.kerningPairs[e+","+t]||0},Jr.prototype.defaultRenderOptions={kerning:!0,features:[{script:"arab",tags:["init","medi","fina","rlig"]},{script:"latn",tags:["liga","rlig"]}]},Jr.prototype.forEachGlyph=function(e,t,r,n,a,o){t=void 0!==t?t:0,r=void 0!==r?r:0,n=void 0!==n?n:72,a=Object.assign({},this.defaultRenderOptions,a);var s,i=1/this.unitsPerEm*n,u=this.stringToGlyphs(e,a);if(a.kerning){var l=a.script||this.position.getDefaultScriptName();s=this.position.getKerningTables(l,a.language)}for(var p=0;p<u.length;p+=1){var c=u[p];if(o.call(this,c,t,r,n,a),c.advanceWidth&&(t+=c.advanceWidth*i),a.kerning&&p<u.length-1)t+=(s?this.position.getKerningValue(s,c.index,u[p+1].index):this.getKerningValue(c,u[p+1]))*i;a.letterSpacing?t+=a.letterSpacing*n:a.tracking&&(t+=a.tracking/1e3*n)}return t},Jr.prototype.getPath=function(e,t,r,n,o){var s=new G;return this.forEachGlyph(e,t,r,n,o,function(e,t,r,n){var a=e.getPath(t,r,n,o,this);s.extend(a)}),s},Jr.prototype.getPaths=function(e,t,r,n,o){var s=[];return this.forEachGlyph(e,t,r,n,o,function(e,t,r,n){var a=e.getPath(t,r,n,o,this);s.push(a)}),s},Jr.prototype.getAdvanceWidth=function(e,t,r){return this.forEachGlyph(e,0,0,t,r,function(){})},Jr.prototype.draw=function(e,t,r,n,a,o){this.getPath(t,r,n,a,o).draw(e)},Jr.prototype.drawPoints=function(a,e,t,r,n,o){this.forEachGlyph(e,t,r,n,o,function(e,t,r,n){e.drawPoints(a,t,r,n)})},Jr.prototype.drawMetrics=function(a,e,t,r,n,o){this.forEachGlyph(e,t,r,n,o,function(e,t,r,n){e.drawMetrics(a,t,r,n)})},Jr.prototype.getEnglishName=function(e){var t=this.names[e];if(t)return t.en},Jr.prototype.validate=function(){var r=this;function e(e){var t=r.getEnglishName(e);t&&t.trim().length}e("fontFamily"),e("weightName"),e("manufacturer"),e("copyright"),e("version"),this.unitsPerEm},Jr.prototype.toTables=function(){return yt.fontToTable(this)},Jr.prototype.toBuffer=function(){return console.warn("Font.toBuffer is deprecated. Use Font.toArrayBuffer instead."),this.toArrayBuffer()},Jr.prototype.toArrayBuffer=function(){for(var e=this.toTables().encode(),t=new ArrayBuffer(e.length),r=new Uint8Array(t),n=0;n<e.length;n++)r[n]=e[n];return t},Jr.prototype.download=function(e){var t=this.getEnglishName("fontFamily"),r=this.getEnglishName("fontSubfamily");e=e||t.replace(/\s/g,"")+"-"+r+".otf";var n=this.toArrayBuffer();if("undefined"!=typeof window)if(window.URL=window.URL||window.webkitURL,window.URL){var a=new DataView(n),o=new Blob([a],{type:"font/opentype"}),s=document.createElement("a");s.href=window.URL.createObjectURL(o),s.download=e;var i=document.createEvent("MouseEvents");i.initEvent("click",!0,!1),s.dispatchEvent(i)}else console.warn("Font file could not be downloaded. Try using a different browser.");else{var u=require("fs"),l=function(e){for(var t=new Buffer(e.byteLength),r=new Uint8Array(e),n=0;n<t.length;++n)t[n]=r[n];return t}(n);u.writeFileSync(e,l)}},Jr.prototype.fsSelectionValues={ITALIC:1,UNDERSCORE:2,NEGATIVE:4,OUTLINED:8,STRIKEOUT:16,BOLD:32,REGULAR:64,USER_TYPO_METRICS:128,WWS:256,OBLIQUE:512},Jr.prototype.usWidthClasses={ULTRA_CONDENSED:1,EXTRA_CONDENSED:2,CONDENSED:3,SEMI_CONDENSED:4,MEDIUM:5,SEMI_EXPANDED:6,EXPANDED:7,EXTRA_EXPANDED:8,ULTRA_EXPANDED:9},Jr.prototype.usWeightClasses={THIN:100,EXTRA_LIGHT:200,LIGHT:300,NORMAL:400,MEDIUM:500,SEMI_BOLD:600,BOLD:700,EXTRA_BOLD:800,BLACK:900};var rn={make:function(e,t){var r,n,a,o,s=new $.Table("fvar",[{name:"version",type:"ULONG",value:65536},{name:"offsetToData",type:"USHORT",value:0},{name:"countSizePairs",type:"USHORT",value:2},{name:"axisCount",type:"USHORT",value:e.axes.length},{name:"axisSize",type:"USHORT",value:20},{name:"instanceCount",type:"USHORT",value:e.instances.length},{name:"instanceSize",type:"USHORT",value:4+4*e.axes.length}]);s.offsetToData=s.sizeOf();for(var i=0;i<e.axes.length;i++)s.fields=s.fields.concat((r=i,n=e.axes[i],a=t,o=$r(n.name,a),[{name:"tag_"+r,type:"TAG",value:n.tag},{name:"minValue_"+r,type:"FIXED",value:n.minValue<<16},{name:"defaultValue_"+r,type:"FIXED",value:n.defaultValue<<16},{name:"maxValue_"+r,type:"FIXED",value:n.maxValue<<16},{name:"flags_"+r,type:"USHORT",value:0},{name:"nameID_"+r,type:"USHORT",value:o}]));for(var u=0;u<e.instances.length;u++)s.fields=s.fields.concat(en(u,e.instances[u],e.axes,t));return s},parse:function(e,t,r){var n=new ie.Parser(e,t),a=n.parseULong();C.argument(65536===a,"Unsupported fvar table version.");var o=n.parseOffset16();n.skip("uShort",1);for(var s,i,u,l,p,c=n.parseUShort(),h=n.parseUShort(),f=n.parseUShort(),d=n.parseUShort(),g=[],v=0;v<c;v++)g.push((s=e,i=t+o+v*h,u=r,p=l=void 0,l={},p=new ie.Parser(s,i),l.tag=p.parseTag(),l.minValue=p.parseFixed(),l.defaultValue=p.parseFixed(),l.maxValue=p.parseFixed(),p.skip("uShort",1),l.name=u[p.parseUShort()]||{},l));for(var m=[],y=t+o+c*h,b=0;b<f;b++)m.push(tn(e,y+b*d,g,r));return{axes:g,instances:m}}},nn=new Array(10);nn[1]=function(){var e=this.offset+this.relativeOffset,t=this.parseUShort();return 1===t?{posFormat:1,coverage:this.parsePointer(oe.coverage),value:this.parseValueRecord()}:2===t?{posFormat:2,coverage:this.parsePointer(oe.coverage),values:this.parseValueRecordList()}:void C.assert(!1,"0x"+e.toString(16)+": GPOS lookup type 1 format must be 1 or 2.")},nn[2]=function(){var e=this.offset+this.relativeOffset,t=this.parseUShort();C.assert(1===t||2===t,"0x"+e.toString(16)+": GPOS lookup type 2 format must be 1 or 2.");var r=this.parsePointer(oe.coverage),n=this.parseUShort(),a=this.parseUShort();if(1===t)return{posFormat:t,coverage:r,valueFormat1:n,valueFormat2:a,pairSets:this.parseList(oe.pointer(oe.list(function(){return{secondGlyph:this.parseUShort(),value1:this.parseValueRecord(n),value2:this.parseValueRecord(a)}})))};if(2===t){var o=this.parsePointer(oe.classDef),s=this.parsePointer(oe.classDef),i=this.parseUShort(),u=this.parseUShort();return{posFormat:t,coverage:r,valueFormat1:n,valueFormat2:a,classDef1:o,classDef2:s,class1Count:i,class2Count:u,classRecords:this.parseList(i,oe.list(u,function(){return{value1:this.parseValueRecord(n),value2:this.parseValueRecord(a)}}))}}},nn[3]=function(){return{error:"GPOS Lookup 3 not supported"}},nn[4]=function(){return{error:"GPOS Lookup 4 not supported"}},nn[5]=function(){return{error:"GPOS Lookup 5 not supported"}},nn[6]=function(){return{error:"GPOS Lookup 6 not supported"}},nn[7]=function(){return{error:"GPOS Lookup 7 not supported"}},nn[8]=function(){return{error:"GPOS Lookup 8 not supported"}},nn[9]=function(){return{error:"GPOS Lookup 9 not supported"}};var an=new Array(10);var on={parse:function(e,t){var r=new oe(e,t=t||0),n=r.parseVersion(1);return C.argument(1===n||1.1===n,"Unsupported GPOS table version "+n),1===n?{version:n,scripts:r.parseScriptList(),features:r.parseFeatureList(),lookups:r.parseLookupList(nn)}:{version:n,scripts:r.parseScriptList(),features:r.parseFeatureList(),lookups:r.parseLookupList(nn),variations:r.parseFeatureVariationsList()}},make:function(e){return new $.Table("GPOS",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new $.ScriptList(e.scripts)},{name:"features",type:"TABLE",value:new $.FeatureList(e.features)},{name:"lookups",type:"TABLE",value:new $.LookupList(e.lookups,an)}])}};var sn={parse:function(e,t){var r=new ie.Parser(e,t),n=r.parseUShort();if(0===n)return function(e){var t={};e.skip("uShort");var r=e.parseUShort();C.argument(0===r,"Unsupported kern sub-table version."),e.skip("uShort",2);var n=e.parseUShort();e.skip("uShort",3);for(var a=0;a<n;a+=1){var o=e.parseUShort(),s=e.parseUShort(),i=e.parseShort();t[o+","+s]=i}return t}(r);if(1===n)return function(e){var t={};e.skip("uShort"),1<e.parseULong()&&console.warn("Only the first kern subtable is supported."),e.skip("uLong");var r=255&e.parseUShort();if(e.skip("uShort"),0==r){var n=e.parseUShort();e.skip("uShort",3);for(var a=0;a<n;a+=1){var o=e.parseUShort(),s=e.parseUShort(),i=e.parseShort();t[o+","+s]=i}}return t}(r);throw new Error("Unsupported kern table version ("+n+").")}};var un={parse:function(e,t,r,n){for(var a=new ie.Parser(e,t),o=n?a.parseUShort:a.parseULong,s=[],i=0;i<r+1;i+=1){var u=o.call(a);n&&(u*=2),s.push(u)}return s}};function ln(e,r){require("fs").readFile(e,function(e,t){if(e)return r(e.message);r(null,Rt(t))})}function pn(e,t){var r=new XMLHttpRequest;r.open("get",e,!0),r.responseType="arraybuffer",r.onload=function(){return r.response?t(null,r.response):t("Font could not be loaded: "+r.statusText)},r.onerror=function(){t("Font could not be loaded")},r.send()}function cn(e,t){for(var r=[],n=12,a=0;a<t;a+=1){var o=ie.getTag(e,n),s=ie.getULong(e,n+4),i=ie.getULong(e,n+8),u=ie.getULong(e,n+12);r.push({tag:o,checksum:s,offset:i,length:u,compression:!1}),n+=16}return r}function hn(e,t){if("WOFF"!==t.compression)return{data:e,offset:t.offset};var r=new Uint8Array(e.buffer,t.offset+2,t.compressedLength-2),n=new Uint8Array(t.length);if(a(r,n),n.byteLength!==t.length)throw new Error("Decompression error: "+t.tag+" decompressed length doesn't match recorded length");return{data:new DataView(n.buffer,0),offset:0}}function fn(e,t){var r,n;t=null==t?{}:t;var a,o,s,i,u,l,p,c,h,f,d,g,v=new Jr({empty:!0}),m=new DataView(e,0),y=[],b=ie.getTag(m,0);if(b===String.fromCharCode(0,1,0,0)||"true"===b||"typ1"===b)v.outlinesFormat="truetype",y=cn(m,a=ie.getUShort(m,4));else if("OTTO"===b)v.outlinesFormat="cff",y=cn(m,a=ie.getUShort(m,4));else{if("wOFF"!==b)throw new Error("Unsupported OpenType signature "+b);var S=ie.getTag(m,4);if(S===String.fromCharCode(0,1,0,0))v.outlinesFormat="truetype";else{if("OTTO"!==S)throw new Error("Unsupported OpenType flavor "+b);v.outlinesFormat="cff"}y=function(e,t){for(var r=[],n=44,a=0;a<t;a+=1){var o=ie.getTag(e,n),s=ie.getULong(e,n+4),i=ie.getULong(e,n+8),u=ie.getULong(e,n+12),l=void 0;l=i<u&&"WOFF",r.push({tag:o,offset:s,compression:l,compressedLength:i,length:u}),n+=20}return r}(m,a=ie.getUShort(m,12))}for(var x=0;x<a;x+=1){var T=y[x],U=void 0;switch(T.tag){case"cmap":U=hn(m,T),v.tables.cmap=ue.parse(U.data,U.offset),v.encoding=new de(v.tables.cmap);break;case"cvt ":U=hn(m,T),g=new ie.Parser(U.data,U.offset),v.tables.cvt=g.parseShortList(T.length/2);break;case"fvar":s=T;break;case"fpgm":U=hn(m,T),g=new ie.Parser(U.data,U.offset),v.tables.fpgm=g.parseByteList(T.length);break;case"head":U=hn(m,T),v.tables.head=ze.parse(U.data,U.offset),v.unitsPerEm=v.tables.head.unitsPerEm,r=v.tables.head.indexToLocFormat;break;case"hhea":U=hn(m,T),v.tables.hhea=We.parse(U.data,U.offset),v.ascender=v.tables.hhea.ascender,v.descender=v.tables.hhea.descender,v.numberOfHMetrics=v.tables.hhea.numberOfHMetrics;break;case"hmtx":p=T;break;case"ltag":U=hn(m,T),n=qe.parse(U.data,U.offset);break;case"maxp":U=hn(m,T),v.tables.maxp=Xe.parse(U.data,U.offset),v.numGlyphs=v.tables.maxp.numGlyphs;break;case"name":f=T;break;case"OS/2":U=hn(m,T),v.tables.os2=st.parse(U.data,U.offset);break;case"post":U=hn(m,T),v.tables.post=it.parse(U.data,U.offset),v.glyphNames=new ve(v.tables.post);break;case"prep":U=hn(m,T),g=new ie.Parser(U.data,U.offset),v.tables.prep=g.parseByteList(T.length);break;case"glyf":i=T;break;case"loca":h=T;break;case"CFF ":o=T;break;case"kern":c=T;break;case"GPOS":u=T;break;case"GSUB":l=T;break;case"meta":d=T}}var k=hn(m,f);if(v.tables.name=at.parse(k.data,k.offset,n),v.names=v.tables.name,i&&h){var O=0===r,E=hn(m,h),R=un.parse(E.data,E.offset,v.numGlyphs,O),w=hn(m,i);v.glyphs=Nt.parse(w.data,w.offset,R,v,t)}else{if(!o)throw new Error("Font doesn't contain TrueType or CFF outlines.");var L=hn(m,o);He.parse(L.data,L.offset,v,t)}var C=hn(m,p);if(_e.parse(v,C.data,C.offset,v.numberOfHMetrics,v.numGlyphs,v.glyphs,t),me(v,t),c){var D=hn(m,c);v.kerningPairs=sn.parse(D.data,D.offset)}else v.kerningPairs={};if(u){var I=hn(m,u);v.tables.gpos=on.parse(I.data,I.offset),v.position.init()}if(l){var M=hn(m,l);v.tables.gsub=ct.parse(M.data,M.offset)}if(s){var B=hn(m,s);v.tables.fvar=rn.parse(B.data,B.offset,v.names)}if(d){var G=hn(m,d);v.tables.meta=ht.parse(G.data,G.offset),v.metas=v.tables.meta}return v}function dn(e,o,s){var t="undefined"==typeof window?ln:pn;return new Promise(function(n,a){t(e,function(e,t){if(e){if(o)return o(e);a(e)}var r;try{r=fn(t,s)}catch(e){if(o)return o(e,null);a(e)}if(o)return o(null,r);n(r)})})}function gn(e,t){return fn(Rt(require("fs").readFileSync(e)),t)}var vn=Object.freeze({__proto__:null,Font:Jr,Glyph:be,Path:G,BoundingBox:R,_parse:ie,parse:fn,load:dn,loadSync:gn});O.BoundingBox=R,O.Font=Jr,O.Glyph=be,O.Path=G,O._parse=ie,O.default=vn,O.load=dn,O.loadSync=gn,O.parse=fn,Object.defineProperty(O,"__esModule",{value:!0})});
//# sourceMappingURL=opentype.min.js.map

var TextaliveClient=pc.createScript("textaliveClient");TextaliveClient.attributes.add("songjson",{type:"asset",assetType:"json"}),TextaliveClient.attributes.add("dispSongName",{type:"entity",description:"The entity that we want to display song title"}),TextaliveClient.attributes.add("btStartStop",{type:"entity",description:"The entity that start stop button"}),TextaliveClient.attributes.add("HoshiTextType",{type:"number",enum:[{"Word / 文字":0},{"Char / 単語":1},{"Phrase / 文章":2}],default:0});let self,songConsteData,kashi=null,isFirstPlaying=!0;TextaliveClient.prototype.initialize=function(){this.beat=null,this.chord=null,this.size=1,songConsteData=this.songjson.resource,self=this,this.app.root.on("selectSong",(function(e){self.entity.sound.play("noise");const{Player:t}=TextAliveApp;switch(player=new t({app:{token:"gn6n36NWp9clWhfQ"}}),e){case"Loading Memories":default:i=0;break;case"青に溶けた風船":i=1;break;case"歌の欠片と":i=2;break;case"未完のストーリー":i=3;break;case"みはるかす":i=4;break;case"fear":i=5}self.dispSongName.element.text="Ｎｏｗ　Ｌｏａｄｉｎｇ．．．",player.addListener({onAppReady:e=>{e.managed||player.createFromSongUrl(songConsteData.songs[i].url,{video:songConsteData.songs[i].video})},onVideoReady:e=>{let t=player.video.firstWord,i=player.video.firstChar,s=player.video.firstPhrase;switch(self.HoshiTextType){case 0:for(;i;)i.animate=animateChar,i=i.next;break;case 1:for(;t;)t.animate=animateWord,t=t.next;break;case 2:for(;s;)s.animate=animatePhrase,s=s.next}}});const animateWord=function(e,t){t.contains(e)&&(t.text==kashi||isFirstPlaying||(self.app.fire("kashi:newWord",t.text),kashi=t.text))},animateChar=function(e,t){t.contains(e)&&(t.text==kashi||isFirstPlaying||(self.app.fire("kashi:newChar",t.text),kashi=t.text))},animatePhrase=function(e,t){t.contains(e)&&(t.text==kashi||isFirstPlaying||(self.app.fire("kashi:newPhrase",t.text),kashi=t.text))};isFirstPlaying&&(setTimeout((()=>{player.requestPlay(),self.dispSongName.enabled=!1,self.app.root.fire("songStart")}),5e3),setTimeout((()=>{isFirstPlaying=!1,self.btStartStop.enabled=!0}),5300),setTimeout((()=>{const e=setInterval((()=>{self.entity.sound.volume-=.005,self.entity.sound.volume<=0&&(clearInterval(e),self.entity.sound.stop("Ririri"),self.entity.sound.stop("Select"))}),2)}),4500))})),this.app.root.on("pause",(function(){player.isPlaying?player.requestPause():player.requestPlay()}))},TextaliveClient.prototype.update=function(e){isFirstPlaying||(endMusic?this.btStartStop.setLocalScale(1,1,0):(this.beat!=player.findBeat(player.timer.position)&&(this.size=1,this.beat=player.findBeat(player.timer.position)),this.size+=5e-4,player.isPlaying?this.btStartStop.setLocalScale(this.size,this.size,0):(this.btStartStop.setLocalScale(1,1,0),this.size=1)))};// content.js
// var Content = pc.createScript('content');
// Content.attributes.add("lylic",{type:"asset"});

// // initialize code called once per entity
// Content.prototype.initialize = function() {
//     this.app.on("kashi:new",this.createKashi,this);
// };

// // update code called every frame
// Content.prototype.update = function(dt) {
//     if(player.isPlaying && this.entity.children[3]){
//         this.entity.children[3].rigidbody.enabled = true;
//     }
// };

// Content.prototype.createKashi = function(kashi) {
//     let instance = this.lylic.resource.instantiate();
//     instance.rigidbody.enabled = true;
//     instance.rigidbody.teleport(0, 6, 0 );
//     instance.script.textMesh.text = kashi;
//     this.app.root.addChild(instance);  
// };


const BEZIER_STEP_SIZE=3,EPSILON=1e-6,p=new pc.Vec2,p1=new pc.Vec2,p2=new pc.Vec2,vTemp1=new pc.Vec2,vTemp2=new pc.Vec2,vTemp3=new pc.Vec2,vTemp4=new pc.Vec2,vTemp5=new pc.Vec2,vTemp6=new pc.Vec2;class Polygon{constructor(){this.points=[],this.children=[],this.area=0}moveTo(t,e){this.points.push(new pc.Vec2(t,e))}lineTo(t,e){this.points.push(new pc.Vec2(t,e))}close(){let t=this.points[this.points.length-1];this.points.forEach((e=>{this.area+=.5*t.cross(e),t=e}))}conicTo(t,e,s,i,a=10){p.set(t,e),p1.set(s,i);const n=this.points[this.points.length-1],r=n.distance(p1)+p1.distance(p),h=Math.max(2,Math.min(a,r/3));for(let t=1;t<=h;t++){const e=t/h;vTemp1.lerp(n,p1,e),vTemp2.lerp(p1,p,e),vTemp3.lerp(vTemp1,vTemp2,e),this.points.push(vTemp3.clone())}}cubicTo(t,e,s,i,a,n,r=10){p.set(t,e),p1.set(s,i),p2.set(a,n);const h=this.points[this.points.length-1],c=h.distance(p1)+p1.distance(p2)+p2.distance(p),o=Math.max(2,Math.min(r,c/3));for(let t=1;t<=o;t++){const e=t/o;vTemp1.lerp(h,p1,e),vTemp2.lerp(p1,p2,e),vTemp3.lerp(p2,p,e),vTemp4.lerp(vTemp1,vTemp2,e),vTemp5.lerp(vTemp2,vTemp3,e),vTemp6.lerp(vTemp4,vTemp5,e),this.points.push(vTemp6.clone())}}inside(t){let e=0,s=this.points[this.points.length-1];return this.points.forEach((i=>{const a=s.y<i.y?s:i,n=s.y<i.y?i:s;a.y<t.y+EPSILON&&n.y>t.y+EPSILON&&(n.x-a.x)*(t.y-a.y)>(t.x-a.x)*(n.y-a.y)&&(e+=1),s=i})),e%2!=0}}var TextMesh=pc.createScript("textMesh");TextMesh.attributes.add("font",{type:"asset",assetType:"binary",title:"Font",description:"TTF file used as the basis for this 3D text"}),TextMesh.attributes.add("text",{type:"string",title:"Text",description:"The text string to render as a 3D mesh"}),TextMesh.attributes.add("alignment",{type:"number",enum:[{Left:0},{Center:1},{Right:2}],title:"Alignment",description:"Controls whether the text is centered or left or right justified"}),TextMesh.attributes.add("characterSize",{type:"number",default:1,title:"Character Size",description:"The world space (maximum) height of each character"}),TextMesh.attributes.add("characterSpacing",{type:"number",min:0,default:0,title:"Character Spacing",description:"Additional spacing between each character"}),TextMesh.attributes.add("kerning",{type:"number",min:0,max:1,default:1,title:"Kerning",description:"Scales character pair kerning value so 0 is no kerning and 1 is full kerning"}),TextMesh.attributes.add("depth",{type:"number",default:1,title:"Depth",description:"Depth of the extrusion applied to the text"}),TextMesh.attributes.add("maxCurveSteps",{type:"number",default:10,title:"Max Curve Steps",description:"Maximum number of divisions applied to bezier based path in a font outline"}),TextMesh.attributes.add("renderStyle",{type:"number",enum:[{Solid:0},{Wireframe:1}],title:"Render Style",description:"Controls whether the text is rendered as solid or wireframe"}),TextMesh.attributes.add("material",{type:"asset",assetType:"material",title:"Material",description:"The material to apply to the 3D text mesh"}),TextMesh.prototype.initialize=function(){pc.platform.mobile?(this.entity.model.enabled=!0,"3dlyricspace"==this.entity.parent.name&&(this.entity.enabled=!1)):(this.characters=[],this.fontData=null,this.font&&(this.fontData=opentype.parse(this.font.resource),this.createText()),this.on("attr",(function(t,e,s){e!==s&&("font"===t&&(this.font?this.fontData=opentype.parse(this.font.resource):(this.fontData=null,this.destroyCharacters())),this.fontData&&this.createText())})),"3dlyricspace"==this.entity.parent.name&&(this.entity.enabled=!1))},TextMesh.prototype.parseCommands=function(t){var e=[];t.forEach((({type:t,x:s,y:i,x1:a,y1:n,x2:r,y2:h})=>{switch(t){case"M":e.push(new Polygon),e[e.length-1].moveTo(s,i);break;case"L":e[e.length-1].moveTo(s,i);break;case"C":e[e.length-1].cubicTo(s,i,a,n,r,h,this.maxCurveSteps);break;case"Q":e[e.length-1].conicTo(s,i,a,n,this.maxCurveSteps);break;case"Z":e[e.length-1].close()}})),e.sort(((t,e)=>Math.abs(e.area)-Math.abs(t.area)));const s=[];for(let t=0;t<e.length;++t){let i=null;for(let s=t-1;s>=0;--s)if(e[s].inside(e[t].points[0])&&e[t].area*e[s].area<0){i=e[s];break}i?i.children.push(e[t]):s.push(e[t])}const i=e.reduce(((t,e)=>t+e.points.length),0),a=new Float32Array(2*i);let n=0;const r=[];s.forEach((function process(t){const e=[],s=[];t.points.forEach((({x:t,y:s})=>e.push(t,s))),t.children.forEach((t=>{t.children.forEach(process),s.push(e.length/2),t.points.forEach((({x:t,y:s})=>e.push(t,s)))})),a.set(e,2*n),earcut(e,s).forEach((t=>r.push(t+n))),n+=e.length/2}));const h=this.characterSize/this.fontData.unitsPerEm;let c=[];for(let t=0;t<a.length;t+=2)c.push(a[t]*h,a[t+1]*h,this.depth);for(let t=0;t<a.length;t+=2)c.push(a[t]*h,a[t+1]*h,0);const o=r.length;for(let t=0;t<o;t+=3)r.push(r[t+2]+n,r[t+1]+n,r[t]+n);e.forEach((t=>{for(let e=0;e<t.points.length-1;e++){let s=c.length/3,i=t.points[e],a=t.points[e+1];c.push(i.x*h,i.y*h,this.depth,a.x*h,a.y*h,this.depth,i.x*h,i.y*h,0,a.x*h,a.y*h,0),r.push(s,s+1,s+2,s+1,s+3,s+2)}}));let l=pc.calculateNormals(c,r);return{vertices:c,normals:l,indices:r}},TextMesh.prototype.calculateWidth=function(){const t=this.fontData,e=this.characterSize/t.unitsPerEm;let s=0;for(var i=0;i<this.text.length;i++){let r=this.text.charAt(i);if(s+=t.charToGlyph(r).advanceWidth*e,i<this.text.length-1){s+=this.characterSpacing;var a=t.charToGlyph(r),n=t.charToGlyph(this.text.charAt(i+1));s+=t.getKerningValue(a,n)*this.kerning*e}}return s},TextMesh.prototype.destroyCharacters=function(){this.characters.forEach((function(t){t.destroy()})),this.characters.length=0},TextMesh.prototype.createText=function(){this.destroyCharacters();const t=this.fontData,e=this.characterSize/t.unitsPerEm;var s=this.calculateWidth(),i=0;switch(this.alignment){case 0:break;case 1:i=.5*-s;break;case 2:i=-s}for(var a=this.material?this.material.resource:new pc.StandardMaterial,n=0;n<this.text.length;n++){var r=this.text.charAt(n),h=t.charToGlyph(r),c=this.parseCommands(h.path.commands);if(c.vertices.length>0){var o=this.app.graphicsDevice,l=new pc.Mesh(o);l.setPositions(c.vertices),l.setNormals(c.normals),l.setIndices(c.indices),l.update(pc.PRIMITIVE_TRIANGLES);var d=new pc.MeshInstance(l,a),m=new pc.Entity(r);m.addComponent("render",{meshInstances:[d],renderStyle:this.renderStyle}),this.entity.addChild(m),m.setLocalPosition(i,0,0),this.characters.push(m)}if(n<this.text.length-1){var u=t.charToGlyph(this.text.charAt(n+1));i+=t.getKerningValue(h,u)*this.kerning*e}i+=h.advanceWidth*e+this.characterSpacing}};var Text=pc.createScript("text");Text.prototype.initialize=function(){this.b=null,this.x=1},Text.prototype.update=function(t){this.b!=player.findBeat(player.timer.position)&&(this.x=1,this.b=player.findBeat(player.timer.position),player.isPlaying&&player.findChorus(player.timer.position)&&this.entity.rigidbody.applyImpulse(new pc.Vec3(constellation[1],2,constellation[2]))),this.x+=.02,player.isPlaying&&player.findChorus(player.timer.position)&&this.entity.setLocalScale(this.x,this.x,this.x),this.entity.getPosition().y<-5&&this.entity.destroy()};var CreateLilycs=pc.createScript("createLilycs");CreateLilycs.attributes.add("lylic",{type:"asset"}),CreateLilycs.attributes.add("constellationBoxInstance",{type:"asset"}),CreateLilycs.attributes.add("constellationData",{type:"asset",assetType:"json"});let constellationData,obj_keys,starCount=0,isFirstReady=!0;CreateLilycs.prototype.initialize=function(){this.app.on("kashi:newChar",this.createKashi,this),this.app.on("kashi:newWord",this.createKashi,this),this.app.on("kashi:newPhrase",this.createKashi,this),constellationData=this.constellationData.resource,obj_keys=randamKeys(Object.keys(constellationData))};var fr=0;CreateLilycs.prototype.update=function(t){},CreateLilycs.prototype.createKashi=function(t){let e,s,a=detect(starCount);if(e=a[0],s=a[1],0==s){let t=this.constellationBoxInstance.resource.instantiate();t.name=obj_keys[e]+"Box",this.entity.addChild(t)}let n=this.lylic.resource.instantiate();n.element.text=t,n.script.moveLilycs.constellationNum=e,n.script.moveLilycs.starNum=s,this.entity.findByPath(obj_keys[e]+"Box/"+obj_keys[e]).addChild(n),starCount+=1};let detect=function(t){for(stellerNum=0;t>constellationData[obj_keys[stellerNum%(obj_keys.length-1)]].pos.length-1;stellerNum++)t-=constellationData[obj_keys[stellerNum%(obj_keys.length-1)]].pos.length;return[stellerNum%(obj_keys.length-1),t]},getConsteInfo=function(t,e){let s;switch(typeof t){case"number":s=constellationData[obj_keys[t]][e];break;case"string":s=constellationData[t][e];break;default:s="あれぇ,丘people!?"}return s},randamKeys=function(t){let e;for(let s=0;s<t.length;s++){e=getRandomInt(0,t.length-1);let a=t[s];t[s]=t[e],t[e]=a}return t};var MoveLilycs=pc.createScript("moveLilycs");function getRandomInt(t,e){return t=Math.ceil(t),e=Math.floor(e),Math.floor(Math.random()*(e-t))+t}function magnitudeToSize(t){return t>5?5/t:3-2*t/5}MoveLilycs.attributes.add("starInstance",{type:"asset"}),MoveLilycs.attributes.add("starMaterial",{type:"asset"}),MoveLilycs.attributes.add("constellationNum",{type:"number",default:80}),MoveLilycs.attributes.add("starNum",{type:"number",default:80}),MoveLilycs.prototype.initialize=function(){this.life=30,this.decreaseFont=5;let t=this.entity.parent.tags._list,e=constellationData[obj_keys[this.constellationNum]].pos[this.starNum];if(this.starSize=e.magnitude,t.includes("constellation"))this.entity.setLocalPosition(e.x*constellationSize,e.y*constellationSize,.1);else if(t.includes("NotConstel")){let t=getRandomInt(-150,-50),e=getRandomInt(30,Math.sqrt(36100-t**2)/2);this.entity.setPosition(t,e,0),this.starSize=getRandomInt(2.5,6)}this.entity.setLocalEulerAngles(0,0,getRandomInt(-30,30)),this.decreaseSpeed=this.entity.element.fontSize/this.decreaseFont},MoveLilycs.prototype.update=function(t){if(player.isPlaying&&(this.entity.element.fontSize-=t*this.decreaseSpeed,this.entity.element.opacity-=1/this.decreaseFont*t,this.entity.element.fontSize<1)){let t=this.starInstance.resource.instantiate(),e=this.entity.getLocalPosition(),i=magnitudeToSize(this.starSize);t.setLocalPosition(e.x,e.y,e.z),t.setLocalScale(i,i,i);let n,s,a,o=t.render.material.clone();player.findChorus(player.timer.position)?(n=getRandomInt(0,200)/1e3+.75,s=getRandomInt(0,200)/1e3+.75,a=getRandomInt(0,100)/1e3+.5):(n=getRandomInt(0,200)/1e3+.7,s=getRandomInt(0,200)/1e3+.7,a=getRandomInt(0,200)/1e3+.7),o.emissive.set(n,s,a),o.update(),t.render.material=o,t.tags.add(this.entity.parent.name),this.entity.parent.addChild(t),this.entity.destroy()}};var Title=pc.createScript("title");Title.prototype.initialize=function(){},Title.prototype.update=function(t){player.isPlaying&&(this.entity.enabled=!1)};var MoveConstellation=pc.createScript("moveConstellation");MoveConstellation.attributes.add("eularAngle",{type:"number",default:80}),MoveConstellation.attributes.add("lineInstance",{type:"asset"});const constellationSize=2;let screenMaxX,screenMinX,screenMaxY,screenMinY;function inScreenInit(t,e){let[i,a,s,n]=getBox(t),h=i-a+0,o=s-n+0,l=Math.sqrt(h**2+o**2),M=Math.PI/2+Math.atan(o/h),r=(l*Math.cos(M)+Math.sqrt(l**2*Math.cos(M)**2-(l**2-4*screenMaxX**2)))/2;return M=Math.atan(h/o)-(Math.PI/2-Math.abs(e)/180*Math.PI),[r,(l*Math.cos(M)+screenMinY)/Math.sin(Math.abs(e)/180*Math.PI)]}function inScreenRevise(t,e,i,a,s){let[n,h,o,l]=getBox(t),M=n-h+0,r=o-l+0,c=Math.sqrt(M**2+r**2),v=Math.sqrt((-1*i*Math.sin(e/180*Math.PI)+a)**2+(i*Math.cos(e/180*Math.PI)+s)**2),u=Math.PI/2+Math.atan(r/M)+(Math.acos((i*Math.cos(e/180*Math.PI)+s)/v)-e/180*Math.PI);if(Math.sqrt((c/2)**2+v**2-c/2*2*v*Math.cos(u))>=screenMaxX)return!1;u=Math.PI/2-(Math.abs(e)/180*Math.PI+Math.atan(M/r));let[g,P,y,x]=createCalculateBoxAdd(t,e,i);return!(x+s<screenMinY)}function reviseMoveYMax(t,e,i,a,s,n){let h=150,o=1e3,l=(Math.sqrt(a**2+s**2),0);for(;screenMaxX-15<o;)if(h-=5,o=distanceRivisedBox(t,e,i,h,a,s,n),l++,l>40){this.isConstel=!1;break}return h}function distanceRivisedBox(t,e,i,a,s,n,h){let o=Math.sqrt(s**2+n**2),l=Math.sqrt((t+i)**2+(e+a)**2+(o/2)**2+o/2*-2*Math.sqrt((t+i)**2+(e+a)**2)*Math.cos(Math.atan(n/s)+Math.PI/2+Math.acos((e+a)/Math.sqrt((t+i)**2+(e+a)**2))+h/180*Math.PI*-1)),M=Math.sqrt((t+i)**2+(e+a)**2+(o/2)**2+o/2*-2*Math.sqrt((t+i)**2+(e+a)**2)*Math.cos(Math.atan(n/s)+Math.PI/2-Math.acos((e+a)/Math.sqrt((t+i)**2+(e+a)**2))+h/180*Math.PI*-1));return Math.max(l,M)}function createCalculateBoxAdd(t,e,i){let[a,s,n,h]=getBox(t),o=a-s+20,l=n-h+20;return[-1*Math.sin(Math.abs(e)*Math.PI/180)*i+o/2*Math.cos(Math.abs(e)*Math.PI/180)+l/2*Math.sin(Math.abs(e)*Math.PI/180),-1*Math.sin(Math.abs(e)*Math.PI/180)*i-o/2*Math.cos(Math.abs(e)*Math.PI/180)-l/2*Math.sin(Math.abs(e)*Math.PI/180),Math.cos(Math.abs(e)*Math.PI/180)*i+o/2*Math.sin(Math.abs(e)*Math.PI/180)+l/2*Math.cos(Math.abs(e)*Math.PI/180),Math.cos(Math.abs(e)*Math.PI/180)*i-o/2*Math.sin(Math.abs(e)*Math.PI/180)-l/2*Math.cos(Math.abs(e)*Math.PI/180)]}function createCalculateBoxBase(t){let[e,i,a,s]=getBox(t),n=e-i+0,h=a-s+0;return _eularAngle=t.parent.getLocalEulerAngles().z,[t.getPosition().x+n/2*Math.cos(Math.abs(_eularAngle)*Math.PI/180)+h/2*Math.sin(Math.abs(_eularAngle)*Math.PI/180),t.getPosition().x-n/2*Math.cos(Math.abs(_eularAngle)*Math.PI/180)-h/2*Math.sin(Math.abs(_eularAngle)*Math.PI/180),t.getPosition().y+n/2*Math.sin(Math.abs(_eularAngle)*Math.PI/180)+h/2*Math.cos(Math.abs(_eularAngle)*Math.PI/180),t.getPosition().y-n/2*Math.sin(Math.abs(_eularAngle)*Math.PI/180)-h/2*Math.cos(Math.abs(_eularAngle)*Math.PI/180)]}function getBox(t){let e=0,i=0,a=0,s=0,n=getConsteInfo(t.name,"pos");for(let t=0;t<n.length;t++){let h=2*n[t].x,o=2*n[t].y;h>e&&(e=h),h<i&&(i=h),o>a&&(a=o),o<s&&(s=o)}return[e,i,a,s]}function positionCheck(t,e,i,a,s,n,h,o){return!(t<n||e>s||i<o||a>h)}function isIn(t,e,i){return e<i<t}function getRandomInt(t,e){return t=Math.ceil(t),e=Math.floor(e),Math.floor(Math.random()*(e-t))+t}MoveConstellation.prototype.initialize=function(){let t=this.app.root.findByName("Camera");screenMaxX=t.getLocalPosition().x+2*t.camera.orthoHeight,screenMinX=t.getLocalPosition().x-2*t.camera.orthoHeight,screenMaxY=t.getLocalPosition().y+t.camera.orthoHeight,screenMinY=t.getLocalPosition().y-t.camera.orthoHeight+13,this.isConstel=!0;let[e,i]=inScreenInit(this.entity,this.eularAngle);this.radius=getRandomInt(e,i),e<i&&(this.isConstel=!1),this.isLine=!1,this.isConstel&&this.setupPosition(),0==this.isConstel&&(this.entity.setLocalEulerAngles(0,0,-1*this.eularAngle),this.entity.setLocalPosition(0,0,0),this.entity.tags.add("NotConstel"),this.entity.tags.remove("constellation"))},MoveConstellation.prototype.update=function(t){this.isConstel&&player.isPlaying&&0==this.isLine&&this.app.root.findByTag(["star",this.entity.name]).length==constellationData[this.entity.name].pos.length&&(this.createLine(),this.isLine=!0)},MoveConstellation.prototype.createLine=function(){for(let t=0;t<constellationData[this.entity.name].line.length;t++){this.val_x1=2*constellationData[this.entity.name].line[t].x1,this.val_x2=2*constellationData[this.entity.name].line[t].x2,this.val_y1=2*constellationData[this.entity.name].line[t].y1,this.val_y2=2*constellationData[this.entity.name].line[t].y2;let e=this.lineInstance.resource.instantiate();e.name=this.entity.name+"_line_"+t,e.setLocalScale(Math.sqrt(Math.pow(this.val_x2-this.val_x1,2)+Math.pow(this.val_y2-this.val_y1,2)),.5,0),e.setLocalPosition((this.val_x1+this.val_x2)/2,(this.val_y1+this.val_y2)/2,0),e.rotateLocal(0,0,Math.atan((this.val_y2-this.val_y1)/(this.val_x2-this.val_x1))*(180/Math.PI)),this.entity.addChild(e)}let[t,e,i,a]=getBox(this.entity);this.entity.addComponent("collision",{type:"box",halfExtents:[Math.abs(t-e)/2,Math.abs(i-a)/2,1]}),this.entity.addComponent("script"),this.entity.script.create("pulse")},MoveConstellation.prototype.setupPosition=function(){this.isCover=!0,this.xMove=6,this.yMove=6,this.reviseMoveX=0,this.reviseMoveY=0,this.reviseCount=0;let[t,e,i,a]=createCalculateBoxAdd(this.entity,this.eularAngle,this.radius),s=(t+e)/2,n=(i+a)/2,[h,o,l,M]=getBox(this.entity),r=h-o+0,c=l-M+0;this.constellationEntities=this.app.root.findByTag("constellation"),this.constellationEntities.splice(this.constellationEntities.indexOf(this.entity),1),0==this.constellationEntities.length&&(this.isCover=!1);for(let s=0;s<this.constellationEntities.length;s++){let[n,h,o,l]=createCalculateBoxBase(this.constellationEntities[s]);if(positionCheck(n,h,o,l,t,e,i,a))break;s==this.constellationEntities.length-1&&(this.isCover=!1)}for(;1==this.isCover&&1==this.isConstel&&(this.reviseMoveY-=this.yMove,0!=inScreenRevise(this.entity,this.eularAngle,this.radius,this.reviseMoveX,this.reviseMoveY)||(this.reviseMoveX-=this.xMove,distanceRivisedBox(s,n,this.reviseMoveX,this.reviseMoveY,r,c,this.eularAngle)+15>screenMaxX&&(this.reviseMoveX=0,this.xMove*=-1),this.reviseMoveY=reviseMoveYMax(s,n,this.reviseMoveX,r,c,this.eularAngle),this.reviseCount++,0!=this.isConstel));)for(let s=0;s<this.constellationEntities.length;s++){let[n,h,o,l]=createCalculateBoxBase(this.constellationEntities[s]);if(positionCheck(n,h,o,l,t+this.reviseMoveX,e+this.reviseMoveX,i+this.reviseMoveY,a+this.reviseMoveY))break;if(s==this.constellationEntities.length-1){this.isCover=!1;break}if(this.reviseCount>20){this.isCover=!1,this.isConstel=!1;break}}this.isConstel&&this.entity.setLocalPosition(0+this.reviseMoveX*Math.cos(this.eularAngle/180*Math.PI)+this.reviseMoveY*Math.sin(this.eularAngle/180*Math.PI),this.radius-this.reviseMoveX*Math.sin(this.eularAngle/180*Math.PI)+this.reviseMoveY*Math.cos(this.eularAngle/180*Math.PI),0)};var Button=pc.createScript("button");Button.attributes.add("dispSongName",{type:"entity",description:"The entity that we want to display song title"}),Button.attributes.add("dispSongJacket",{type:"entity",description:"The entity that we want to display song jacket"});let isClicked=!1;Button.prototype.initialize=function(){this.entity.button.on("hoverstart",(function(t){if(!isClicked){this.dispSongJacket._children[1].element.textureAsset=this.app.assets.find(this.entity._children[2].element.texture.name),this.entity.sound.play("Select");let t=this.entity._children[0].element._text._text;this.app.fire("hoverSong",t)}}),this),this.entity.button.on("hoverend",(function(t){isClicked||(this.dispSongJacket._children[1].element.textureAsset=this.app.assets.find("ProjectIcon.png"),this.app.fire("hoverSongEnd"))}),this),this.entity.button.on("click",(function(t){isClicked=!0;let e=this.entity._children[0].element._text._text;this.app.root.fire("selectSong",e)}),this)},Button.prototype.update=function(t){isClicked&&(this.entity.button.entity.element.useInput=!1)};var Sprite=pc.createScript("sprite");Sprite.attributes.add("textureAsset",{type:"asset",assetType:"texture",description:"The sprite texture"}),Sprite.attributes.add("pos",{type:"vec2",description:"The coordinate in pixels",placeholder:["x","y"]}),Sprite.attributes.add("size",{type:"vec2",description:"The size of sprite in pixels",placeholder:["w","h"],default:[128,128]}),Sprite.attributes.add("depth",{type:"number",description:"The z depth of the sprite compared to other sprites",default:1}),Sprite.attributes.add("uPercentage",{type:"number",description:"The horizontal texture percentage that is visible (used for progress bars)",default:1,min:0,max:1}),Sprite.attributes.add("vPercentage",{type:"number",description:"The vertical texture percentage that is visible (used for progress bars)",default:1,min:0,max:1}),Sprite.attributes.add("anchor",{type:"number",default:0,description:"The anchor of the sprite related to the screen bounds",enum:[{topLeft:0},{top:1},{topRight:2},{left:3},{center:4},{right:5},{bottomLeft:6},{bottom:7},{bottomRight:8}]}),Sprite.attributes.add("pivot",{type:"number",default:0,description:"The pivot point of the sprite",enum:[{topLeft:0},{top:1},{topRight:2},{left:3},{center:4},{right:5},{bottomLeft:6},{bottom:7},{bottomRight:8}]}),Sprite.attributes.add("tint",{type:"rgba",description:"A color that is multiplied with the current color of the sprite",default:[1,1,1,1]}),Sprite.attributes.add("maxResHeight",{type:"number",default:720,description:"The maximum resolution height of the application. Used to scale the sprite accordingly."}),Sprite.material=null,Sprite.vertexFormat=null,Sprite.resolution=new pc.Vec2,Sprite.prototype.initialize=function(){document.getElementById("application-canvas");this.userOffset=new pc.Vec2,this.offset=new pc.Vec2,this.scaling=new pc.Vec2,this.anchorOffset=new pc.Vec2,this.pivotOffset=new pc.Vec2;var e=this.app,t=e.graphicsDevice;if(!Sprite.material){var s={attributes:{aPosition:pc.SEMANTIC_POSITION,aUv0:pc.SEMANTIC_TEXCOORD0},vshader:["attribute vec2 aPosition;","attribute vec2 aUv0;","varying vec2 vUv0;","uniform vec2 uResolution;","uniform vec2 uOffset;","uniform vec2 uScale;","","void main(void)","{","    gl_Position = vec4(2.0 * ((uScale * aPosition.xy + uOffset) / uResolution ) - 1.0, -0.9, 1.0);","    vUv0 = aUv0;","}"].join("\n"),fshader:["precision "+t.precision+" float;","","varying vec2 vUv0;","","uniform vec4 vTint;","","uniform sampler2D uColorMap;","","void main(void)","{","    vec4 color = texture2D(uColorMap, vUv0);","    gl_FragColor = vec4(color.rgb * vTint.rgb, color.a * vTint.a);","}"].join("\n")},i=new pc.Shader(t,s),r=new pc.Material;r.shader=i,r.blend=!0,r.blendSrc=pc.BLENDMODE_SRC_ALPHA,r.blendDst=pc.BLENDMODE_ONE_MINUS_SRC_ALPHA,r.depthTest=!1,r.depthWrite=!1,Sprite.material=r}Sprite.vertexFormat||(Sprite.vertexFormat=new pc.VertexFormat(t,[{semantic:pc.SEMANTIC_POSITION,components:2,type:pc.ELEMENTTYPE_FLOAT32},{semantic:pc.SEMANTIC_TEXCOORD0,components:2,type:pc.ELEMENTTYPE_FLOAT32}]));var a=new pc.Mesh;a.vertexBuffer=new pc.VertexBuffer(t,Sprite.vertexFormat,6,pc.BUFFER_DYNAMIC),a.primitive[0].type=pc.PRIMITIVE_TRIANGLES,a.primitive[0].base=0,a.primitive[0].count=6,a.primitive[0].indexed=!1,this.meshInstance=new pc.MeshInstance(this.entity,a,Sprite.material),this.meshInstance.castShadow=!1,this.meshInstance.receiveShadow=!1,this.meshInstance.drawOrder=this.depth,this.texture=this.textureAsset.resource,this.updateSprite(),this.layer=e.scene.layers.getLayerById(pc.LAYERID_UI)||e.scene.layers.getLayerById(pc.LAYERID_WORLD),e.mouse.on("mousedown",this.onMouseDown,this),e.touch&&e.touch.on("touchstart",this.onTouchDown,this),this.on("state",this.onState),this.on("destroy",this.onDestroy,this),this.on("attr:depth",(function(e){this.eventsEnabled=!1,this.meshInstance.drawOrder=e})),this.on("attr:size",this.updateSprite),this.on("attr:uPercentage",this.updateSprite),this.on("attr:vPercentage",this.updateSprite),this.onState(!0)},Sprite.prototype.onMouseDown=function(e){this.eventsEnabled&&this.onClick(e)},Sprite.prototype.onTouchDown=function(e){this.eventsEnabled&&this.onClick(e.changedTouches[0])},Sprite.prototype.onClick=function(e){var t,s,i,r,a,n,o=this.app.graphicsDevice.canvas,c=this.scaling,h=this.offset;t=2*(0*c.x+h.x)/Sprite.resolution.x-1,s=2*(0*c.y+h.y)/Sprite.resolution.y-1,i=2*(c.x*this.size.x+h.x)/Sprite.resolution.x-1,r=2*(c.y*-this.size.y+h.y)/Sprite.resolution.y-1,a=2*e.x/o.offsetWidth-1,n=2*(o.offsetHeight-e.y)/o.offsetHeight-1,a>=t&&a<=i&&n<=s&&n>=r&&this.fire("click")},Sprite.prototype.updateSprite=function(){if(this.meshInstance){this.eventsEnabled=!1;var e=this.meshInstance.mesh.vertexBuffer;e.lock();this.app.graphicsDevice.canvas;var t=new pc.VertexIterator(e);t.element[pc.SEMANTIC_POSITION].set(0,-this.size.y),t.element[pc.SEMANTIC_TEXCOORD0].set(0,0),t.next(),t.element[pc.SEMANTIC_POSITION].set(this.size.x,-this.size.y),t.element[pc.SEMANTIC_TEXCOORD0].set(this.uPercentage,0),t.next(),t.element[pc.SEMANTIC_POSITION].set(0,0),t.element[pc.SEMANTIC_TEXCOORD0].set(0,this.vPercentage),t.next(),t.element[pc.SEMANTIC_POSITION].set(this.size.x,-this.size.y),t.element[pc.SEMANTIC_TEXCOORD0].set(this.uPercentage,0),t.next(),t.element[pc.SEMANTIC_POSITION].set(this.size.x,0),t.element[pc.SEMANTIC_TEXCOORD0].set(this.uPercentage,this.vPercentage),t.next(),t.element[pc.SEMANTIC_POSITION].set(0,0),t.element[pc.SEMANTIC_TEXCOORD0].set(0,this.vPercentage),e.unlock()}},Sprite.prototype.calculateOffset=function(){var e=this.app.graphicsDevice.canvas;return this.calculateAnchorOffset(),this.calculatePivotOffset(),this.offset.set(this.pos.x*this.scaling.x,this.pos.y*this.scaling.y).add(this.userOffset).add(this.anchorOffset).add(this.pivotOffset),this.offset.y+=e.offsetHeight,this.offset},Sprite.prototype.calculateScaling=function(){var e=this.app.graphicsDevice.canvas.offsetHeight/this.maxResHeight;return this.scaling.set(e,e),this.scaling},Sprite.prototype.calculateAnchorOffset=function(){var e=this.app.graphicsDevice.canvas,t=e.offsetWidth,s=e.offsetHeight;switch(this.anchor){case 0:this.anchorOffset.set(0,0);break;case 1:this.anchorOffset.set(.5*t,0);break;case 2:this.anchorOffset.set(t,0);break;case 3:this.anchorOffset.set(0,.5*-s);break;case 4:this.anchorOffset.set(.5*t,.5*-s);break;case 5:this.anchorOffset.set(t,.5*-s);break;case 6:this.anchorOffset.set(0,-s);break;case 7:this.anchorOffset.set(t/2,-s);break;case 8:this.anchorOffset.set(t,-s);break;default:console.error("Wrong anchor: "+this.anchor)}return this.anchorOffset},Sprite.prototype.calculatePivotOffset=function(){var e=this.size.x*this.scaling.x,t=this.size.y*this.scaling.y;switch(this.pivot){case 0:this.pivotOffset.set(0,0);break;case 1:this.pivotOffset.set(.5*-e,0);break;case 2:this.pivotOffset.set(-e,0);break;case 3:this.pivotOffset.set(0,.5*t);break;case 4:this.pivotOffset.set(.5*-e,.5*t);break;case 5:this.pivotOffset.set(-e,.5*t);break;case 6:this.pivotOffset.set(0,t);break;case 7:this.pivotOffset.set(-e/2,t);break;case 8:this.pivotOffset.set(-e,t);break;default:console.error("Wrong pivot: "+this.pivot)}return this.pivotOffset},Sprite.prototype.onState=function(e){this.eventsEnabled=!1,this.layer&&(e?this.layer.addMeshInstances([this.meshInstance]):this.layer.removeMeshInstances([this.meshInstance]))},Sprite.prototype.update=function(e){this.eventsEnabled=!0;var t=this.app.graphicsDevice.canvas;Sprite.resolution.set(t.offsetWidth,t.offsetHeight),this.meshInstance.setParameter("uResolution",Sprite.resolution.data),this.meshInstance.setParameter("uScale",this.calculateScaling().data),this.meshInstance.setParameter("uOffset",this.calculateOffset().data),this.meshInstance.setParameter("uColorMap",this.texture),this.meshInstance.setParameter("vTint",this.tint.data)},Sprite.prototype.onDestroy=function(){this.layer&&this.layer.removeMeshInstances([this.meshInstance])};var StartStop=pc.createScript("startStop");StartStop.attributes.add("btText",{type:"entity",description:"The entity that we want to set button text"});let clickNumber=0,endMusic=!1;StartStop.prototype.initialize=function(){this.entity.button.on("click",(function(t){endMusic&&(this.app.root.fire("replay"),endMusic=!1),clickNumber++,player.isPlaying?this.btText.element.text="PLAY":this.btText.element.text="PAUSE",this.app.root.fire("pause"),this.entity.sound.play("press")}),this)},StartStop.prototype.update=function(t){player.timer.position>=player.video.duration-100&&(endMusic=!0,this.btText.element.text="REPLAY")};var ConstellationBox=pc.createScript("constellationBox");ConstellationBox.attributes.add("constellationInstance",{type:"asset"});let rotateSpeed=-.02;ConstellationBox.prototype.initialize=function(){let t=this.entity.name.replace("Box",""),e=this.constellationInstance.resource.instantiate();e.name=t;let n=getRandomInt(50,60);e.script.moveConstellation.eularAngle=n,this.entity.addChild(e),this.entity.setLocalPosition(0,0,0),this.entity.setLocalEulerAngles(0,0,n),isFirstinit=!1},ConstellationBox.prototype.update=function(t){player.isPlaying&&this.entity.rotateLocal(0,0,rotateSpeed),this.entity.getLocalEulerAngles().z<=-160&&this.entity.destroy()};var Radio=pc.createScript("radio");let count=100,play=!1;Radio.prototype.initialize=function(){this.app.root.on("songStart",(function(){play=!0;const t=setInterval((()=>{this.entity._children.forEach((function(t,n){let o=t._children.length;t._children.forEach((function(t,n){n!=o-1&&(t.element.opacity=count/100)})),t.element.opacity=count/100})),countDown(),count<0&&(clearInterval(t),this.entity._children.forEach((function(t,n){let o=t._children.length;t._children.forEach((function(t,n){n!=o-1&&(t.enabled=!1)})),t.enabled=!1})))}),3.5)}),this)};const countDown=()=>{count--};Radio.prototype.update=function(t){};var NowTime=pc.createScript("nowTime");let miku=!1,coron=":";NowTime.prototype.initialize=function(){this.now=new Date;setInterval((()=>{coron=":"==coron?" ":":",this.entity.element.text=this.tHour+coron+this.tMin,miku="39"==this.tMin}),500)},NowTime.prototype.update=function(t){this.now=new Date,this.tYear=this.now.getFullYear(),this.tMonth=this.now.getMonth()+1,this.tDate=this.now.getDate(),this.tHour=this.now.getHours(),this.tMin=this.now.getMinutes(),this.tSec=this.now.getSeconds(),this.tMillisec=this.now.getMilliseconds(),this.tHour<10&&(this.tHour="0"+String(this.tHour)),this.tMin<10&&(this.tMin="0"+String(this.tMin))};var Lcd1=pc.createScript("lcd1");const dispText=["♪ＬｏａｄｉｎｇＭｅｍｏｒｉｅｓ／セキコミゴハンｆｅａｔ．ハツネミク（４：１７）　","♪アオニトケタフウセン／シアン・キノｆｅａｔ．ハツネミク（３：４９）　","♪ウタノカケラト／ＩＭＯｆｅａｔ．ＭＥＩＫＯ（４：００）　","♪ミカンノストーリー／カガｆｅａｔ．ハツネミク（３：３８）　","♪ミハルカス／ｃａｔ　ｎａｐ　ｆｅａｔ．ハツネミク（３：２８）　","♪ｆｅａｒ／２０１ｆｅａｔ．ハツネミク（３：０４）　"];let timerID=null,shiftLeft=null;Lcd1.prototype.initialize=function(){this.app.on("hoverSong",(function(t){let e="";switch(t){case"Loading Memories":default:e=dispText[0];break;case"青に溶けた風船":e=dispText[1];break;case"歌の欠片と":e=dispText[2];break;case"未完のストーリー":e=dispText[3];break;case"みはるかす":e=dispText[4];break;case"fear":e=dispText[5]}this.entity.element.text=e.substring(0,16);let i=1;timerID=setTimeout((()=>{shiftLeft=setInterval((()=>{if("　Ｎｏｗ　Ｌｏａｄｉｎｇ．．．　"==this.entity.element.text)clearTimeout(timerID),clearInterval(shiftLeft);else{let t=e.substring(i,i+16);if(""==t)this.entity.element.text==e.substring(0,16)?clearInterval(shiftLeft):this.entity.element.text=e.substring(0,16);else{for(;t.length<16;)t+="　";this.entity.element.text=t,i++}}}),300)}),1e3)}),this),this.app.on("hoverSongEnd",(function(){clearInterval(shiftLeft),clearTimeout(timerID),this.entity.element.text="　　Ｓｅｌｅｃｔ　Ｓｏｎｇ　　　"}),this)},Lcd1.prototype.update=function(t){};var PlayTime=pc.createScript("playTime");this.minute=0,this.second=0,PlayTime.prototype.initialize=function(){this.app.root.on("songStart",(function(){setInterval((()=>{this.minute=~~(player.timer.position/6e4),this.second=~~(player.timer.position/1e3%60),this.minute<10&&(this.minute="0"+String(this.minute)),this.second<10&&(this.second="0"+String(this.second)),this.entity.element.text=this.minute+coron+this.second}),500)}),this)},PlayTime.prototype.update=function(t){};var MoveBackground=pc.createScript("moveBackground");this.player_ga_aru=!1,MoveBackground.prototype.initialize=function(){this.app.root.on("songStart",(function(){this.player_ga_aru=!0}),this)},MoveBackground.prototype.update=function(t){this.player_ga_aru&&player.isPlaying&&this.entity.rotateLocal(0,0,rotateSpeed)};var PickerRaycast=pc.createScript("pickerRaycast");PickerRaycast.prototype.initialize=function(){this.app.mouse.on(pc.EVENT_MOUSEMOVE,this.onSelect,this),this.on("destroy",(function(){this.app.mouse.off(pc.EVENT_MOUSEMOVE,this.onSelect,this)}),this)};let pickedEntity=null;PickerRaycast.prototype.onSelect=function(t){var i=this.entity.camera.screenToWorld(t.x,t.y,this.entity.camera.nearClip),e=this.entity.camera.screenToWorld(t.x,t.y,this.entity.camera.farClip),c=this.app.systems.rigidbody.raycastFirst(i,e);c&&pickedEntity!=c.entity?(pickedEntity=c.entity,pickedEntity.script.pulse.hoverOn(t.x,t.y)):c&&pickedEntity==c.entity?pickedEntity.script.pulse.hoverMove(t.x,t.y):c||null==pickedEntity||(pickedEntity.script.pulse.hoverEnd(t.x,t.y),pickedEntity=null)};var Ribbon=pc.createScript("ribbon");Ribbon.attributes.add("lifetime",{type:"number",default:.5}),Ribbon.attributes.add("xoffset",{type:"number",default:-.8}),Ribbon.attributes.add("yoffset",{type:"number",default:1}),Ribbon.attributes.add("height",{type:"number",default:.1});var MAX_VERTICES=600,VERTEX_SIZE=4;Ribbon.prototype.initialize=function(){var e={attributes:{aPositionAge:pc.SEMANTIC_POSITION},vshader:["attribute vec4 aPositionAge;","","uniform mat4 matrix_viewProjection;","uniform float trail_time;","","varying float vAge;","","void main(void)","{","    vAge = trail_time - aPositionAge.w;","    gl_Position = matrix_viewProjection * vec4(aPositionAge.xyz, 1.0);","}"].join("\n"),fshader:["precision mediump float;","","varying float vAge;","","uniform float trail_lifetime;","","vec3 rainbow(float x)","{","float level = floor(x * 6.0);","float r = float(level <= 2.0) + float(level > 4.0) * 0.5;","float g = max(1.0 - abs(level - 2.0) * 0.5, 0.0);","float b = (1.0 - (level - 4.0) * 0.5) * float(level >= 4.0);","return vec3(255, 255, 255);","}","void main(void)","{","    gl_FragColor = vec4(rainbow(vAge / trail_lifetime), (1.0 - (vAge / trail_lifetime)) * 0.5);","}"].join("\n")},t=new pc.Shader(this.app.graphicsDevice,e);this.material=new pc.Material,this.material.shader=t,this.material.setParameter("trail_time",0),this.material.setParameter("trail_lifetime",this.lifetime),this.material.cull=pc.CULLFACE_NONE,this.material.blend=!0,this.material.blendSrc=pc.BLENDMODE_SRC_ALPHA,this.material.blendDst=pc.BLENDMODE_ONE_MINUS_SRC_ALPHA,this.material.blendEquation=pc.BLENDEQUATION_ADD,this.material.depthWrite=!1,this.timer=0,this.vertices=[],this.vertexData=new Float32Array(MAX_VERTICES*VERTEX_SIZE),this.vertexIndexArray=[];for(var i=0;i<this.vertexData.length;++i)this.vertexIndexArray.push(i);this.mesh=new pc.Mesh(this.app.graphicsDevice),this.mesh.clear(!0,!1),this.mesh.setPositions(this.vertexData,VERTEX_SIZE,MAX_VERTICES),this.mesh.setIndices(this.vertexIndexArray,MAX_VERTICES),this.mesh.update(pc.PRIMITIVE_TRISTRIP);var a=new pc.MeshInstance(this.mesh,this.material);this.entity.addComponent("render",{meshInstances:[a],layers:[this.app.scene.layers.getLayerByName("World").id]}),this.entity.render.enabled=!1},Ribbon.prototype.reset=function(){this.timer=0,this.vertices=[]},Ribbon.prototype.spawnNewVertices=function(){var e=this.entity,t=e.getPosition(),i=e.up.clone().scale(this.height),a=this.xoffset,r=this.yoffset,s=this.timer,h=[t.x+i.x*a,t.y+i.y*a,t.z+i.z*a,t.x+i.x*r,t.y+i.y*r,t.z+i.z*r];this.vertices.unshift({spawnTime:s,vertexPair:h})},Ribbon.prototype.clearOldVertices=function(){for(var e=this.vertices.length-1;e>=0;e--){var t=this.vertices[e];if(!(this.timer-t.spawnTime>=this.lifetime))break;this.vertices.pop()}},Ribbon.prototype.prepareVertexData=function(){for(var e=0;e<this.vertices.length;e++){var t=this.vertices[e];if(this.vertexData[8*e+0]=t.vertexPair[0],this.vertexData[8*e+1]=t.vertexPair[1],this.vertexData[8*e+2]=t.vertexPair[2],this.vertexData[8*e+3]=t.spawnTime,this.vertexData[8*e+4]=t.vertexPair[3],this.vertexData[8*e+5]=t.vertexPair[4],this.vertexData[8*e+6]=t.vertexPair[5],this.vertexData[8*e+7]=t.spawnTime,this.vertexData.length===e)break}},Ribbon.prototype.update=function(e){if(this.timer+=e,this.material.setParameter("trail_time",this.timer),this.clearOldVertices(),this.spawnNewVertices(),this.vertices.length>1){this.prepareVertexData();var t=2*this.vertices.length,i=MAX_VERTICES;t<i&&(i=t),this.mesh.setPositions(this.vertexData,VERTEX_SIZE,i),this.mesh.setIndices(this.vertexIndexArray,i),this.mesh.update(pc.PRIMITIVE_TRISTRIP),this.entity.render.enabled=!0}};var Pulse=pc.createScript("pulse");Pulse.prototype.initialize=function(){},Pulse.prototype.hoverOn=function(e,t){if("imMiku"===this.entity.name)console.log("きゃっ！？");this.app.root.fire("mouse:hover",this.entity.name,e,t)},Pulse.prototype.hoverMove=function(e,t){this.app.root.fire("mouse:move",this.entity.name,e,t)},Pulse.prototype.hoverEnd=function(e,t){this.app.root.fire("mouse:end",this.entity.name,e,t)},Pulse.prototype.update=function(e){};var ChangeBackground=pc.createScript("changeBackground");let ImBackGroundImNight,ImBackGroundImMorning,imMiku,rM,gM,bM,imGrass,rG,gG,bG,finTime=.999,city=100;ChangeBackground.prototype.initialize=function(){ImBackGroundImNight=this.app.root.findByName("ImBackGroundNight"),ImBackGroundImMorning=this.app.root.findByName("ImBackGroundMorning"),imMiku=this.app.root.findByName("imMiku"),imGrass=this.app.root.findByName("imGrass"),[rM,gM,bM]=[imMiku.element.color.r,imMiku.element.color.g,imMiku.element.color.b],[rG,gG,bG]=[imGrass.element.color.r,imGrass.element.color.g,imGrass.element.color.b],this.app.root.on("songStart",(function(i){play=!0}),this),this.app.root.on("replay",(function(i){const e=setInterval((()=>{this.entity._children.forEach((function(i,e){ImBackGroundImMorning.element.opacity=city/100,ImBackGroundImNight.element.opacity=1-city/100,imMiku.element.color={r:rM*(1-city/100),g:gM*(1-city/100),b:bM*(1-city/100),a:1},imGrass.element.color={r:rG*(1-city/100),g:gG*(1-city/100),b:bG*(1-city/100),a:1},city--})),city<0&&clearInterval(e)}),3.5)}),this)},ChangeBackground.prototype.update=function(i){if(play&&player.timer.position>player.video.endTime){let i=1-(player.video.duration-player.timer.position)/(player.video.duration-player.video.endTime);ImBackGroundImMorning.element.opacity=i,ImBackGroundImNight.element.opacity=1-i,imMiku.element.color={r:rM+(1-rM)*i,g:gM+(1-gM)*i,b:bM+(1-bM)*i,a:1},imGrass.element.color={r:rG+(1-rG)*i,g:gG+(1-gG)*i,b:bG+(1-bG)*i,a:1}}};var Hoverseiza=pc.createScript("hoverseiza");Hoverseiza.attributes.add("projectName",{type:"entity",description:"The entity that we want to display Boo"}),eggplayText=["惑星の公転なんて ここから見れば微小量","流れ星が 流れている"],eggstopText=["Thank you for playing!! by A.M. & K.R.","遍く星々、其の全てが目も眩む様な輝かしい思ひ出。"],sabiplayText=["絢爛な星々が彩る夜空","星光の矢 胸を射す"],sabistopText=["一人だけの秘密の夜","余韻嫋々"],normalplayText=["これは星座の物語．．．","きれいだな～"],normalstopText=["あっ 流れ星！","一人だけの秘密の夜"],endMusicText=["オハヨーハヨー","泡沫夢幻"];let opa=0;Hoverseiza.prototype.initialize=function(){this.app.root.on("mouse:hover",(function(e,t,i){switch(e){case"imMiku":endMusic?this.entity._children[0].element.text=endMusicText[Math.floor(Math.random()*eggplayText.length)]:play&&(player.timer.position>=player.video.duration-1e4?player.isPlaying?this.entity._children[0].element.text=eggplayText[Math.floor(Math.random()*eggplayText.length)]:player.isPlaying||(this.entity._children[0].element.text=eggstopText[Math.floor(Math.random()*eggstopText.length)]):player.isPlaying&&player.findChorus(player.timer.position)?this.entity._children[0].element.text=sabiplayText[Math.floor(Math.random()*sabiplayText.length)]:!player.isPlaying&&player.findChorus(player.timer.position)?this.entity._children[0].element.text=sabistopText[Math.floor(Math.random()*sabistopText.length)]:player.isPlaying&&!player.findChorus(player.timer.position)?this.entity._children[0].element.text=normalplayText[Math.floor(Math.random()*normalplayText.length)]:player.isPlaying||player.findChorus(player.timer.position)||(this.entity._children[0].element.text=normalstopText[Math.floor(Math.random()*normalstopText.length)]));break;case"Boo":endMusic||(this.projectName.element.color=new pc.Color(1,0,0),this.entity._children[0].element.text=getConsteInfo(e,"japanese")+"!");break;default:endMusic||(this.entity._children[0].element.text=getConsteInfo(e,"japanese"))}if(!endMusic||"imMiku"==e){opa=0;const e=setInterval((()=>{this.entity.element.opacity=opa/100,this.entity._children[0].element.opacity=opa/100,opa++,opa>=70&&clearInterval(e)}),3.5)}}),this),this.app.root.on("mouse:end",(function(e,t,i){if("imMiku"===e){opa=70;const e=setInterval((()=>{this.entity.element.opacity=opa/100,this.entity._children[0].element.opacity=opa/100,opa--,opa<=0&&clearInterval(e)}),3.5)}else if(!endMusic){opa=70;const e=setInterval((()=>{this.entity.element.opacity=opa/100,this.entity._children[0].element.opacity=opa/100,opa--,opa<=0&&clearInterval(e)}),3.5)}}),this)},Hoverseiza.prototype.update=function(e){};var MikuLcd=pc.createScript("mikuLcd");MikuLcd.prototype.initialize=function(){};let radioMikuEnable=!1;MikuLcd.prototype.update=function(i){miku?(radioMikuEnable=!0,this.entity.element.opacity=.5):this.entity.element.opacity=0};var MoveMetier=pc.createScript("moveMetier");this.vel=0,MoveMetier.prototype.initialize=function(t){this.vel=0,this.lifeTime=getRandomInt(2,5),this.speed=this.lifeTime*getRandomInt(5,10),this.tangent=getRandomInt(10,200)/100,this.entity.setLocalPosition(getRandomInt(-50,150),getRandomInt(100,200),0),ribbonInstance=this.entity.findByName("Ribbon"),ribbonInstance.script.ribbon.lifetime=getRandomInt(10,200)/100},MoveMetier.prototype.update=function(t){this.vel+=t,this.lifeTime-=t,this.entity.translate(-1*this.speed*this.vel*this.tangent,-1*this.speed*this.vel,0),this.lifeTime<0&&this.entity.destroy()};var MoveMiku=pc.createScript("moveMiku");let tanSpeed=-.1,isMiku=!1;MoveMiku.prototype.initialize=function(){},MoveMiku.prototype.update=function(e){radioMikuEnable&&(this.entity.rotateLocal(0,0,tanSpeed),Math.abs(this.entity.getLocalEulerAngles().z)>5&&(tanSpeed*=-1))};var CreateMetier=pc.createScript("createMetier");CreateMetier.attributes.add("metier",{type:"asset"}),CreateMetier.prototype.initialize=function(){this.time=0,this.app.root.on("songStart",(function(e){play=!0}),this)},CreateMetier.prototype.update=function(e){if(play&&player.isPlaying){if(player.mediaPosition/player.video.endTime<.95&&(null==player.findChorus(player.timer.position)?this.freq=5:this.freq=1,clickNumber>=100&&(this.freq*=.001),this.time+=e*getRandomInt(50,150)/100,this.time>this.freq)){this.time=0;let e=this.metier.resource.instantiate();this.entity.addChild(e)}}};var HideShadow=pc.createScript("hideShadow");HideShadow.prototype.initialize=function(){this.app.on("hoverSong",(function(t){this.entity.element.opacity=.3}),this),this.app.on("hoverSongEnd",(function(t){this.entity.element.opacity=0}),this)},HideShadow.prototype.update=function(t){};